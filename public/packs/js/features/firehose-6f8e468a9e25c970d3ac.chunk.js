(window.webpackJsonp=window.webpackJsonp||[]).push([[460],{1102:function(e,t,a){"use strict";a.r(t);var i=a(0),o=a(2),c=a(7),l=a(19),s=a(80),n=a(82),d=a(1076),b=a(137),m=a(38),r=a(244),u=a(21),O=a(1085),j=a(5),p=a(52),y=a(149),h=a(240),f=a(1086),g=a(1087),M=a(4);const v=Object(c.d)({title:{id:"column.firehose",defaultMessage:"Live feeds"}}),w=()=>{const e=Object(p.b)(),t=Object(p.c)((e=>e.getIn(["settings","firehose"]))),a=Object(o.useCallback)(((t,a)=>e(Object(m.c)(["firehose",...t],a))),[e]);return Object(i.a)("div",{},void 0,Object(i.a)("div",{className:"column-settings__row"},void 0,Object(i.a)(f.a,{settings:t,settingPath:["onlyMedia"],onChange:a,label:Object(i.a)(l.a,{id:"community.column_settings.media_only",defaultMessage:"Media only"})})))};t.default=e=>{let{feedType:t,multiColumn:a}=e;const c=Object(p.b)(),m=Object(s.a)(),{signedIn:f}={signedIn:!!j.d.meta.me,accountId:j.d.meta.me,disabledAccountId:j.d.meta.disabled_account_id,accessToken:j.d.meta.access_token,permissions:j.d.role?j.d.role.permissions:0},_=Object(o.useRef)(null),k=Object(p.c)((e=>e.getIn(["settings","firehose","onlyMedia"],!1))),I=Object(p.c)((e=>e.getIn(["timelines",`${t}${k?":media":""}`,"unread"],0)>0)),T=Object(o.useCallback)((()=>{switch(t){case"community":c(Object(b.e)("COMMUNITY",{other:{onlyMedia:k}}));break;case"public":c(Object(b.e)("PUBLIC",{other:{onlyMedia:k}}));break;case"public:remote":c(Object(b.e)("REMOTE",{other:{onlyMedia:k,onlyRemote:!0}}))}}),[c,k,t]),C=Object(o.useCallback)((e=>{switch(t){case"community":c(Object(u.s)({maxId:e,onlyMedia:k}));break;case"public":c(Object(u.w)({maxId:e,onlyMedia:k}));break;case"public:remote":c(Object(u.w)({maxId:e,onlyMedia:k,onlyRemote:!0}))}}),[c,k,t]),x=Object(o.useCallback)((()=>{var e;return null==(e=_.current)?void 0:e.scrollTop()}),[]);Object(o.useEffect)((()=>{let e;switch(t){case"community":c(Object(u.s)({onlyMedia:k})),f&&(e=c(Object(r.a)({onlyMedia:k})));break;case"public":c(Object(u.w)({onlyMedia:k})),f&&(e=c(Object(r.e)({onlyMedia:k})));break;case"public:remote":c(Object(u.w)({onlyMedia:k,onlyRemote:!0})),f&&(e=c(Object(r.e)({onlyMedia:k,onlyRemote:!0})))}return()=>null==e?void 0:e()}),[c,f,t,k]);const N="community"===t?Object(i.a)(O.a,{id:"community_timeline"},void 0,Object(i.a)(l.a,{id:"dismissable_banner.community_timeline",defaultMessage:"These are the most recent public posts from people whose accounts are hosted by {domain}.",values:{domain:j.i}})):Object(i.a)(O.a,{id:"public_timeline"},void 0,Object(i.a)(l.a,{id:"dismissable_banner.public_timeline",defaultMessage:"These are the most recent public posts from people on the social web that people on {domain} follow.",values:{domain:j.i}})),R="community"===t?Object(i.a)(l.a,{id:"empty_column.community",defaultMessage:"The local timeline is empty. Write something publicly to get the ball rolling!"}):Object(i.a)(l.a,{id:"empty_column.public",defaultMessage:"There is nothing here! Write something publicly, or manually follow users from other servers to fill it up"});return Object(M.jsxs)(y.a,{bindToDocument:!a,ref:_,label:m.formatMessage(v.title),children:[Object(i.a)(h.a,{icon:"globe",active:I,title:m.formatMessage(v.title),onPin:T,onClick:x,multiColumn:a},void 0,Object(i.a)(w,{})),Object(i.a)("div",{className:"account__section-headline"},void 0,Object(i.a)(d.a,{exact:!0,to:"/public/local"},void 0,Object(i.a)(l.a,{tagName:"div",id:"firehose.local",defaultMessage:"This server"})),Object(i.a)(d.a,{exact:!0,to:"/public/remote"},void 0,Object(i.a)(l.a,{tagName:"div",id:"firehose.remote",defaultMessage:"Other servers"})),Object(i.a)(d.a,{exact:!0,to:"/public"},void 0,Object(i.a)(l.a,{tagName:"div",id:"firehose.all",defaultMessage:"All"}))),Object(i.a)(g.a,{prepend:N,timelineId:`${t}${k?":media":""}`,onLoadMore:C,trackScroll:!0,scrollKey:"firehose",emptyMessage:R,bindToDocument:!a}),Object(i.a)(n.a,{},void 0,Object(i.a)("title",{},void 0,m.formatMessage(v.title)),Object(i.a)("meta",{name:"robots",content:"noindex"}))]})}}}]);
//# sourceMappingURL=firehose-6f8e468a9e25c970d3ac.chunk.js.map