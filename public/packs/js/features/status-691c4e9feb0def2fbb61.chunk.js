(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["features/status"],{

/***/ "./app/javascript/mastodon/components/edited_timestamp/containers/dropdown_menu_container.js":
/*!***************************************************************************************************!*\
  !*** ./app/javascript/mastodon/components/edited_timestamp/containers/dropdown_menu_container.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var mastodon_actions_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mastodon/actions/dropdown_menu */ \"./app/javascript/mastodon/actions/dropdown_menu.js\");\n/* harmony import */ var mastodon_actions_history__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mastodon/actions/history */ \"./app/javascript/mastodon/actions/history.js\");\n/* harmony import */ var mastodon_components_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mastodon/components/dropdown_menu */ \"./app/javascript/mastodon/components/dropdown_menu.jsx\");\n\n\n\n\nvar mapStateToProps = (state, _ref) => {\n  var {\n    statusId\n  } = _ref;\n  return {\n    openDropdownId: state.getIn(['dropdown_menu', 'openId']),\n    openedViaKeyboard: state.getIn(['dropdown_menu', 'keyboard']),\n    items: state.getIn(['history', statusId, 'items']),\n    loading: state.getIn(['history', statusId, 'loading'])\n  };\n};\nvar mapDispatchToProps = (dispatch, _ref2) => {\n  var {\n    statusId\n  } = _ref2;\n  return {\n    onOpen(id, onItemClick, keyboard) {\n      dispatch(Object(mastodon_actions_history__WEBPACK_IMPORTED_MODULE_2__[\"fetchHistory\"])(statusId));\n      dispatch(Object(mastodon_actions_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__[\"openDropdownMenu\"])(id, keyboard));\n    },\n    onClose(id) {\n      dispatch(Object(mastodon_actions_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__[\"closeDropdownMenu\"])(id));\n    }\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(mapStateToProps, mapDispatchToProps)(mastodon_components_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9jb21wb25lbnRzL2VkaXRlZF90aW1lc3RhbXAvY29udGFpbmVycy9kcm9wZG93bl9tZW51X2NvbnRhaW5lci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2FwcC9qYXZhc2NyaXB0L21hc3RvZG9uL2NvbXBvbmVudHMvZWRpdGVkX3RpbWVzdGFtcC9jb250YWluZXJzL2Ryb3Bkb3duX21lbnVfY29udGFpbmVyLmpzPzY4MzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcblxuaW1wb3J0IHsgb3BlbkRyb3Bkb3duTWVudSwgY2xvc2VEcm9wZG93bk1lbnUgfSBmcm9tICdtYXN0b2Rvbi9hY3Rpb25zL2Ryb3Bkb3duX21lbnUnO1xuaW1wb3J0IHsgZmV0Y2hIaXN0b3J5IH0gZnJvbSAnbWFzdG9kb24vYWN0aW9ucy9oaXN0b3J5JztcbmltcG9ydCBEcm9wZG93bk1lbnUgZnJvbSAnbWFzdG9kb24vY29tcG9uZW50cy9kcm9wZG93bl9tZW51JztcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlLCB7IHN0YXR1c0lkIH0pID0+ICh7XG4gIG9wZW5Ecm9wZG93bklkOiBzdGF0ZS5nZXRJbihbJ2Ryb3Bkb3duX21lbnUnLCAnb3BlbklkJ10pLFxuICBvcGVuZWRWaWFLZXlib2FyZDogc3RhdGUuZ2V0SW4oWydkcm9wZG93bl9tZW51JywgJ2tleWJvYXJkJ10pLFxuICBpdGVtczogc3RhdGUuZ2V0SW4oWydoaXN0b3J5Jywgc3RhdHVzSWQsICdpdGVtcyddKSxcbiAgbG9hZGluZzogc3RhdGUuZ2V0SW4oWydoaXN0b3J5Jywgc3RhdHVzSWQsICdsb2FkaW5nJ10pLFxufSk7XG5cbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaCwgeyBzdGF0dXNJZCB9KSA9PiAoe1xuXG4gIG9uT3BlbiAoaWQsIG9uSXRlbUNsaWNrLCBrZXlib2FyZCkge1xuICAgIGRpc3BhdGNoKGZldGNoSGlzdG9yeShzdGF0dXNJZCkpO1xuICAgIGRpc3BhdGNoKG9wZW5Ecm9wZG93bk1lbnUoaWQsIGtleWJvYXJkKSk7XG4gIH0sXG5cbiAgb25DbG9zZSAoaWQpIHtcbiAgICBkaXNwYXRjaChjbG9zZURyb3Bkb3duTWVudShpZCkpO1xuICB9LFxuXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoRHJvcGRvd25NZW51KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/components/edited_timestamp/containers/dropdown_menu_container.js\n");

/***/ }),

/***/ "./app/javascript/mastodon/components/edited_timestamp/index.jsx":
/*!***********************************************************************!*\
  !*** ./app/javascript/mastodon/components/edited_timestamp/index.jsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var mastodon_actions_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mastodon/actions/modal */ \"./app/javascript/mastodon/actions/modal.ts\");\n/* harmony import */ var mastodon_components_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mastodon/components/icon */ \"./app/javascript/mastodon/components/icon.tsx\");\n/* harmony import */ var mastodon_components_inline_account__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mastodon/components/inline_account */ \"./app/javascript/mastodon/components/inline_account.jsx\");\n/* harmony import */ var mastodon_components_relative_timestamp__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! mastodon/components/relative_timestamp */ \"./app/javascript/mastodon/components/relative_timestamp.tsx\");\n/* harmony import */ var _containers_dropdown_menu_container__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./containers/dropdown_menu_container */ \"./app/javascript/mastodon/components/edited_timestamp/containers/dropdown_menu_container.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__);\nvar _jsxFileName = \"/home/sleepybear/workspace/mastodon-sleepybear/app/javascript/mastodon/components/edited_timestamp/index.jsx\";\n\n\n\n\n\n\n\n\n\n\nvar mapDispatchToProps = (dispatch, _ref) => {\n  var {\n    statusId\n  } = _ref;\n  return {\n    onItemClick(index) {\n      dispatch(Object(mastodon_actions_modal__WEBPACK_IMPORTED_MODULE_4__[\"openModal\"])({\n        modalType: 'COMPARE_HISTORY',\n        modalProps: {\n          index,\n          statusId\n        }\n      }));\n    }\n  };\n};\nclass EditedTimestamp extends react__WEBPACK_IMPORTED_MODULE_1__[\"PureComponent\"] {\n  constructor() {\n    super(...arguments);\n    this.handleItemClick = (item, i) => {\n      var {\n        onItemClick\n      } = this.props;\n      onItemClick(i);\n    };\n    this.renderHeader = items => {\n      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"FormattedMessage\"], {\n        id: \"status.edited_x_times\",\n        defaultMessage: \"Edited {count, plural, one {# time} other {# times}}\",\n        values: {\n          count: items.size - 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this);\n    };\n    this.renderItem = (item, index, _ref2) => {\n      var {\n        onClick,\n        onKeyPress\n      } = _ref2;\n      var formattedDate = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(mastodon_components_relative_timestamp__WEBPACK_IMPORTED_MODULE_7__[\"RelativeTimestamp\"], {\n        timestamp: item.get('created_at'),\n        short: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 27\n      }, this);\n      var formattedName = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(mastodon_components_inline_account__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        accountId: item.get('account')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 27\n      }, this);\n      var label = item.get('original') ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"FormattedMessage\"], {\n        id: \"status.history.created\",\n        defaultMessage: \"{name} created {date}\",\n        values: {\n          name: formattedName,\n          date: formattedDate\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"FormattedMessage\"], {\n        id: \"status.history.edited\",\n        defaultMessage: \"{name} edited {date}\",\n        values: {\n          name: formattedName,\n          date: formattedDate\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this);\n      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(\"li\", {\n        className: \"dropdown-menu__item edited-timestamp__history__item\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(\"button\", {\n          \"data-index\": index,\n          onClick: onClick,\n          onKeyPress: onKeyPress,\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this)\n      }, item.get('created_at'), false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this);\n    };\n  }\n  render() {\n    var {\n      timestamp,\n      intl,\n      statusId\n    } = this.props;\n    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(_containers_dropdown_menu_container__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      statusId: statusId,\n      renderItem: this.renderItem,\n      scrollable: true,\n      renderHeader: this.renderHeader,\n      onItemClick: this.handleItemClick,\n      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(\"button\", {\n        className: \"dropdown-menu__text-button\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"FormattedMessage\"], {\n          id: \"status.edited\",\n          defaultMessage: \"Edited {date}\",\n          values: {\n            date: intl.formatDate(timestamp, {\n              hour12: false,\n              month: 'short',\n              day: '2-digit',\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_5__[\"Icon\"], {\n          id: \"caret-down\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 215\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n}\nEditedTimestamp.propTypes = {\n  statusId: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  timestamp: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  intl: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired,\n  onItemClick: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[\"connect\"])(null, mapDispatchToProps)(Object(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"injectIntl\"])(EditedTimestamp)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9jb21wb25lbnRzL2VkaXRlZF90aW1lc3RhbXAvaW5kZXguanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBwL2phdmFzY3JpcHQvbWFzdG9kb24vY29tcG9uZW50cy9lZGl0ZWRfdGltZXN0YW1wL2luZGV4LmpzeD83MjM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlLCBpbmplY3RJbnRsIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbmltcG9ydCB7IG9wZW5Nb2RhbCB9IGZyb20gJ21hc3RvZG9uL2FjdGlvbnMvbW9kYWwnO1xuaW1wb3J0IHsgSWNvbiB9ICBmcm9tICdtYXN0b2Rvbi9jb21wb25lbnRzL2ljb24nO1xuaW1wb3J0IElubGluZUFjY291bnQgZnJvbSAnbWFzdG9kb24vY29tcG9uZW50cy9pbmxpbmVfYWNjb3VudCc7XG5pbXBvcnQgeyBSZWxhdGl2ZVRpbWVzdGFtcCB9IGZyb20gJ21hc3RvZG9uL2NvbXBvbmVudHMvcmVsYXRpdmVfdGltZXN0YW1wJztcblxuaW1wb3J0IERyb3Bkb3duTWVudSBmcm9tICcuL2NvbnRhaW5lcnMvZHJvcGRvd25fbWVudV9jb250YWluZXInO1xuXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gsIHsgc3RhdHVzSWQgfSkgPT4gKHtcblxuICBvbkl0ZW1DbGljayAoaW5kZXgpIHtcbiAgICBkaXNwYXRjaChvcGVuTW9kYWwoe1xuICAgICAgbW9kYWxUeXBlOiAnQ09NUEFSRV9ISVNUT1JZJyxcbiAgICAgIG1vZGFsUHJvcHM6IHsgaW5kZXgsIHN0YXR1c0lkIH0sXG4gICAgfSkpO1xuICB9LFxuXG59KTtcblxuY2xhc3MgRWRpdGVkVGltZXN0YW1wIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBzdGF0dXNJZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHRpbWVzdGFtcDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGludGw6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkl0ZW1DbGljazogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfTtcblxuICBoYW5kbGVJdGVtQ2xpY2sgPSAoaXRlbSwgaSkgPT4ge1xuICAgIGNvbnN0IHsgb25JdGVtQ2xpY2sgfSA9IHRoaXMucHJvcHM7XG4gICAgb25JdGVtQ2xpY2soaSk7XG4gIH07XG5cbiAgcmVuZGVySGVhZGVyID0gaXRlbXMgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD0nc3RhdHVzLmVkaXRlZF94X3RpbWVzJyBkZWZhdWx0TWVzc2FnZT0nRWRpdGVkIHtjb3VudCwgcGx1cmFsLCBvbmUgeyMgdGltZX0gb3RoZXIgeyMgdGltZXN9fScgdmFsdWVzPXt7IGNvdW50OiBpdGVtcy5zaXplIC0gMSB9fSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVySXRlbSA9IChpdGVtLCBpbmRleCwgeyBvbkNsaWNrLCBvbktleVByZXNzIH0pID0+IHtcbiAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gPFJlbGF0aXZlVGltZXN0YW1wIHRpbWVzdGFtcD17aXRlbS5nZXQoJ2NyZWF0ZWRfYXQnKX0gc2hvcnQ9e2ZhbHNlfSAvPjtcbiAgICBjb25zdCBmb3JtYXR0ZWROYW1lID0gPElubGluZUFjY291bnQgYWNjb3VudElkPXtpdGVtLmdldCgnYWNjb3VudCcpfSAvPjtcblxuICAgIGNvbnN0IGxhYmVsID0gaXRlbS5nZXQoJ29yaWdpbmFsJykgPyAoXG4gICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD0nc3RhdHVzLmhpc3RvcnkuY3JlYXRlZCcgZGVmYXVsdE1lc3NhZ2U9J3tuYW1lfSBjcmVhdGVkIHtkYXRlfScgdmFsdWVzPXt7IG5hbWU6IGZvcm1hdHRlZE5hbWUsIGRhdGU6IGZvcm1hdHRlZERhdGUgfX0gLz5cbiAgICApIDogKFxuICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9J3N0YXR1cy5oaXN0b3J5LmVkaXRlZCcgZGVmYXVsdE1lc3NhZ2U9J3tuYW1lfSBlZGl0ZWQge2RhdGV9JyB2YWx1ZXM9e3sgbmFtZTogZm9ybWF0dGVkTmFtZSwgZGF0ZTogZm9ybWF0dGVkRGF0ZSB9fSAvPlxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT0nZHJvcGRvd24tbWVudV9faXRlbSBlZGl0ZWQtdGltZXN0YW1wX19oaXN0b3J5X19pdGVtJyBrZXk9e2l0ZW0uZ2V0KCdjcmVhdGVkX2F0Jyl9PlxuICAgICAgICA8YnV0dG9uIGRhdGEtaW5kZXg9e2luZGV4fSBvbkNsaWNrPXtvbkNsaWNrfSBvbktleVByZXNzPXtvbktleVByZXNzfT57bGFiZWx9PC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7IHRpbWVzdGFtcCwgaW50bCwgc3RhdHVzSWQgfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPERyb3Bkb3duTWVudSBzdGF0dXNJZD17c3RhdHVzSWR9IHJlbmRlckl0ZW09e3RoaXMucmVuZGVySXRlbX0gc2Nyb2xsYWJsZSByZW5kZXJIZWFkZXI9e3RoaXMucmVuZGVySGVhZGVyfSBvbkl0ZW1DbGljaz17dGhpcy5oYW5kbGVJdGVtQ2xpY2t9PlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT0nZHJvcGRvd24tbWVudV9fdGV4dC1idXR0b24nPlxuICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPSdzdGF0dXMuZWRpdGVkJyBkZWZhdWx0TWVzc2FnZT0nRWRpdGVkIHtkYXRlfScgdmFsdWVzPXt7IGRhdGU6IGludGwuZm9ybWF0RGF0ZSh0aW1lc3RhbXAsIHsgaG91cjEyOiBmYWxzZSwgbW9udGg6ICdzaG9ydCcsIGRheTogJzItZGlnaXQnLCBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pIH19IC8+IDxJY29uIGlkPSdjYXJldC1kb3duJyAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgICk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG51bGwsIG1hcERpc3BhdGNoVG9Qcm9wcykoaW5qZWN0SW50bChFZGl0ZWRUaW1lc3RhbXApKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBVUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBakRBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTRDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/components/edited_timestamp/index.jsx\n");

/***/ }),

/***/ "./app/javascript/mastodon/features/status/components/action_bar.jsx":
/*!***************************************************************************!*\
  !*** ./app/javascript/mastodon/features/status/components/action_bar.jsx ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-immutable-proptypes */ \"./node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js\");\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mastodon/permissions */ \"./app/javascript/mastodon/permissions.ts\");\n/* harmony import */ var _components_icon_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/icon_button */ \"./app/javascript/mastodon/components/icon_button.tsx\");\n/* harmony import */ var _containers_dropdown_menu_container__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../containers/dropdown_menu_container */ \"./app/javascript/mastodon/containers/dropdown_menu_container.js\");\n/* harmony import */ var _initial_state__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../initial_state */ \"./app/javascript/mastodon/initial_state.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__);\nvar _jsxFileName = \"/home/sleepybear/workspace/mastodon-sleepybear/app/javascript/mastodon/features/status/components/action_bar.jsx\";\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"defineMessages\"])({\n  delete: {\n    id: \"status.delete\",\n    defaultMessage: \"Delete\"\n  },\n  redraft: {\n    id: \"status.redraft\",\n    defaultMessage: \"Delete & re-draft\"\n  },\n  edit: {\n    id: \"status.edit\",\n    defaultMessage: \"Edit\"\n  },\n  direct: {\n    id: \"status.direct\",\n    defaultMessage: \"Privately mention @{name}\"\n  },\n  mention: {\n    id: \"status.mention\",\n    defaultMessage: \"Mention @{name}\"\n  },\n  reply: {\n    id: \"status.reply\",\n    defaultMessage: \"Reply\"\n  },\n  reblog: {\n    id: \"status.reblog\",\n    defaultMessage: \"Boost\"\n  },\n  reblog_private: {\n    id: \"status.reblog_private\",\n    defaultMessage: \"Boost with original visibility\"\n  },\n  cancel_reblog_private: {\n    id: \"status.cancel_reblog_private\",\n    defaultMessage: \"Unboost\"\n  },\n  cannot_reblog: {\n    id: \"status.cannot_reblog\",\n    defaultMessage: \"This post cannot be boosted\"\n  },\n  favourite: {\n    id: \"status.favourite\",\n    defaultMessage: \"Favorite\"\n  },\n  bookmark: {\n    id: \"status.bookmark\",\n    defaultMessage: \"Bookmark\"\n  },\n  more: {\n    id: \"status.more\",\n    defaultMessage: \"More\"\n  },\n  mute: {\n    id: \"status.mute\",\n    defaultMessage: \"Mute @{name}\"\n  },\n  muteConversation: {\n    id: \"status.mute_conversation\",\n    defaultMessage: \"Mute conversation\"\n  },\n  unmuteConversation: {\n    id: \"status.unmute_conversation\",\n    defaultMessage: \"Unmute conversation\"\n  },\n  block: {\n    id: \"status.block\",\n    defaultMessage: \"Block @{name}\"\n  },\n  report: {\n    id: \"status.report\",\n    defaultMessage: \"Report @{name}\"\n  },\n  share: {\n    id: \"status.share\",\n    defaultMessage: \"Share\"\n  },\n  pin: {\n    id: \"status.pin\",\n    defaultMessage: \"Pin on profile\"\n  },\n  unpin: {\n    id: \"status.unpin\",\n    defaultMessage: \"Unpin from profile\"\n  },\n  embed: {\n    id: \"status.embed\",\n    defaultMessage: \"Embed\"\n  },\n  admin_account: {\n    id: \"status.admin_account\",\n    defaultMessage: \"Open moderation interface for @{name}\"\n  },\n  admin_status: {\n    id: \"status.admin_status\",\n    defaultMessage: \"Open this post in the moderation interface\"\n  },\n  admin_domain: {\n    id: \"status.admin_domain\",\n    defaultMessage: \"Open moderation interface for {domain}\"\n  },\n  copy: {\n    id: \"status.copy\",\n    defaultMessage: \"Copy link to post\"\n  },\n  blockDomain: {\n    id: \"account.block_domain\",\n    defaultMessage: \"Block domain {domain}\"\n  },\n  unblockDomain: {\n    id: \"account.unblock_domain\",\n    defaultMessage: \"Unblock domain {domain}\"\n  },\n  unmute: {\n    id: \"account.unmute\",\n    defaultMessage: \"Unmute @{name}\"\n  },\n  unblock: {\n    id: \"account.unblock\",\n    defaultMessage: \"Unblock @{name}\"\n  },\n  openOriginalPage: {\n    id: \"account.open_original_page\",\n    defaultMessage: \"Open original page\"\n  }\n});\nvar mapStateToProps = (state, _ref) => {\n  var {\n    status\n  } = _ref;\n  return {\n    relationship: state.getIn(['relationships', status.getIn(['account', 'id'])])\n  };\n};\nclass ActionBar extends react__WEBPACK_IMPORTED_MODULE_1__[\"PureComponent\"] {\n  constructor() {\n    super(...arguments);\n    this.handleReplyClick = () => {\n      this.props.onReply(this.props.status);\n    };\n    this.handleReblogClick = e => {\n      this.props.onReblog(this.props.status, e);\n    };\n    this.handleFavouriteClick = () => {\n      this.props.onFavourite(this.props.status);\n    };\n    this.handleBookmarkClick = e => {\n      this.props.onBookmark(this.props.status, e);\n    };\n    this.handleDeleteClick = () => {\n      this.props.onDelete(this.props.status, this.context.router.history);\n    };\n    this.handleRedraftClick = () => {\n      this.props.onDelete(this.props.status, this.context.router.history, true);\n    };\n    this.handleEditClick = () => {\n      this.props.onEdit(this.props.status, this.context.router.history);\n    };\n    this.handleDirectClick = () => {\n      this.props.onDirect(this.props.status.get('account'), this.context.router.history);\n    };\n    this.handleMentionClick = () => {\n      this.props.onMention(this.props.status.get('account'), this.context.router.history);\n    };\n    this.handleMuteClick = () => {\n      var {\n        status,\n        relationship,\n        onMute,\n        onUnmute\n      } = this.props;\n      var account = status.get('account');\n      if (relationship && relationship.get('muting')) {\n        onUnmute(account);\n      } else {\n        onMute(account);\n      }\n    };\n    this.handleBlockClick = () => {\n      var {\n        status,\n        relationship,\n        onBlock,\n        onUnblock\n      } = this.props;\n      var account = status.get('account');\n      if (relationship && relationship.get('blocking')) {\n        onUnblock(account);\n      } else {\n        onBlock(status);\n      }\n    };\n    this.handleBlockDomain = () => {\n      var {\n        status,\n        onBlockDomain\n      } = this.props;\n      var account = status.get('account');\n      onBlockDomain(account.get('acct').split('@')[1]);\n    };\n    this.handleUnblockDomain = () => {\n      var {\n        status,\n        onUnblockDomain\n      } = this.props;\n      var account = status.get('account');\n      onUnblockDomain(account.get('acct').split('@')[1]);\n    };\n    this.handleConversationMuteClick = () => {\n      this.props.onMuteConversation(this.props.status);\n    };\n    this.handleReport = () => {\n      this.props.onReport(this.props.status);\n    };\n    this.handlePinClick = () => {\n      this.props.onPin(this.props.status);\n    };\n    this.handleShare = () => {\n      navigator.share({\n        url: this.props.status.get('url')\n      });\n    };\n    this.handleEmbed = () => {\n      this.props.onEmbed(this.props.status);\n    };\n    this.handleCopy = () => {\n      var url = this.props.status.get('url');\n      navigator.clipboard.writeText(url);\n    };\n  }\n  render() {\n    var {\n      status,\n      relationship,\n      intl\n    } = this.props;\n    var {\n      signedIn,\n      permissions\n    } = this.context.identity;\n    var publicStatus = ['public', 'unlisted'].includes(status.get('visibility'));\n    var pinnableStatus = ['public', 'unlisted', 'private'].includes(status.get('visibility'));\n    var mutingConversation = status.get('muted');\n    var account = status.get('account');\n    var writtenByMe = status.getIn(['account', 'id']) === _initial_state__WEBPACK_IMPORTED_MODULE_9__[\"me\"];\n    var isRemote = status.getIn(['account', 'username']) !== status.getIn(['account', 'acct']);\n    var menu = [];\n    if (publicStatus && isRemote) {\n      menu.push({\n        text: intl.formatMessage(messages.openOriginalPage),\n        href: status.get('url')\n      });\n    }\n    menu.push({\n      text: intl.formatMessage(messages.copy),\n      action: this.handleCopy\n    });\n    if (publicStatus && 'share' in navigator) {\n      menu.push({\n        text: intl.formatMessage(messages.share),\n        action: this.handleShare\n      });\n    }\n    if (publicStatus && (signedIn || !isRemote)) {\n      menu.push({\n        text: intl.formatMessage(messages.embed),\n        action: this.handleEmbed\n      });\n    }\n    if (signedIn) {\n      menu.push(null);\n      if (writtenByMe) {\n        if (pinnableStatus) {\n          menu.push({\n            text: intl.formatMessage(status.get('pinned') ? messages.unpin : messages.pin),\n            action: this.handlePinClick\n          });\n          menu.push(null);\n        }\n        menu.push({\n          text: intl.formatMessage(mutingConversation ? messages.unmuteConversation : messages.muteConversation),\n          action: this.handleConversationMuteClick\n        });\n        menu.push(null);\n        menu.push({\n          text: intl.formatMessage(messages.edit),\n          action: this.handleEditClick\n        });\n        menu.push({\n          text: intl.formatMessage(messages.delete),\n          action: this.handleDeleteClick,\n          dangerous: true\n        });\n        menu.push({\n          text: intl.formatMessage(messages.redraft),\n          action: this.handleRedraftClick,\n          dangerous: true\n        });\n      } else {\n        menu.push({\n          text: intl.formatMessage(messages.mention, {\n            name: status.getIn(['account', 'username'])\n          }),\n          action: this.handleMentionClick\n        });\n        menu.push(null);\n        if (relationship && relationship.get('muting')) {\n          menu.push({\n            text: intl.formatMessage(messages.unmute, {\n              name: account.get('username')\n            }),\n            action: this.handleMuteClick\n          });\n        } else {\n          menu.push({\n            text: intl.formatMessage(messages.mute, {\n              name: account.get('username')\n            }),\n            action: this.handleMuteClick,\n            dangerous: true\n          });\n        }\n        if (relationship && relationship.get('blocking')) {\n          menu.push({\n            text: intl.formatMessage(messages.unblock, {\n              name: account.get('username')\n            }),\n            action: this.handleBlockClick\n          });\n        } else {\n          menu.push({\n            text: intl.formatMessage(messages.block, {\n              name: account.get('username')\n            }),\n            action: this.handleBlockClick,\n            dangerous: true\n          });\n        }\n        menu.push({\n          text: intl.formatMessage(messages.report, {\n            name: status.getIn(['account', 'username'])\n          }),\n          action: this.handleReport,\n          dangerous: true\n        });\n        if (account.get('acct') !== account.get('username')) {\n          var domain = account.get('acct').split('@')[1];\n          menu.push(null);\n          if (relationship && relationship.get('domain_blocking')) {\n            menu.push({\n              text: intl.formatMessage(messages.unblockDomain, {\n                domain\n              }),\n              action: this.handleUnblockDomain\n            });\n          } else {\n            menu.push({\n              text: intl.formatMessage(messages.blockDomain, {\n                domain\n              }),\n              action: this.handleBlockDomain,\n              dangerous: true\n            });\n          }\n        }\n        if ((permissions & mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_USERS\"]) === mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_USERS\"] || isRemote && (permissions & mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_FEDERATION\"]) === mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_FEDERATION\"]) {\n          menu.push(null);\n          if ((permissions & mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_USERS\"]) === mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_USERS\"]) {\n            menu.push({\n              text: intl.formatMessage(messages.admin_account, {\n                name: status.getIn(['account', 'username'])\n              }),\n              href: \"/admin/accounts/\" + status.getIn(['account', 'id'])\n            });\n            menu.push({\n              text: intl.formatMessage(messages.admin_status),\n              href: \"/admin/accounts/\" + status.getIn(['account', 'id']) + \"/statuses/\" + status.get('id')\n            });\n          }\n          if (isRemote && (permissions & mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_FEDERATION\"]) === mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_FEDERATION\"]) {\n            var _domain = account.get('acct').split('@')[1];\n            menu.push({\n              text: intl.formatMessage(messages.admin_domain, {\n                domain: _domain\n              }),\n              href: \"/admin/instances/\" + _domain\n            });\n          }\n        }\n      }\n    }\n    var replyIcon;\n    if (status.get('in_reply_to_id', null) === null) {\n      replyIcon = 'reply';\n    } else {\n      replyIcon = 'reply-all';\n    }\n    var reblogPrivate = status.getIn(['account', 'id']) === _initial_state__WEBPACK_IMPORTED_MODULE_9__[\"me\"] && status.get('visibility') === 'private';\n    var reblogTitle;\n    if (status.get('reblogged')) {\n      reblogTitle = intl.formatMessage(messages.cancel_reblog_private);\n    } else if (publicStatus) {\n      reblogTitle = intl.formatMessage(messages.reblog);\n    } else if (reblogPrivate) {\n      reblogTitle = intl.formatMessage(messages.reblog_private);\n    } else {\n      reblogTitle = intl.formatMessage(messages.cannot_reblog);\n    }\n    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n      className: \"detailed-status__action-bar\",\n      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n        className: \"detailed-status__button\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(_components_icon_button__WEBPACK_IMPORTED_MODULE_7__[\"IconButton\"], {\n          title: intl.formatMessage(messages.reply),\n          icon: status.get('in_reply_to_account_id') === status.getIn(['account', 'id']) ? 'reply' : replyIcon,\n          onClick: this.handleReplyClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n        className: \"detailed-status__button\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(_components_icon_button__WEBPACK_IMPORTED_MODULE_7__[\"IconButton\"], {\n          className: classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n            reblogPrivate\n          }),\n          disabled: !publicStatus && !reblogPrivate,\n          active: status.get('reblogged'),\n          title: reblogTitle,\n          icon: \"retweet\",\n          onClick: this.handleReblogClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n        className: \"detailed-status__button\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(_components_icon_button__WEBPACK_IMPORTED_MODULE_7__[\"IconButton\"], {\n          className: \"star-icon\",\n          animate: true,\n          active: status.get('favourited'),\n          title: intl.formatMessage(messages.favourite),\n          icon: \"star\",\n          onClick: this.handleFavouriteClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n        className: \"detailed-status__button\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(_components_icon_button__WEBPACK_IMPORTED_MODULE_7__[\"IconButton\"], {\n          className: \"bookmark-icon\",\n          disabled: !signedIn,\n          active: status.get('bookmarked'),\n          title: intl.formatMessage(messages.bookmark),\n          icon: \"bookmark\",\n          onClick: this.handleBookmarkClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n        className: \"detailed-status__action-bar-dropdown\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(_containers_dropdown_menu_container__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n          size: 18,\n          icon: \"ellipsis-h\",\n          status: status,\n          items: menu,\n          direction: \"left\",\n          title: intl.formatMessage(messages.more)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this);\n  }\n}\nActionBar.contextTypes = {\n  router: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object,\n  identity: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object\n};\nActionBar.propTypes = {\n  status: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default.a.map.isRequired,\n  relationship: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default.a.map,\n  onReply: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onReblog: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onFavourite: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onBookmark: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onDelete: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onEdit: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onDirect: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onMention: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onMute: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onUnmute: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onBlock: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onUnblock: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onBlockDomain: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onUnblockDomain: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onMuteConversation: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onReport: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onPin: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onEmbed: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  intl: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_5__[\"connect\"])(mapStateToProps)(Object(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"injectIntl\"])(ActionBar)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9mZWF0dXJlcy9zdGF0dXMvY29tcG9uZW50cy9hY3Rpb25fYmFyLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2FwcC9qYXZhc2NyaXB0L21hc3RvZG9uL2ZlYXR1cmVzL3N0YXR1cy9jb21wb25lbnRzL2FjdGlvbl9iYXIuanN4PzdmMjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IGRlZmluZU1lc3NhZ2VzLCBpbmplY3RJbnRsIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgSW1tdXRhYmxlUHJvcFR5cGVzIGZyb20gJ3JlYWN0LWltbXV0YWJsZS1wcm9wdHlwZXMnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcblxuaW1wb3J0IHsgUEVSTUlTU0lPTl9NQU5BR0VfVVNFUlMsIFBFUk1JU1NJT05fTUFOQUdFX0ZFREVSQVRJT04gfSBmcm9tICdtYXN0b2Rvbi9wZXJtaXNzaW9ucyc7XG5cbmltcG9ydCB7IEljb25CdXR0b24gfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2ljb25fYnV0dG9uJztcbmltcG9ydCBEcm9wZG93bk1lbnVDb250YWluZXIgZnJvbSAnLi4vLi4vLi4vY29udGFpbmVycy9kcm9wZG93bl9tZW51X2NvbnRhaW5lcic7XG5pbXBvcnQgeyBtZSB9IGZyb20gJy4uLy4uLy4uL2luaXRpYWxfc3RhdGUnO1xuXG5jb25zdCBtZXNzYWdlcyA9IGRlZmluZU1lc3NhZ2VzKHtcbiAgZGVsZXRlOiB7IGlkOiAnc3RhdHVzLmRlbGV0ZScsIGRlZmF1bHRNZXNzYWdlOiAnRGVsZXRlJyB9LFxuICByZWRyYWZ0OiB7IGlkOiAnc3RhdHVzLnJlZHJhZnQnLCBkZWZhdWx0TWVzc2FnZTogJ0RlbGV0ZSAmIHJlLWRyYWZ0JyB9LFxuICBlZGl0OiB7IGlkOiAnc3RhdHVzLmVkaXQnLCBkZWZhdWx0TWVzc2FnZTogJ0VkaXQnIH0sXG4gIGRpcmVjdDogeyBpZDogJ3N0YXR1cy5kaXJlY3QnLCBkZWZhdWx0TWVzc2FnZTogJ1ByaXZhdGVseSBtZW50aW9uIEB7bmFtZX0nIH0sXG4gIG1lbnRpb246IHsgaWQ6ICdzdGF0dXMubWVudGlvbicsIGRlZmF1bHRNZXNzYWdlOiAnTWVudGlvbiBAe25hbWV9JyB9LFxuICByZXBseTogeyBpZDogJ3N0YXR1cy5yZXBseScsIGRlZmF1bHRNZXNzYWdlOiAnUmVwbHknIH0sXG4gIHJlYmxvZzogeyBpZDogJ3N0YXR1cy5yZWJsb2cnLCBkZWZhdWx0TWVzc2FnZTogJ0Jvb3N0JyB9LFxuICByZWJsb2dfcHJpdmF0ZTogeyBpZDogJ3N0YXR1cy5yZWJsb2dfcHJpdmF0ZScsIGRlZmF1bHRNZXNzYWdlOiAnQm9vc3Qgd2l0aCBvcmlnaW5hbCB2aXNpYmlsaXR5JyB9LFxuICBjYW5jZWxfcmVibG9nX3ByaXZhdGU6IHsgaWQ6ICdzdGF0dXMuY2FuY2VsX3JlYmxvZ19wcml2YXRlJywgZGVmYXVsdE1lc3NhZ2U6ICdVbmJvb3N0JyB9LFxuICBjYW5ub3RfcmVibG9nOiB7IGlkOiAnc3RhdHVzLmNhbm5vdF9yZWJsb2cnLCBkZWZhdWx0TWVzc2FnZTogJ1RoaXMgcG9zdCBjYW5ub3QgYmUgYm9vc3RlZCcgfSxcbiAgZmF2b3VyaXRlOiB7IGlkOiAnc3RhdHVzLmZhdm91cml0ZScsIGRlZmF1bHRNZXNzYWdlOiAnRmF2b3JpdGUnIH0sXG4gIGJvb2ttYXJrOiB7IGlkOiAnc3RhdHVzLmJvb2ttYXJrJywgZGVmYXVsdE1lc3NhZ2U6ICdCb29rbWFyaycgfSxcbiAgbW9yZTogeyBpZDogJ3N0YXR1cy5tb3JlJywgZGVmYXVsdE1lc3NhZ2U6ICdNb3JlJyB9LFxuICBtdXRlOiB7IGlkOiAnc3RhdHVzLm11dGUnLCBkZWZhdWx0TWVzc2FnZTogJ011dGUgQHtuYW1lfScgfSxcbiAgbXV0ZUNvbnZlcnNhdGlvbjogeyBpZDogJ3N0YXR1cy5tdXRlX2NvbnZlcnNhdGlvbicsIGRlZmF1bHRNZXNzYWdlOiAnTXV0ZSBjb252ZXJzYXRpb24nIH0sXG4gIHVubXV0ZUNvbnZlcnNhdGlvbjogeyBpZDogJ3N0YXR1cy51bm11dGVfY29udmVyc2F0aW9uJywgZGVmYXVsdE1lc3NhZ2U6ICdVbm11dGUgY29udmVyc2F0aW9uJyB9LFxuICBibG9jazogeyBpZDogJ3N0YXR1cy5ibG9jaycsIGRlZmF1bHRNZXNzYWdlOiAnQmxvY2sgQHtuYW1lfScgfSxcbiAgcmVwb3J0OiB7IGlkOiAnc3RhdHVzLnJlcG9ydCcsIGRlZmF1bHRNZXNzYWdlOiAnUmVwb3J0IEB7bmFtZX0nIH0sXG4gIHNoYXJlOiB7IGlkOiAnc3RhdHVzLnNoYXJlJywgZGVmYXVsdE1lc3NhZ2U6ICdTaGFyZScgfSxcbiAgcGluOiB7IGlkOiAnc3RhdHVzLnBpbicsIGRlZmF1bHRNZXNzYWdlOiAnUGluIG9uIHByb2ZpbGUnIH0sXG4gIHVucGluOiB7IGlkOiAnc3RhdHVzLnVucGluJywgZGVmYXVsdE1lc3NhZ2U6ICdVbnBpbiBmcm9tIHByb2ZpbGUnIH0sXG4gIGVtYmVkOiB7IGlkOiAnc3RhdHVzLmVtYmVkJywgZGVmYXVsdE1lc3NhZ2U6ICdFbWJlZCcgfSxcbiAgYWRtaW5fYWNjb3VudDogeyBpZDogJ3N0YXR1cy5hZG1pbl9hY2NvdW50JywgZGVmYXVsdE1lc3NhZ2U6ICdPcGVuIG1vZGVyYXRpb24gaW50ZXJmYWNlIGZvciBAe25hbWV9JyB9LFxuICBhZG1pbl9zdGF0dXM6IHsgaWQ6ICdzdGF0dXMuYWRtaW5fc3RhdHVzJywgZGVmYXVsdE1lc3NhZ2U6ICdPcGVuIHRoaXMgcG9zdCBpbiB0aGUgbW9kZXJhdGlvbiBpbnRlcmZhY2UnIH0sXG4gIGFkbWluX2RvbWFpbjogeyBpZDogJ3N0YXR1cy5hZG1pbl9kb21haW4nLCBkZWZhdWx0TWVzc2FnZTogJ09wZW4gbW9kZXJhdGlvbiBpbnRlcmZhY2UgZm9yIHtkb21haW59JyB9LFxuICBjb3B5OiB7IGlkOiAnc3RhdHVzLmNvcHknLCBkZWZhdWx0TWVzc2FnZTogJ0NvcHkgbGluayB0byBwb3N0JyB9LFxuICBibG9ja0RvbWFpbjogeyBpZDogJ2FjY291bnQuYmxvY2tfZG9tYWluJywgZGVmYXVsdE1lc3NhZ2U6ICdCbG9jayBkb21haW4ge2RvbWFpbn0nIH0sXG4gIHVuYmxvY2tEb21haW46IHsgaWQ6ICdhY2NvdW50LnVuYmxvY2tfZG9tYWluJywgZGVmYXVsdE1lc3NhZ2U6ICdVbmJsb2NrIGRvbWFpbiB7ZG9tYWlufScgfSxcbiAgdW5tdXRlOiB7IGlkOiAnYWNjb3VudC51bm11dGUnLCBkZWZhdWx0TWVzc2FnZTogJ1VubXV0ZSBAe25hbWV9JyB9LFxuICB1bmJsb2NrOiB7IGlkOiAnYWNjb3VudC51bmJsb2NrJywgZGVmYXVsdE1lc3NhZ2U6ICdVbmJsb2NrIEB7bmFtZX0nIH0sXG4gIG9wZW5PcmlnaW5hbFBhZ2U6IHsgaWQ6ICdhY2NvdW50Lm9wZW5fb3JpZ2luYWxfcGFnZScsIGRlZmF1bHRNZXNzYWdlOiAnT3BlbiBvcmlnaW5hbCBwYWdlJyB9LFxufSk7XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSwgeyBzdGF0dXMgfSkgPT4gKHtcbiAgcmVsYXRpb25zaGlwOiBzdGF0ZS5nZXRJbihbJ3JlbGF0aW9uc2hpcHMnLCBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pXSksXG59KTtcblxuY2xhc3MgQWN0aW9uQmFyIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG5cbiAgc3RhdGljIGNvbnRleHRUeXBlcyA9IHtcbiAgICByb3V0ZXI6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgaWRlbnRpdHk6IFByb3BUeXBlcy5vYmplY3QsXG4gIH07XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBzdGF0dXM6IEltbXV0YWJsZVByb3BUeXBlcy5tYXAuaXNSZXF1aXJlZCxcbiAgICByZWxhdGlvbnNoaXA6IEltbXV0YWJsZVByb3BUeXBlcy5tYXAsXG4gICAgb25SZXBseTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblJlYmxvZzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkZhdm91cml0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkJvb2ttYXJrOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uRGVsZXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uRWRpdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkRpcmVjdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbk1lbnRpb246IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25NdXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvblVubXV0ZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25CbG9jazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25VbmJsb2NrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkJsb2NrRG9tYWluOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvblVuYmxvY2tEb21haW46IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uTXV0ZUNvbnZlcnNhdGlvbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25SZXBvcnQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uUGluOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkVtYmVkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBpbnRsOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIH07XG5cbiAgaGFuZGxlUmVwbHlDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uUmVwbHkodGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9O1xuXG4gIGhhbmRsZVJlYmxvZ0NsaWNrID0gKGUpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uUmVibG9nKHRoaXMucHJvcHMuc3RhdHVzLCBlKTtcbiAgfTtcblxuICBoYW5kbGVGYXZvdXJpdGVDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uRmF2b3VyaXRlKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfTtcblxuICBoYW5kbGVCb29rbWFya0NsaWNrID0gKGUpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQm9va21hcmsodGhpcy5wcm9wcy5zdGF0dXMsIGUpO1xuICB9O1xuXG4gIGhhbmRsZURlbGV0ZUNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25EZWxldGUodGhpcy5wcm9wcy5zdGF0dXMsIHRoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeSk7XG4gIH07XG5cbiAgaGFuZGxlUmVkcmFmdENsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25EZWxldGUodGhpcy5wcm9wcy5zdGF0dXMsIHRoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeSwgdHJ1ZSk7XG4gIH07XG5cbiAgaGFuZGxlRWRpdENsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25FZGl0KHRoaXMucHJvcHMuc3RhdHVzLCB0aGlzLmNvbnRleHQucm91dGVyLmhpc3RvcnkpO1xuICB9O1xuXG4gIGhhbmRsZURpcmVjdENsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25EaXJlY3QodGhpcy5wcm9wcy5zdGF0dXMuZ2V0KCdhY2NvdW50JyksIHRoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeSk7XG4gIH07XG5cbiAgaGFuZGxlTWVudGlvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25NZW50aW9uKHRoaXMucHJvcHMuc3RhdHVzLmdldCgnYWNjb3VudCcpLCB0aGlzLmNvbnRleHQucm91dGVyLmhpc3RvcnkpO1xuICB9O1xuXG4gIGhhbmRsZU11dGVDbGljayA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cywgcmVsYXRpb25zaGlwLCBvbk11dGUsIG9uVW5tdXRlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGFjY291bnQgPSBzdGF0dXMuZ2V0KCdhY2NvdW50Jyk7XG5cbiAgICBpZiAocmVsYXRpb25zaGlwICYmIHJlbGF0aW9uc2hpcC5nZXQoJ211dGluZycpKSB7XG4gICAgICBvblVubXV0ZShhY2NvdW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25NdXRlKGFjY291bnQpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVCbG9ja0NsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzLCByZWxhdGlvbnNoaXAsIG9uQmxvY2ssIG9uVW5ibG9jayB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBhY2NvdW50ID0gc3RhdHVzLmdldCgnYWNjb3VudCcpO1xuXG4gICAgaWYgKHJlbGF0aW9uc2hpcCAmJiByZWxhdGlvbnNoaXAuZ2V0KCdibG9ja2luZycpKSB7XG4gICAgICBvblVuYmxvY2soYWNjb3VudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uQmxvY2soc3RhdHVzKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlQmxvY2tEb21haW4gPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0dXMsIG9uQmxvY2tEb21haW4gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgYWNjb3VudCA9IHN0YXR1cy5nZXQoJ2FjY291bnQnKTtcblxuICAgIG9uQmxvY2tEb21haW4oYWNjb3VudC5nZXQoJ2FjY3QnKS5zcGxpdCgnQCcpWzFdKTtcbiAgfTtcblxuICBoYW5kbGVVbmJsb2NrRG9tYWluID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBvblVuYmxvY2tEb21haW4gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgYWNjb3VudCA9IHN0YXR1cy5nZXQoJ2FjY291bnQnKTtcblxuICAgIG9uVW5ibG9ja0RvbWFpbihhY2NvdW50LmdldCgnYWNjdCcpLnNwbGl0KCdAJylbMV0pO1xuICB9O1xuXG4gIGhhbmRsZUNvbnZlcnNhdGlvbk11dGVDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uTXV0ZUNvbnZlcnNhdGlvbih0aGlzLnByb3BzLnN0YXR1cyk7XG4gIH07XG5cbiAgaGFuZGxlUmVwb3J0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25SZXBvcnQodGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9O1xuXG4gIGhhbmRsZVBpbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25QaW4odGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9O1xuXG4gIGhhbmRsZVNoYXJlID0gKCkgPT4ge1xuICAgIG5hdmlnYXRvci5zaGFyZSh7XG4gICAgICB1cmw6IHRoaXMucHJvcHMuc3RhdHVzLmdldCgndXJsJyksXG4gICAgfSk7XG4gIH07XG5cbiAgaGFuZGxlRW1iZWQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkVtYmVkKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfTtcblxuICBoYW5kbGVDb3B5ID0gKCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IHRoaXMucHJvcHMuc3RhdHVzLmdldCgndXJsJyk7XG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodXJsKTtcbiAgfTtcblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgc3RhdHVzLCByZWxhdGlvbnNoaXAsIGludGwgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBzaWduZWRJbiwgcGVybWlzc2lvbnMgfSA9IHRoaXMuY29udGV4dC5pZGVudGl0eTtcblxuICAgIGNvbnN0IHB1YmxpY1N0YXR1cyAgICAgICA9IFsncHVibGljJywgJ3VubGlzdGVkJ10uaW5jbHVkZXMoc3RhdHVzLmdldCgndmlzaWJpbGl0eScpKTtcbiAgICBjb25zdCBwaW5uYWJsZVN0YXR1cyAgICAgPSBbJ3B1YmxpYycsICd1bmxpc3RlZCcsICdwcml2YXRlJ10uaW5jbHVkZXMoc3RhdHVzLmdldCgndmlzaWJpbGl0eScpKTtcbiAgICBjb25zdCBtdXRpbmdDb252ZXJzYXRpb24gPSBzdGF0dXMuZ2V0KCdtdXRlZCcpO1xuICAgIGNvbnN0IGFjY291bnQgICAgICAgICAgICA9IHN0YXR1cy5nZXQoJ2FjY291bnQnKTtcbiAgICBjb25zdCB3cml0dGVuQnlNZSAgICAgICAgPSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pID09PSBtZTtcbiAgICBjb25zdCBpc1JlbW90ZSAgICAgICAgICAgPSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ3VzZXJuYW1lJ10pICE9PSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2FjY3QnXSk7XG5cbiAgICBsZXQgbWVudSA9IFtdO1xuXG4gICAgaWYgKHB1YmxpY1N0YXR1cyAmJiBpc1JlbW90ZSkge1xuICAgICAgbWVudS5wdXNoKHsgdGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLm9wZW5PcmlnaW5hbFBhZ2UpLCBocmVmOiBzdGF0dXMuZ2V0KCd1cmwnKSB9KTtcbiAgICB9XG5cbiAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuY29weSksIGFjdGlvbjogdGhpcy5oYW5kbGVDb3B5IH0pO1xuXG4gICAgaWYgKHB1YmxpY1N0YXR1cyAmJiAnc2hhcmUnIGluIG5hdmlnYXRvcikge1xuICAgICAgbWVudS5wdXNoKHsgdGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnNoYXJlKSwgYWN0aW9uOiB0aGlzLmhhbmRsZVNoYXJlIH0pO1xuICAgIH1cblxuICAgIGlmIChwdWJsaWNTdGF0dXMgJiYgKHNpZ25lZEluIHx8ICFpc1JlbW90ZSkpIHtcbiAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5lbWJlZCksIGFjdGlvbjogdGhpcy5oYW5kbGVFbWJlZCB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2lnbmVkSW4pIHtcbiAgICAgIG1lbnUucHVzaChudWxsKTtcblxuICAgICAgaWYgKHdyaXR0ZW5CeU1lKSB7XG4gICAgICAgIGlmIChwaW5uYWJsZVN0YXR1cykge1xuICAgICAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShzdGF0dXMuZ2V0KCdwaW5uZWQnKSA/IG1lc3NhZ2VzLnVucGluIDogbWVzc2FnZXMucGluKSwgYWN0aW9uOiB0aGlzLmhhbmRsZVBpbkNsaWNrIH0pO1xuICAgICAgICAgIG1lbnUucHVzaChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtdXRpbmdDb252ZXJzYXRpb24gPyBtZXNzYWdlcy51bm11dGVDb252ZXJzYXRpb24gOiBtZXNzYWdlcy5tdXRlQ29udmVyc2F0aW9uKSwgYWN0aW9uOiB0aGlzLmhhbmRsZUNvbnZlcnNhdGlvbk11dGVDbGljayB9KTtcbiAgICAgICAgbWVudS5wdXNoKG51bGwpO1xuICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuZWRpdCksIGFjdGlvbjogdGhpcy5oYW5kbGVFZGl0Q2xpY2sgfSk7XG4gICAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5kZWxldGUpLCBhY3Rpb246IHRoaXMuaGFuZGxlRGVsZXRlQ2xpY2ssIGRhbmdlcm91czogdHJ1ZSB9KTtcbiAgICAgICAgbWVudS5wdXNoKHsgdGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnJlZHJhZnQpLCBhY3Rpb246IHRoaXMuaGFuZGxlUmVkcmFmdENsaWNrLCBkYW5nZXJvdXM6IHRydWUgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMubWVudGlvbiwgeyBuYW1lOiBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ3VzZXJuYW1lJ10pIH0pLCBhY3Rpb246IHRoaXMuaGFuZGxlTWVudGlvbkNsaWNrIH0pO1xuICAgICAgICBtZW51LnB1c2gobnVsbCk7XG5cbiAgICAgICAgaWYgKHJlbGF0aW9uc2hpcCAmJiByZWxhdGlvbnNoaXAuZ2V0KCdtdXRpbmcnKSkge1xuICAgICAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy51bm11dGUsIHsgbmFtZTogYWNjb3VudC5nZXQoJ3VzZXJuYW1lJykgfSksIGFjdGlvbjogdGhpcy5oYW5kbGVNdXRlQ2xpY2sgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVudS5wdXNoKHsgdGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLm11dGUsIHsgbmFtZTogYWNjb3VudC5nZXQoJ3VzZXJuYW1lJykgfSksIGFjdGlvbjogdGhpcy5oYW5kbGVNdXRlQ2xpY2ssIGRhbmdlcm91czogdHJ1ZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWxhdGlvbnNoaXAgJiYgcmVsYXRpb25zaGlwLmdldCgnYmxvY2tpbmcnKSkge1xuICAgICAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy51bmJsb2NrLCB7IG5hbWU6IGFjY291bnQuZ2V0KCd1c2VybmFtZScpIH0pLCBhY3Rpb246IHRoaXMuaGFuZGxlQmxvY2tDbGljayB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuYmxvY2ssIHsgbmFtZTogYWNjb3VudC5nZXQoJ3VzZXJuYW1lJykgfSksIGFjdGlvbjogdGhpcy5oYW5kbGVCbG9ja0NsaWNrLCBkYW5nZXJvdXM6IHRydWUgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMucmVwb3J0LCB7IG5hbWU6IHN0YXR1cy5nZXRJbihbJ2FjY291bnQnLCAndXNlcm5hbWUnXSkgfSksIGFjdGlvbjogdGhpcy5oYW5kbGVSZXBvcnQsIGRhbmdlcm91czogdHJ1ZSB9KTtcblxuICAgICAgICBpZiAoYWNjb3VudC5nZXQoJ2FjY3QnKSAhPT0gYWNjb3VudC5nZXQoJ3VzZXJuYW1lJykpIHtcbiAgICAgICAgICBjb25zdCBkb21haW4gPSBhY2NvdW50LmdldCgnYWNjdCcpLnNwbGl0KCdAJylbMV07XG5cbiAgICAgICAgICBtZW51LnB1c2gobnVsbCk7XG5cbiAgICAgICAgICBpZiAocmVsYXRpb25zaGlwICYmIHJlbGF0aW9uc2hpcC5nZXQoJ2RvbWFpbl9ibG9ja2luZycpKSB7XG4gICAgICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMudW5ibG9ja0RvbWFpbiwgeyBkb21haW4gfSksIGFjdGlvbjogdGhpcy5oYW5kbGVVbmJsb2NrRG9tYWluIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuYmxvY2tEb21haW4sIHsgZG9tYWluIH0pLCBhY3Rpb246IHRoaXMuaGFuZGxlQmxvY2tEb21haW4sIGRhbmdlcm91czogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHBlcm1pc3Npb25zICYgUEVSTUlTU0lPTl9NQU5BR0VfVVNFUlMpID09PSBQRVJNSVNTSU9OX01BTkFHRV9VU0VSUyB8fCAoaXNSZW1vdGUgJiYgKHBlcm1pc3Npb25zICYgUEVSTUlTU0lPTl9NQU5BR0VfRkVERVJBVElPTikgPT09IFBFUk1JU1NJT05fTUFOQUdFX0ZFREVSQVRJT04pKSB7XG4gICAgICAgICAgbWVudS5wdXNoKG51bGwpO1xuICAgICAgICAgIGlmICgocGVybWlzc2lvbnMgJiBQRVJNSVNTSU9OX01BTkFHRV9VU0VSUykgPT09IFBFUk1JU1NJT05fTUFOQUdFX1VTRVJTKSB7XG4gICAgICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuYWRtaW5fYWNjb3VudCwgeyBuYW1lOiBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ3VzZXJuYW1lJ10pIH0pLCBocmVmOiBgL2FkbWluL2FjY291bnRzLyR7c3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdpZCddKX1gIH0pO1xuICAgICAgICAgICAgbWVudS5wdXNoKHsgdGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmFkbWluX3N0YXR1cyksIGhyZWY6IGAvYWRtaW4vYWNjb3VudHMvJHtzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pfS9zdGF0dXNlcy8ke3N0YXR1cy5nZXQoJ2lkJyl9YCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzUmVtb3RlICYmIChwZXJtaXNzaW9ucyAmIFBFUk1JU1NJT05fTUFOQUdFX0ZFREVSQVRJT04pID09PSBQRVJNSVNTSU9OX01BTkFHRV9GRURFUkFUSU9OKSB7XG4gICAgICAgICAgICBjb25zdCBkb21haW4gPSBhY2NvdW50LmdldCgnYWNjdCcpLnNwbGl0KCdAJylbMV07XG4gICAgICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuYWRtaW5fZG9tYWluLCB7IGRvbWFpbjogZG9tYWluIH0pLCBocmVmOiBgL2FkbWluL2luc3RhbmNlcy8ke2RvbWFpbn1gIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCByZXBseUljb247XG4gICAgaWYgKHN0YXR1cy5nZXQoJ2luX3JlcGx5X3RvX2lkJywgbnVsbCkgPT09IG51bGwpIHtcbiAgICAgIHJlcGx5SWNvbiA9ICdyZXBseSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGx5SWNvbiA9ICdyZXBseS1hbGwnO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYmxvZ1ByaXZhdGUgPSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pID09PSBtZSAmJiBzdGF0dXMuZ2V0KCd2aXNpYmlsaXR5JykgPT09ICdwcml2YXRlJztcblxuICAgIGxldCByZWJsb2dUaXRsZTtcbiAgICBpZiAoc3RhdHVzLmdldCgncmVibG9nZ2VkJykpIHtcbiAgICAgIHJlYmxvZ1RpdGxlID0gaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmNhbmNlbF9yZWJsb2dfcHJpdmF0ZSk7XG4gICAgfSBlbHNlIGlmIChwdWJsaWNTdGF0dXMpIHtcbiAgICAgIHJlYmxvZ1RpdGxlID0gaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnJlYmxvZyk7XG4gICAgfSBlbHNlIGlmIChyZWJsb2dQcml2YXRlKSB7XG4gICAgICByZWJsb2dUaXRsZSA9IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5yZWJsb2dfcHJpdmF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYmxvZ1RpdGxlID0gaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmNhbm5vdF9yZWJsb2cpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19hY3Rpb24tYmFyJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fYnV0dG9uJz48SWNvbkJ1dHRvbiB0aXRsZT17aW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnJlcGx5KX0gaWNvbj17c3RhdHVzLmdldCgnaW5fcmVwbHlfdG9fYWNjb3VudF9pZCcpID09PSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pID8gJ3JlcGx5JyA6IHJlcGx5SWNvbn0gb25DbGljaz17dGhpcy5oYW5kbGVSZXBseUNsaWNrfSAvPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19idXR0b24nPjxJY29uQnV0dG9uIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh7IHJlYmxvZ1ByaXZhdGUgfSl9IGRpc2FibGVkPXshcHVibGljU3RhdHVzICYmICFyZWJsb2dQcml2YXRlfSBhY3RpdmU9e3N0YXR1cy5nZXQoJ3JlYmxvZ2dlZCcpfSB0aXRsZT17cmVibG9nVGl0bGV9IGljb249J3JldHdlZXQnIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmVibG9nQ2xpY2t9IC8+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkZXRhaWxlZC1zdGF0dXNfX2J1dHRvbic+PEljb25CdXR0b24gY2xhc3NOYW1lPSdzdGFyLWljb24nIGFuaW1hdGUgYWN0aXZlPXtzdGF0dXMuZ2V0KCdmYXZvdXJpdGVkJyl9IHRpdGxlPXtpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuZmF2b3VyaXRlKX0gaWNvbj0nc3Rhcicgb25DbGljaz17dGhpcy5oYW5kbGVGYXZvdXJpdGVDbGlja30gLz48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fYnV0dG9uJz48SWNvbkJ1dHRvbiBjbGFzc05hbWU9J2Jvb2ttYXJrLWljb24nIGRpc2FibGVkPXshc2lnbmVkSW59IGFjdGl2ZT17c3RhdHVzLmdldCgnYm9va21hcmtlZCcpfSB0aXRsZT17aW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmJvb2ttYXJrKX0gaWNvbj0nYm9va21hcmsnIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQm9va21hcmtDbGlja30gLz48L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19hY3Rpb24tYmFyLWRyb3Bkb3duJz5cbiAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGFpbmVyIHNpemU9ezE4fSBpY29uPSdlbGxpcHNpcy1oJyBzdGF0dXM9e3N0YXR1c30gaXRlbXM9e21lbnV9IGRpcmVjdGlvbj0nbGVmdCcgdGl0bGU9e2ludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5tb3JlKX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKGluamVjdEludGwoQWN0aW9uQmFyKSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFnQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBelBBO0FBR0E7QUFDQTtBQUNBO0FBTEE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThOQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/features/status/components/action_bar.jsx\n");

/***/ }),

/***/ "./app/javascript/mastodon/features/status/components/detailed_status.jsx":
/*!********************************************************************************!*\
  !*** ./app/javascript/mastodon/features/status/components/detailed_status.jsx ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/es/index.js\");\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-immutable-proptypes */ \"./node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js\");\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_immutable_pure_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-immutable-pure-component */ \"./node_modules/react-immutable-pure-component/lib/react-immutable-pure-component.es.js\");\n/* harmony import */ var mastodon_components_animated_number__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mastodon/components/animated_number */ \"./app/javascript/mastodon/components/animated_number.tsx\");\n/* harmony import */ var mastodon_components_edited_timestamp__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! mastodon/components/edited_timestamp */ \"./app/javascript/mastodon/components/edited_timestamp/index.jsx\");\n/* harmony import */ var mastodon_components_hashtag_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! mastodon/components/hashtag_bar */ \"./app/javascript/mastodon/components/hashtag_bar.tsx\");\n/* harmony import */ var mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! mastodon/components/icon */ \"./app/javascript/mastodon/components/icon.tsx\");\n/* harmony import */ var mastodon_components_picture_in_picture_placeholder__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! mastodon/components/picture_in_picture_placeholder */ \"./app/javascript/mastodon/components/picture_in_picture_placeholder.jsx\");\n/* harmony import */ var _components_avatar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/avatar */ \"./app/javascript/mastodon/components/avatar.tsx\");\n/* harmony import */ var _components_display_name__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/display_name */ \"./app/javascript/mastodon/components/display_name.tsx\");\n/* harmony import */ var _components_media_gallery__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../components/media_gallery */ \"./app/javascript/mastodon/components/media_gallery.jsx\");\n/* harmony import */ var _components_status_content__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../components/status_content */ \"./app/javascript/mastodon/components/status_content.jsx\");\n/* harmony import */ var _audio__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../audio */ \"./app/javascript/mastodon/features/audio/index.jsx\");\n/* harmony import */ var _ui_util_schedule_idle_task__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ui/util/schedule_idle_task */ \"./app/javascript/mastodon/features/ui/util/schedule_idle_task.js\");\n/* harmony import */ var _video__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../video */ \"./app/javascript/mastodon/features/video/index.jsx\");\n/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./card */ \"./app/javascript/mastodon/features/status/components/card.jsx\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__);\nvar _jsxFileName = \"/home/sleepybear/workspace/mastodon-sleepybear/app/javascript/mastodon/features/status/components/detailed_status.jsx\";\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  public_short: {\n    id: \"privacy.public.short\",\n    defaultMessage: \"Public\"\n  },\n  unlisted_short: {\n    id: \"privacy.unlisted.short\",\n    defaultMessage: \"Unlisted\"\n  },\n  private_short: {\n    id: \"privacy.private.short\",\n    defaultMessage: \"Followers only\"\n  },\n  direct_short: {\n    id: \"privacy.direct.short\",\n    defaultMessage: \"Mentioned people only\"\n  }\n});\nclass DetailedStatus extends react_immutable_pure_component__WEBPACK_IMPORTED_MODULE_5__[\"default\"] {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      height: null\n    };\n    this.handleAccountClick = e => {\n      if (e.button === 0 && !(e.ctrlKey || e.metaKey) && this.context.router) {\n        e.preventDefault();\n        this.context.router.history.push(\"/@\" + this.props.status.getIn(['account', 'acct']));\n      }\n      e.stopPropagation();\n    };\n    this.handleOpenVideo = options => {\n      this.props.onOpenVideo(this.props.status.getIn(['media_attachments', 0]), options);\n    };\n    this.handleExpandedToggle = () => {\n      this.props.onToggleHidden(this.props.status);\n    };\n    this.setRef = c => {\n      this.node = c;\n      this._measureHeight();\n    };\n    this.handleModalLink = e => {\n      e.preventDefault();\n      var href;\n      if (e.target.nodeName !== 'A') {\n        href = e.target.parentNode.href;\n      } else {\n        href = e.target.href;\n      }\n      window.open(href, 'mastodon-intent', 'width=445,height=600,resizable=no,menubar=no,status=no,scrollbars=yes');\n    };\n    this.handleTranslate = () => {\n      var {\n        onTranslate,\n        status\n      } = this.props;\n      onTranslate(status);\n    };\n  }\n  _measureHeight(heightJustChanged) {\n    if (this.props.measureHeight && this.node) {\n      Object(_ui_util_schedule_idle_task__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(() => this.node && this.setState({\n        height: Math.ceil(this.node.scrollHeight) + 1\n      }));\n      if (this.props.onHeightChange && heightJustChanged) {\n        this.props.onHeightChange();\n      }\n    }\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this._measureHeight(prevState.height !== this.state.height);\n  }\n  _properStatus() {\n    var {\n      status\n    } = this.props;\n    if (status.get('reblog', null) !== null && typeof status.get('reblog') === 'object') {\n      return status.get('reblog');\n    } else {\n      return status;\n    }\n  }\n  getAttachmentAspectRatio() {\n    var attachments = this._properStatus().get('media_attachments');\n    if (attachments.getIn([0, 'type']) === 'video') {\n      return attachments.getIn([0, 'meta', 'original', 'width']) + \" / \" + attachments.getIn([0, 'meta', 'original', 'height']);\n    } else if (attachments.getIn([0, 'type']) === 'audio') {\n      return '16 / 9';\n    } else {\n      return attachments.size === 1 && attachments.getIn([0, 'meta', 'small', 'aspect']) ? attachments.getIn([0, 'meta', 'small', 'aspect']) : '3 / 2';\n    }\n  }\n  render() {\n    var status = this._properStatus();\n    var outerStyle = {\n      boxSizing: 'border-box'\n    };\n    var {\n      intl,\n      compact,\n      pictureInPicture\n    } = this.props;\n    if (!status) {\n      return null;\n    }\n    var media = '';\n    var applicationLink = '';\n    var reblogLink = '';\n    var reblogIcon = 'retweet';\n    var favouriteLink = '';\n    var edited = '';\n    if (this.props.measureHeight) {\n      outerStyle.height = this.state.height + \"px\";\n    }\n    var language = status.getIn(['translation', 'language']) || status.get('language');\n    if (pictureInPicture.get('inUse')) {\n      media = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_picture_in_picture_placeholder__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n        aspectRatio: this.getAttachmentAspectRatio()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }, this);\n    } else if (status.get('media_attachments').size > 0) {\n      if (status.getIn(['media_attachments', 0, 'type']) === 'audio') {\n        var attachment = status.getIn(['media_attachments', 0]);\n        var description = attachment.getIn(['translation', 'description']) || attachment.get('description');\n        media = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_audio__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n          src: attachment.get('url'),\n          alt: description,\n          lang: language,\n          duration: attachment.getIn(['meta', 'original', 'duration'], 0),\n          poster: attachment.get('preview_url') || status.getIn(['account', 'avatar_static']),\n          backgroundColor: attachment.getIn(['meta', 'colors', 'background']),\n          foregroundColor: attachment.getIn(['meta', 'colors', 'foreground']),\n          accentColor: attachment.getIn(['meta', 'colors', 'accent']),\n          sensitive: status.get('sensitive'),\n          visible: this.props.showMedia,\n          blurhash: attachment.get('blurhash'),\n          height: 150,\n          onToggleVisibility: this.props.onToggleMediaVisibility\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this);\n      } else if (status.getIn(['media_attachments', 0, 'type']) === 'video') {\n        var _attachment = status.getIn(['media_attachments', 0]);\n        var _description = _attachment.getIn(['translation', 'description']) || _attachment.get('description');\n        media = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_video__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n          preview: _attachment.get('preview_url'),\n          frameRate: _attachment.getIn(['meta', 'original', 'frame_rate']),\n          aspectRatio: _attachment.getIn(['meta', 'original', 'width']) + \" / \" + _attachment.getIn(['meta', 'original', 'height']),\n          blurhash: _attachment.get('blurhash'),\n          src: _attachment.get('url'),\n          alt: _description,\n          lang: language,\n          width: 300,\n          height: 150,\n          onOpenVideo: this.handleOpenVideo,\n          sensitive: status.get('sensitive'),\n          visible: this.props.showMedia,\n          onToggleVisibility: this.props.onToggleMediaVisibility\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this);\n      } else {\n        media = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_components_media_gallery__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n          standalone: true,\n          sensitive: status.get('sensitive'),\n          media: status.get('media_attachments'),\n          lang: language,\n          height: 300,\n          onOpenMedia: this.props.onOpenMedia,\n          visible: this.props.showMedia,\n          onToggleVisibility: this.props.onToggleMediaVisibility\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this);\n      }\n    } else if (status.get('spoiler_text').length === 0) {\n      media = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_card__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n        sensitive: status.get('sensitive'),\n        onOpenMedia: this.props.onOpenMedia,\n        card: status.get('card', null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 15\n      }, this);\n    }\n    if (status.get('application')) {\n      applicationLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n        children: [\" \\xB7 \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"a\", {\n          className: \"detailed-status__application\",\n          href: status.getIn(['application', 'website']),\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: status.getIn(['application', 'name'])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true);\n    }\n    var visibilityIconInfo = {\n      'public': {\n        icon: 'globe',\n        text: intl.formatMessage(messages.public_short)\n      },\n      'unlisted': {\n        icon: 'unlock',\n        text: intl.formatMessage(messages.unlisted_short)\n      },\n      'private': {\n        icon: 'lock',\n        text: intl.formatMessage(messages.private_short)\n      },\n      'direct': {\n        icon: 'at',\n        text: intl.formatMessage(messages.direct_short)\n      }\n    };\n    var visibilityIcon = visibilityIconInfo[status.get('visibility')];\n    var visibilityLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n      children: [\" \\xB7 \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n        id: visibilityIcon.icon,\n        title: visibilityIcon.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true);\n    if (['private', 'direct'].includes(status.get('visibility'))) {\n      reblogLink = '';\n    } else if (this.context.router) {\n      reblogLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n        children: [' · ', /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_3__[\"Link\"], {\n          to: \"/@\" + status.getIn(['account', 'acct']) + \"/\" + status.get('id') + \"/reblogs\",\n          className: \"detailed-status__link\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n            id: reblogIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"span\", {\n            className: \"detailed-status__reblogs\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_animated_number__WEBPACK_IMPORTED_MODULE_6__[\"AnimatedNumber\"], {\n              value: status.get('reblogs_count')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    } else {\n      reblogLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n        children: [' · ', /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"a\", {\n          href: \"/interact/\" + status.get('id') + \"?type=reblog\",\n          className: \"detailed-status__link\",\n          onClick: this.handleModalLink,\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n            id: reblogIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"span\", {\n            className: \"detailed-status__reblogs\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_animated_number__WEBPACK_IMPORTED_MODULE_6__[\"AnimatedNumber\"], {\n              value: status.get('reblogs_count')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (this.context.router) {\n      favouriteLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_3__[\"Link\"], {\n        to: \"/@\" + status.getIn(['account', 'acct']) + \"/\" + status.get('id') + \"/favourites\",\n        className: \"detailed-status__link\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n          id: \"star\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"span\", {\n          className: \"detailed-status__favorites\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_animated_number__WEBPACK_IMPORTED_MODULE_6__[\"AnimatedNumber\"], {\n            value: status.get('favourites_count')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this);\n    } else {\n      favouriteLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"a\", {\n        href: \"/interact/\" + status.get('id') + \"?type=favourite\",\n        className: \"detailed-status__link\",\n        onClick: this.handleModalLink,\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n          id: \"star\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"span\", {\n          className: \"detailed-status__favorites\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_animated_number__WEBPACK_IMPORTED_MODULE_6__[\"AnimatedNumber\"], {\n            value: status.get('favourites_count')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this);\n    }\n    if (status.get('edited_at')) {\n      edited = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n        children: [' · ', /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_edited_timestamp__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n          statusId: status.get('id'),\n          timestamp: status.get('edited_at')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    var {\n      statusContentProps,\n      hashtagBar\n    } = Object(mastodon_components_hashtag_bar__WEBPACK_IMPORTED_MODULE_8__[\"getHashtagBarForStatus\"])(status);\n    var expanded = !status.get('hidden') || status.get('spoiler_text').length === 0;\n    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n      style: outerStyle,\n      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n        ref: this.setRef,\n        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('detailed-status', {\n          compact\n        }),\n        children: [status.get('visibility') === 'direct' && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n          className: \"status__prepend\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n            className: \"status__prepend-icon-wrapper\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n              id: \"at\",\n              className: \"status__prepend-icon\",\n              fixedWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 61\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n            id: \"status.direct_indicator\",\n            defaultMessage: \"Private mention\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"a\", {\n          href: \"/@\" + status.getIn(['account', 'acct']),\n          onClick: this.handleAccountClick,\n          className: \"detailed-status__display-name\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n            className: \"detailed-status__display-avatar\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_components_avatar__WEBPACK_IMPORTED_MODULE_11__[\"Avatar\"], {\n              account: status.get('account'),\n              size: 46\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 62\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_components_display_name__WEBPACK_IMPORTED_MODULE_12__[\"DisplayName\"], {\n            account: status.get('account'),\n            localDomain: this.props.domain\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_components_status_content__WEBPACK_IMPORTED_MODULE_14__[\"default\"], _extends({\n          status: status,\n          expanded: !status.get('hidden'),\n          onExpandedToggle: this.handleExpandedToggle,\n          onTranslate: this.handleTranslate\n        }, statusContentProps), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), media, expanded && hashtagBar, /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n          className: \"detailed-status__meta\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"a\", {\n            className: \"detailed-status__datetime\",\n            href: \"/@\" + status.getIn(['account', 'acct']) + \"/\" + status.get('id'),\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedDate\"], {\n              value: new Date(status.get('created_at')),\n              hour12: false,\n              year: \"numeric\",\n              month: \"short\",\n              day: \"2-digit\",\n              hour: \"2-digit\",\n              minute: \"2-digit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), edited, visibilityLink, applicationLink, reblogLink, \" \\xB7 \", favouriteLink]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this);\n  }\n}\nDetailedStatus.contextTypes = {\n  router: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object\n};\nDetailedStatus.propTypes = {\n  status: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default.a.map,\n  onOpenMedia: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onOpenVideo: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onToggleHidden: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onTranslate: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  measureHeight: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  onHeightChange: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  domain: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  compact: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  showMedia: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  pictureInPicture: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default.a.contains({\n    inUse: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n    available: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool\n  }),\n  onToggleMediaVisibility: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(DetailedStatus));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9mZWF0dXJlcy9zdGF0dXMvY29tcG9uZW50cy9kZXRhaWxlZF9zdGF0dXMuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBwL2phdmFzY3JpcHQvbWFzdG9kb24vZmVhdHVyZXMvc3RhdHVzL2NvbXBvbmVudHMvZGV0YWlsZWRfc3RhdHVzLmpzeD85ZDEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCB7IGluamVjdEludGwsIGRlZmluZU1lc3NhZ2VzLCBGb3JtYXR0ZWREYXRlLCBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuXG5pbXBvcnQgSW1tdXRhYmxlUHJvcFR5cGVzIGZyb20gJ3JlYWN0LWltbXV0YWJsZS1wcm9wdHlwZXMnO1xuaW1wb3J0IEltbXV0YWJsZVB1cmVDb21wb25lbnQgZnJvbSAncmVhY3QtaW1tdXRhYmxlLXB1cmUtY29tcG9uZW50JztcblxuaW1wb3J0IHsgQW5pbWF0ZWROdW1iZXIgfSBmcm9tICdtYXN0b2Rvbi9jb21wb25lbnRzL2FuaW1hdGVkX251bWJlcic7XG5pbXBvcnQgRWRpdGVkVGltZXN0YW1wIGZyb20gJ21hc3RvZG9uL2NvbXBvbmVudHMvZWRpdGVkX3RpbWVzdGFtcCc7XG5pbXBvcnQgeyBnZXRIYXNodGFnQmFyRm9yU3RhdHVzIH0gZnJvbSAnbWFzdG9kb24vY29tcG9uZW50cy9oYXNodGFnX2Jhcic7XG5pbXBvcnQgeyBJY29uIH0gIGZyb20gJ21hc3RvZG9uL2NvbXBvbmVudHMvaWNvbic7XG5pbXBvcnQgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyIGZyb20gJ21hc3RvZG9uL2NvbXBvbmVudHMvcGljdHVyZV9pbl9waWN0dXJlX3BsYWNlaG9sZGVyJztcblxuaW1wb3J0IHsgQXZhdGFyIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0IHsgRGlzcGxheU5hbWUgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2Rpc3BsYXlfbmFtZSc7XG5pbXBvcnQgTWVkaWFHYWxsZXJ5IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvbWVkaWFfZ2FsbGVyeSc7XG5pbXBvcnQgU3RhdHVzQ29udGVudCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL3N0YXR1c19jb250ZW50JztcbmltcG9ydCBBdWRpbyBmcm9tICcuLi8uLi9hdWRpbyc7XG5pbXBvcnQgc2NoZWR1bGVJZGxlVGFzayBmcm9tICcuLi8uLi91aS91dGlsL3NjaGVkdWxlX2lkbGVfdGFzayc7XG5pbXBvcnQgVmlkZW8gZnJvbSAnLi4vLi4vdmlkZW8nO1xuXG5pbXBvcnQgQ2FyZCBmcm9tICcuL2NhcmQnO1xuXG5jb25zdCBtZXNzYWdlcyA9IGRlZmluZU1lc3NhZ2VzKHtcbiAgcHVibGljX3Nob3J0OiB7IGlkOiAncHJpdmFjeS5wdWJsaWMuc2hvcnQnLCBkZWZhdWx0TWVzc2FnZTogJ1B1YmxpYycgfSxcbiAgdW5saXN0ZWRfc2hvcnQ6IHsgaWQ6ICdwcml2YWN5LnVubGlzdGVkLnNob3J0JywgZGVmYXVsdE1lc3NhZ2U6ICdVbmxpc3RlZCcgfSxcbiAgcHJpdmF0ZV9zaG9ydDogeyBpZDogJ3ByaXZhY3kucHJpdmF0ZS5zaG9ydCcsIGRlZmF1bHRNZXNzYWdlOiAnRm9sbG93ZXJzIG9ubHknIH0sXG4gIGRpcmVjdF9zaG9ydDogeyBpZDogJ3ByaXZhY3kuZGlyZWN0LnNob3J0JywgZGVmYXVsdE1lc3NhZ2U6ICdNZW50aW9uZWQgcGVvcGxlIG9ubHknIH0sXG59KTtcblxuY2xhc3MgRGV0YWlsZWRTdGF0dXMgZXh0ZW5kcyBJbW11dGFibGVQdXJlQ29tcG9uZW50IHtcblxuICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xuICAgIHJvdXRlcjogUHJvcFR5cGVzLm9iamVjdCxcbiAgfTtcblxuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHN0YXR1czogSW1tdXRhYmxlUHJvcFR5cGVzLm1hcCxcbiAgICBvbk9wZW5NZWRpYTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbk9wZW5WaWRlbzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblRvZ2dsZUhpZGRlbjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblRyYW5zbGF0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBtZWFzdXJlSGVpZ2h0OiBQcm9wVHlwZXMuYm9vbCxcbiAgICBvbkhlaWdodENoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgZG9tYWluOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgY29tcGFjdDogUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd01lZGlhOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBwaWN0dXJlSW5QaWN0dXJlOiBJbW11dGFibGVQcm9wVHlwZXMuY29udGFpbnMoe1xuICAgICAgaW5Vc2U6IFByb3BUeXBlcy5ib29sLFxuICAgICAgYXZhaWxhYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICB9KSxcbiAgICBvblRvZ2dsZU1lZGlhVmlzaWJpbGl0eTogUHJvcFR5cGVzLmZ1bmMsXG4gIH07XG5cbiAgc3RhdGUgPSB7XG4gICAgaGVpZ2h0OiBudWxsLFxuICB9O1xuXG4gIGhhbmRsZUFjY291bnRDbGljayA9IChlKSA9PiB7XG4gICAgaWYgKGUuYnV0dG9uID09PSAwICYmICEoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgdGhpcy5jb250ZXh0LnJvdXRlcikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5jb250ZXh0LnJvdXRlci5oaXN0b3J5LnB1c2goYC9AJHt0aGlzLnByb3BzLnN0YXR1cy5nZXRJbihbJ2FjY291bnQnLCAnYWNjdCddKX1gKTtcbiAgICB9XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9O1xuXG4gIGhhbmRsZU9wZW5WaWRlbyA9IChvcHRpb25zKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbk9wZW5WaWRlbyh0aGlzLnByb3BzLnN0YXR1cy5nZXRJbihbJ21lZGlhX2F0dGFjaG1lbnRzJywgMF0pLCBvcHRpb25zKTtcbiAgfTtcblxuICBoYW5kbGVFeHBhbmRlZFRvZ2dsZSA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uVG9nZ2xlSGlkZGVuKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfTtcblxuICBfbWVhc3VyZUhlaWdodCAoaGVpZ2h0SnVzdENoYW5nZWQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tZWFzdXJlSGVpZ2h0ICYmIHRoaXMubm9kZSkge1xuICAgICAgc2NoZWR1bGVJZGxlVGFzaygoKSA9PiB0aGlzLm5vZGUgJiYgdGhpcy5zZXRTdGF0ZSh7IGhlaWdodDogTWF0aC5jZWlsKHRoaXMubm9kZS5zY3JvbGxIZWlnaHQpICsgMSB9KSk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLm9uSGVpZ2h0Q2hhbmdlICYmIGhlaWdodEp1c3RDaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25IZWlnaHRDaGFuZ2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRSZWYgPSBjID0+IHtcbiAgICB0aGlzLm5vZGUgPSBjO1xuICAgIHRoaXMuX21lYXN1cmVIZWlnaHQoKTtcbiAgfTtcblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdGhpcy5fbWVhc3VyZUhlaWdodChwcmV2U3RhdGUuaGVpZ2h0ICE9PSB0aGlzLnN0YXRlLmhlaWdodCk7XG4gIH1cblxuICBoYW5kbGVNb2RhbExpbmsgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBsZXQgaHJlZjtcblxuICAgIGlmIChlLnRhcmdldC5ub2RlTmFtZSAhPT0gJ0EnKSB7XG4gICAgICBocmVmID0gZS50YXJnZXQucGFyZW50Tm9kZS5ocmVmO1xuICAgIH0gZWxzZSB7XG4gICAgICBocmVmID0gZS50YXJnZXQuaHJlZjtcbiAgICB9XG5cbiAgICB3aW5kb3cub3BlbihocmVmLCAnbWFzdG9kb24taW50ZW50JywgJ3dpZHRoPTQ0NSxoZWlnaHQ9NjAwLHJlc2l6YWJsZT1ubyxtZW51YmFyPW5vLHN0YXR1cz1ubyxzY3JvbGxiYXJzPXllcycpO1xuICB9O1xuXG4gIGhhbmRsZVRyYW5zbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IG9uVHJhbnNsYXRlLCBzdGF0dXMgfSA9IHRoaXMucHJvcHM7XG4gICAgb25UcmFuc2xhdGUoc3RhdHVzKTtcbiAgfTtcblxuICBfcHJvcGVyU3RhdHVzICgpIHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChzdGF0dXMuZ2V0KCdyZWJsb2cnLCBudWxsKSAhPT0gbnVsbCAmJiB0eXBlb2Ygc3RhdHVzLmdldCgncmVibG9nJykgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gc3RhdHVzLmdldCgncmVibG9nJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuICB9XG5cbiAgZ2V0QXR0YWNobWVudEFzcGVjdFJhdGlvICgpIHtcbiAgICBjb25zdCBhdHRhY2htZW50cyA9IHRoaXMuX3Byb3BlclN0YXR1cygpLmdldCgnbWVkaWFfYXR0YWNobWVudHMnKTtcblxuICAgIGlmIChhdHRhY2htZW50cy5nZXRJbihbMCwgJ3R5cGUnXSkgPT09ICd2aWRlbycpIHtcbiAgICAgIHJldHVybiBgJHthdHRhY2htZW50cy5nZXRJbihbMCwgJ21ldGEnLCAnb3JpZ2luYWwnLCAnd2lkdGgnXSl9IC8gJHthdHRhY2htZW50cy5nZXRJbihbMCwgJ21ldGEnLCAnb3JpZ2luYWwnLCAnaGVpZ2h0J10pfWA7XG4gICAgfSBlbHNlIGlmIChhdHRhY2htZW50cy5nZXRJbihbMCwgJ3R5cGUnXSkgPT09ICdhdWRpbycpIHtcbiAgICAgIHJldHVybiAnMTYgLyA5JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChhdHRhY2htZW50cy5zaXplID09PSAxICYmIGF0dGFjaG1lbnRzLmdldEluKFswLCAnbWV0YScsICdzbWFsbCcsICdhc3BlY3QnXSkpID8gYXR0YWNobWVudHMuZ2V0SW4oWzAsICdtZXRhJywgJ3NtYWxsJywgJ2FzcGVjdCddKSA6ICczIC8gMidcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuX3Byb3BlclN0YXR1cygpO1xuICAgIGNvbnN0IG91dGVyU3R5bGUgPSB7IGJveFNpemluZzogJ2JvcmRlci1ib3gnIH07XG4gICAgY29uc3QgeyBpbnRsLCBjb21wYWN0LCBwaWN0dXJlSW5QaWN0dXJlIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxldCBtZWRpYSAgICAgICAgICAgPSAnJztcbiAgICBsZXQgYXBwbGljYXRpb25MaW5rID0gJyc7XG4gICAgbGV0IHJlYmxvZ0xpbmsgPSAnJztcbiAgICBsZXQgcmVibG9nSWNvbiA9ICdyZXR3ZWV0JztcbiAgICBsZXQgZmF2b3VyaXRlTGluayA9ICcnO1xuICAgIGxldCBlZGl0ZWQgPSAnJztcblxuICAgIGlmICh0aGlzLnByb3BzLm1lYXN1cmVIZWlnaHQpIHtcbiAgICAgIG91dGVyU3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5zdGF0ZS5oZWlnaHR9cHhgO1xuICAgIH1cblxuICAgIGNvbnN0IGxhbmd1YWdlID0gc3RhdHVzLmdldEluKFsndHJhbnNsYXRpb24nLCAnbGFuZ3VhZ2UnXSkgfHwgc3RhdHVzLmdldCgnbGFuZ3VhZ2UnKTtcblxuICAgIGlmIChwaWN0dXJlSW5QaWN0dXJlLmdldCgnaW5Vc2UnKSkge1xuICAgICAgbWVkaWEgPSA8UGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyIGFzcGVjdFJhdGlvPXt0aGlzLmdldEF0dGFjaG1lbnRBc3BlY3RSYXRpbygpfSAvPjtcbiAgICB9IGVsc2UgaWYgKHN0YXR1cy5nZXQoJ21lZGlhX2F0dGFjaG1lbnRzJykuc2l6ZSA+IDApIHtcbiAgICAgIGlmIChzdGF0dXMuZ2V0SW4oWydtZWRpYV9hdHRhY2htZW50cycsIDAsICd0eXBlJ10pID09PSAnYXVkaW8nKSB7XG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSBzdGF0dXMuZ2V0SW4oWydtZWRpYV9hdHRhY2htZW50cycsIDBdKTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBhdHRhY2htZW50LmdldEluKFsndHJhbnNsYXRpb24nLCAnZGVzY3JpcHRpb24nXSkgfHwgYXR0YWNobWVudC5nZXQoJ2Rlc2NyaXB0aW9uJyk7XG5cbiAgICAgICAgbWVkaWEgPSAoXG4gICAgICAgICAgPEF1ZGlvXG4gICAgICAgICAgICBzcmM9e2F0dGFjaG1lbnQuZ2V0KCd1cmwnKX1cbiAgICAgICAgICAgIGFsdD17ZGVzY3JpcHRpb259XG4gICAgICAgICAgICBsYW5nPXtsYW5ndWFnZX1cbiAgICAgICAgICAgIGR1cmF0aW9uPXthdHRhY2htZW50LmdldEluKFsnbWV0YScsICdvcmlnaW5hbCcsICdkdXJhdGlvbiddLCAwKX1cbiAgICAgICAgICAgIHBvc3Rlcj17YXR0YWNobWVudC5nZXQoJ3ByZXZpZXdfdXJsJykgfHwgc3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdhdmF0YXJfc3RhdGljJ10pfVxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yPXthdHRhY2htZW50LmdldEluKFsnbWV0YScsICdjb2xvcnMnLCAnYmFja2dyb3VuZCddKX1cbiAgICAgICAgICAgIGZvcmVncm91bmRDb2xvcj17YXR0YWNobWVudC5nZXRJbihbJ21ldGEnLCAnY29sb3JzJywgJ2ZvcmVncm91bmQnXSl9XG4gICAgICAgICAgICBhY2NlbnRDb2xvcj17YXR0YWNobWVudC5nZXRJbihbJ21ldGEnLCAnY29sb3JzJywgJ2FjY2VudCddKX1cbiAgICAgICAgICAgIHNlbnNpdGl2ZT17c3RhdHVzLmdldCgnc2Vuc2l0aXZlJyl9XG4gICAgICAgICAgICB2aXNpYmxlPXt0aGlzLnByb3BzLnNob3dNZWRpYX1cbiAgICAgICAgICAgIGJsdXJoYXNoPXthdHRhY2htZW50LmdldCgnYmx1cmhhc2gnKX1cbiAgICAgICAgICAgIGhlaWdodD17MTUwfVxuICAgICAgICAgICAgb25Ub2dnbGVWaXNpYmlsaXR5PXt0aGlzLnByb3BzLm9uVG9nZ2xlTWVkaWFWaXNpYmlsaXR5fVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1cy5nZXRJbihbJ21lZGlhX2F0dGFjaG1lbnRzJywgMCwgJ3R5cGUnXSkgPT09ICd2aWRlbycpIHtcbiAgICAgICAgY29uc3QgYXR0YWNobWVudCA9IHN0YXR1cy5nZXRJbihbJ21lZGlhX2F0dGFjaG1lbnRzJywgMF0pO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGF0dGFjaG1lbnQuZ2V0SW4oWyd0cmFuc2xhdGlvbicsICdkZXNjcmlwdGlvbiddKSB8fCBhdHRhY2htZW50LmdldCgnZGVzY3JpcHRpb24nKTtcblxuICAgICAgICBtZWRpYSA9IChcbiAgICAgICAgICA8VmlkZW9cbiAgICAgICAgICAgIHByZXZpZXc9e2F0dGFjaG1lbnQuZ2V0KCdwcmV2aWV3X3VybCcpfVxuICAgICAgICAgICAgZnJhbWVSYXRlPXthdHRhY2htZW50LmdldEluKFsnbWV0YScsICdvcmlnaW5hbCcsICdmcmFtZV9yYXRlJ10pfVxuICAgICAgICAgICAgYXNwZWN0UmF0aW89e2Ake2F0dGFjaG1lbnQuZ2V0SW4oWydtZXRhJywgJ29yaWdpbmFsJywgJ3dpZHRoJ10pfSAvICR7YXR0YWNobWVudC5nZXRJbihbJ21ldGEnLCAnb3JpZ2luYWwnLCAnaGVpZ2h0J10pfWB9XG4gICAgICAgICAgICBibHVyaGFzaD17YXR0YWNobWVudC5nZXQoJ2JsdXJoYXNoJyl9XG4gICAgICAgICAgICBzcmM9e2F0dGFjaG1lbnQuZ2V0KCd1cmwnKX1cbiAgICAgICAgICAgIGFsdD17ZGVzY3JpcHRpb259XG4gICAgICAgICAgICBsYW5nPXtsYW5ndWFnZX1cbiAgICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgICBoZWlnaHQ9ezE1MH1cbiAgICAgICAgICAgIG9uT3BlblZpZGVvPXt0aGlzLmhhbmRsZU9wZW5WaWRlb31cbiAgICAgICAgICAgIHNlbnNpdGl2ZT17c3RhdHVzLmdldCgnc2Vuc2l0aXZlJyl9XG4gICAgICAgICAgICB2aXNpYmxlPXt0aGlzLnByb3BzLnNob3dNZWRpYX1cbiAgICAgICAgICAgIG9uVG9nZ2xlVmlzaWJpbGl0eT17dGhpcy5wcm9wcy5vblRvZ2dsZU1lZGlhVmlzaWJpbGl0eX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVkaWEgPSAoXG4gICAgICAgICAgPE1lZGlhR2FsbGVyeVxuICAgICAgICAgICAgc3RhbmRhbG9uZVxuICAgICAgICAgICAgc2Vuc2l0aXZlPXtzdGF0dXMuZ2V0KCdzZW5zaXRpdmUnKX1cbiAgICAgICAgICAgIG1lZGlhPXtzdGF0dXMuZ2V0KCdtZWRpYV9hdHRhY2htZW50cycpfVxuICAgICAgICAgICAgbGFuZz17bGFuZ3VhZ2V9XG4gICAgICAgICAgICBoZWlnaHQ9ezMwMH1cbiAgICAgICAgICAgIG9uT3Blbk1lZGlhPXt0aGlzLnByb3BzLm9uT3Blbk1lZGlhfVxuICAgICAgICAgICAgdmlzaWJsZT17dGhpcy5wcm9wcy5zaG93TWVkaWF9XG4gICAgICAgICAgICBvblRvZ2dsZVZpc2liaWxpdHk9e3RoaXMucHJvcHMub25Ub2dnbGVNZWRpYVZpc2liaWxpdHl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0YXR1cy5nZXQoJ3Nwb2lsZXJfdGV4dCcpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbWVkaWEgPSA8Q2FyZCBzZW5zaXRpdmU9e3N0YXR1cy5nZXQoJ3NlbnNpdGl2ZScpfSBvbk9wZW5NZWRpYT17dGhpcy5wcm9wcy5vbk9wZW5NZWRpYX0gY2FyZD17c3RhdHVzLmdldCgnY2FyZCcsIG51bGwpfSAvPjtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzLmdldCgnYXBwbGljYXRpb24nKSkge1xuICAgICAgYXBwbGljYXRpb25MaW5rID0gPD4gwrcgPGEgY2xhc3NOYW1lPSdkZXRhaWxlZC1zdGF0dXNfX2FwcGxpY2F0aW9uJyBocmVmPXtzdGF0dXMuZ2V0SW4oWydhcHBsaWNhdGlvbicsICd3ZWJzaXRlJ10pfSB0YXJnZXQ9J19ibGFuaycgcmVsPSdub29wZW5lciBub3JlZmVycmVyJz57c3RhdHVzLmdldEluKFsnYXBwbGljYXRpb24nLCAnbmFtZSddKX08L2E+PC8+O1xuICAgIH1cblxuICAgIGNvbnN0IHZpc2liaWxpdHlJY29uSW5mbyA9IHtcbiAgICAgICdwdWJsaWMnOiB7IGljb246ICdnbG9iZScsIHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5wdWJsaWNfc2hvcnQpIH0sXG4gICAgICAndW5saXN0ZWQnOiB7IGljb246ICd1bmxvY2snLCB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMudW5saXN0ZWRfc2hvcnQpIH0sXG4gICAgICAncHJpdmF0ZSc6IHsgaWNvbjogJ2xvY2snLCB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMucHJpdmF0ZV9zaG9ydCkgfSxcbiAgICAgICdkaXJlY3QnOiB7IGljb246ICdhdCcsIHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5kaXJlY3Rfc2hvcnQpIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IHZpc2liaWxpdHlJY29uID0gdmlzaWJpbGl0eUljb25JbmZvW3N0YXR1cy5nZXQoJ3Zpc2liaWxpdHknKV07XG4gICAgY29uc3QgdmlzaWJpbGl0eUxpbmsgPSA8PiDCtyA8SWNvbiBpZD17dmlzaWJpbGl0eUljb24uaWNvbn0gdGl0bGU9e3Zpc2liaWxpdHlJY29uLnRleHR9IC8+PC8+O1xuXG4gICAgaWYgKFsncHJpdmF0ZScsICdkaXJlY3QnXS5pbmNsdWRlcyhzdGF0dXMuZ2V0KCd2aXNpYmlsaXR5JykpKSB7XG4gICAgICByZWJsb2dMaW5rID0gJyc7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNvbnRleHQucm91dGVyKSB7XG4gICAgICByZWJsb2dMaW5rID0gKFxuICAgICAgICA8PlxuICAgICAgICAgIHsnIMK3ICd9XG4gICAgICAgICAgPExpbmsgdG89e2AvQCR7c3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdhY2N0J10pfS8ke3N0YXR1cy5nZXQoJ2lkJyl9L3JlYmxvZ3NgfSBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fbGluayc+XG4gICAgICAgICAgICA8SWNvbiBpZD17cmVibG9nSWNvbn0gLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19yZWJsb2dzJz5cbiAgICAgICAgICAgICAgPEFuaW1hdGVkTnVtYmVyIHZhbHVlPXtzdGF0dXMuZ2V0KCdyZWJsb2dzX2NvdW50Jyl9IC8+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8Lz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYmxvZ0xpbmsgPSAoXG4gICAgICAgIDw+XG4gICAgICAgICAgeycgwrcgJ31cbiAgICAgICAgICA8YSBocmVmPXtgL2ludGVyYWN0LyR7c3RhdHVzLmdldCgnaWQnKX0/dHlwZT1yZWJsb2dgfSBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fbGluaycgb25DbGljaz17dGhpcy5oYW5kbGVNb2RhbExpbmt9PlxuICAgICAgICAgICAgPEljb24gaWQ9e3JlYmxvZ0ljb259IC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fcmVibG9ncyc+XG4gICAgICAgICAgICAgIDxBbmltYXRlZE51bWJlciB2YWx1ZT17c3RhdHVzLmdldCgncmVibG9nc19jb3VudCcpfSAvPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbnRleHQucm91dGVyKSB7XG4gICAgICBmYXZvdXJpdGVMaW5rID0gKFxuICAgICAgICA8TGluayB0bz17YC9AJHtzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2FjY3QnXSl9LyR7c3RhdHVzLmdldCgnaWQnKX0vZmF2b3VyaXRlc2B9IGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19saW5rJz5cbiAgICAgICAgICA8SWNvbiBpZD0nc3RhcicgLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fZmF2b3JpdGVzJz5cbiAgICAgICAgICAgIDxBbmltYXRlZE51bWJlciB2YWx1ZT17c3RhdHVzLmdldCgnZmF2b3VyaXRlc19jb3VudCcpfSAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9MaW5rPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmF2b3VyaXRlTGluayA9IChcbiAgICAgICAgPGEgaHJlZj17YC9pbnRlcmFjdC8ke3N0YXR1cy5nZXQoJ2lkJyl9P3R5cGU9ZmF2b3VyaXRlYH0gY2xhc3NOYW1lPSdkZXRhaWxlZC1zdGF0dXNfX2xpbmsnIG9uQ2xpY2s9e3RoaXMuaGFuZGxlTW9kYWxMaW5rfT5cbiAgICAgICAgICA8SWNvbiBpZD0nc3RhcicgLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fZmF2b3JpdGVzJz5cbiAgICAgICAgICAgIDxBbmltYXRlZE51bWJlciB2YWx1ZT17c3RhdHVzLmdldCgnZmF2b3VyaXRlc19jb3VudCcpfSAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9hPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzLmdldCgnZWRpdGVkX2F0JykpIHtcbiAgICAgIGVkaXRlZCA9IChcbiAgICAgICAgPD5cbiAgICAgICAgICB7JyDCtyAnfVxuICAgICAgICAgIDxFZGl0ZWRUaW1lc3RhbXAgc3RhdHVzSWQ9e3N0YXR1cy5nZXQoJ2lkJyl9IHRpbWVzdGFtcD17c3RhdHVzLmdldCgnZWRpdGVkX2F0Jyl9IC8+XG4gICAgICAgIDwvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7c3RhdHVzQ29udGVudFByb3BzLCBoYXNodGFnQmFyfSA9IGdldEhhc2h0YWdCYXJGb3JTdGF0dXMoc3RhdHVzKTtcbiAgICBjb25zdCBleHBhbmRlZCA9ICFzdGF0dXMuZ2V0KCdoaWRkZW4nKSB8fCBzdGF0dXMuZ2V0KCdzcG9pbGVyX3RleHQnKS5sZW5ndGggPT09IDA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZT17b3V0ZXJTdHlsZX0+XG4gICAgICAgIDxkaXYgcmVmPXt0aGlzLnNldFJlZn0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdkZXRhaWxlZC1zdGF0dXMnLCB7IGNvbXBhY3QgfSl9PlxuICAgICAgICAgIHtzdGF0dXMuZ2V0KCd2aXNpYmlsaXR5JykgPT09ICdkaXJlY3QnICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzdGF0dXNfX3ByZXBlbmQnPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3RhdHVzX19wcmVwZW5kLWljb24td3JhcHBlcic+PEljb24gaWQ9J2F0JyBjbGFzc05hbWU9J3N0YXR1c19fcHJlcGVuZC1pY29uJyBmaXhlZFdpZHRoIC8+PC9kaXY+XG4gICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPSdzdGF0dXMuZGlyZWN0X2luZGljYXRvcicgZGVmYXVsdE1lc3NhZ2U9J1ByaXZhdGUgbWVudGlvbicgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGEgaHJlZj17YC9AJHtzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2FjY3QnXSl9YH0gb25DbGljaz17dGhpcy5oYW5kbGVBY2NvdW50Q2xpY2t9IGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19kaXNwbGF5LW5hbWUnPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fZGlzcGxheS1hdmF0YXInPjxBdmF0YXIgYWNjb3VudD17c3RhdHVzLmdldCgnYWNjb3VudCcpfSBzaXplPXs0Nn0gLz48L2Rpdj5cbiAgICAgICAgICAgIDxEaXNwbGF5TmFtZSBhY2NvdW50PXtzdGF0dXMuZ2V0KCdhY2NvdW50Jyl9IGxvY2FsRG9tYWluPXt0aGlzLnByb3BzLmRvbWFpbn0gLz5cbiAgICAgICAgICA8L2E+XG5cbiAgICAgICAgICA8U3RhdHVzQ29udGVudFxuICAgICAgICAgICAgc3RhdHVzPXtzdGF0dXN9XG4gICAgICAgICAgICBleHBhbmRlZD17IXN0YXR1cy5nZXQoJ2hpZGRlbicpfVxuICAgICAgICAgICAgb25FeHBhbmRlZFRvZ2dsZT17dGhpcy5oYW5kbGVFeHBhbmRlZFRvZ2dsZX1cbiAgICAgICAgICAgIG9uVHJhbnNsYXRlPXt0aGlzLmhhbmRsZVRyYW5zbGF0ZX1cbiAgICAgICAgICAgIHsuLi5zdGF0dXNDb250ZW50UHJvcHN9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIHttZWRpYX1cblxuICAgICAgICAgIHtleHBhbmRlZCAmJiBoYXNodGFnQmFyfVxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fbWV0YSc+XG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fZGF0ZXRpbWUnIGhyZWY9e2AvQCR7c3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdhY2N0J10pfS8ke3N0YXR1cy5nZXQoJ2lkJyl9YH0gdGFyZ2V0PSdfYmxhbmsnIHJlbD0nbm9vcGVuZXIgbm9yZWZlcnJlcic+XG4gICAgICAgICAgICAgIDxGb3JtYXR0ZWREYXRlIHZhbHVlPXtuZXcgRGF0ZShzdGF0dXMuZ2V0KCdjcmVhdGVkX2F0JykpfSBob3VyMTI9e2ZhbHNlfSB5ZWFyPSdudW1lcmljJyBtb250aD0nc2hvcnQnIGRheT0nMi1kaWdpdCcgaG91cj0nMi1kaWdpdCcgbWludXRlPScyLWRpZ2l0JyAvPlxuICAgICAgICAgICAgPC9hPntlZGl0ZWR9e3Zpc2liaWxpdHlMaW5rfXthcHBsaWNhdGlvbkxpbmt9e3JlYmxvZ0xpbmt9IMK3IHtmYXZvdXJpdGVMaW5rfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmplY3RJbnRsKERldGFpbGVkU3RhdHVzKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUF5QkE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFhQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFwQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFxQkE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUE1U0E7QUFHQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXdSQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/features/status/components/detailed_status.jsx\n");

/***/ }),

/***/ "./app/javascript/mastodon/features/status/index.jsx":
/*!***********************************************************!*\
  !*** ./app/javascript/mastodon/features/status/index.jsx ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-helmet */ \"./node_modules/react-helmet/es/Helmet.js\");\n/* harmony import */ var immutable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! immutable */ \"./node_modules/immutable/dist/immutable.es.js\");\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-immutable-proptypes */ \"./node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js\");\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_immutable_pure_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-immutable-pure-component */ \"./node_modules/react-immutable-pure-component/lib/react-immutable-pure-component.es.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! reselect */ \"./node_modules/reselect/es/index.js\");\n/* harmony import */ var react_hotkeys__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-hotkeys */ \"./node_modules/react-hotkeys/index.es.js\");\n/* harmony import */ var react_hotkeys__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_hotkeys__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var mastodon_components_icon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! mastodon/components/icon */ \"./app/javascript/mastodon/components/icon.tsx\");\n/* harmony import */ var mastodon_components_loading_indicator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! mastodon/components/loading_indicator */ \"./app/javascript/mastodon/components/loading_indicator.tsx\");\n/* harmony import */ var mastodon_components_not_signed_in_indicator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! mastodon/components/not_signed_in_indicator */ \"./app/javascript/mastodon/components/not_signed_in_indicator.tsx\");\n/* harmony import */ var mastodon_containers_scroll_container__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! mastodon/containers/scroll_container */ \"./app/javascript/mastodon/containers/scroll_container.js\");\n/* harmony import */ var mastodon_features_ui_components_bundle_column_error__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! mastodon/features/ui/components/bundle_column_error */ \"./app/javascript/mastodon/features/ui/components/bundle_column_error.jsx\");\n/* harmony import */ var _actions_accounts__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../actions/accounts */ \"./app/javascript/mastodon/actions/accounts.js\");\n/* harmony import */ var _actions_blocks__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../actions/blocks */ \"./app/javascript/mastodon/actions/blocks.js\");\n/* harmony import */ var _actions_boosts__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../actions/boosts */ \"./app/javascript/mastodon/actions/boosts.js\");\n/* harmony import */ var _actions_compose__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../actions/compose */ \"./app/javascript/mastodon/actions/compose.js\");\n/* harmony import */ var _actions_domain_blocks__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../actions/domain_blocks */ \"./app/javascript/mastodon/actions/domain_blocks.js\");\n/* harmony import */ var _actions_interactions__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../actions/interactions */ \"./app/javascript/mastodon/actions/interactions.js\");\n/* harmony import */ var _actions_modal__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../actions/modal */ \"./app/javascript/mastodon/actions/modal.ts\");\n/* harmony import */ var _actions_mutes__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../actions/mutes */ \"./app/javascript/mastodon/actions/mutes.js\");\n/* harmony import */ var _actions_reports__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../actions/reports */ \"./app/javascript/mastodon/actions/reports.js\");\n/* harmony import */ var _actions_statuses__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../actions/statuses */ \"./app/javascript/mastodon/actions/statuses.js\");\n/* harmony import */ var _components_column_header__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../components/column_header */ \"./app/javascript/mastodon/components/column_header.jsx\");\n/* harmony import */ var _components_status__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../components/status */ \"./app/javascript/mastodon/components/status.jsx\");\n/* harmony import */ var _containers_status_container__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../containers/status_container */ \"./app/javascript/mastodon/containers/status_container.jsx\");\n/* harmony import */ var _initial_state__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../initial_state */ \"./app/javascript/mastodon/initial_state.js\");\n/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../selectors */ \"./app/javascript/mastodon/selectors/index.js\");\n/* harmony import */ var _ui_components_column__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../ui/components/column */ \"./app/javascript/mastodon/features/ui/components/column.jsx\");\n/* harmony import */ var _ui_util_fullscreen__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../ui/util/fullscreen */ \"./app/javascript/mastodon/features/ui/util/fullscreen.js\");\n/* harmony import */ var _components_action_bar__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/action_bar */ \"./app/javascript/mastodon/features/status/components/action_bar.jsx\");\n/* harmony import */ var _components_detailed_status__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./components/detailed_status */ \"./app/javascript/mastodon/features/status/components/detailed_status.jsx\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__);\nvar _jsxFileName = \"/home/sleepybear/workspace/mastodon-sleepybear/app/javascript/mastodon/features/status/index.jsx\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  deleteConfirm: {\n    id: \"confirmations.delete.confirm\",\n    defaultMessage: \"Delete\"\n  },\n  deleteMessage: {\n    id: \"confirmations.delete.message\",\n    defaultMessage: \"Are you sure you want to delete this status?\"\n  },\n  redraftConfirm: {\n    id: \"confirmations.redraft.confirm\",\n    defaultMessage: \"Delete & redraft\"\n  },\n  redraftMessage: {\n    id: \"confirmations.redraft.message\",\n    defaultMessage: \"Are you sure you want to delete this status and re-draft it? Favorites and boosts will be lost, and replies to the original post will be orphaned.\"\n  },\n  revealAll: {\n    id: \"status.show_more_all\",\n    defaultMessage: \"Show more for all\"\n  },\n  hideAll: {\n    id: \"status.show_less_all\",\n    defaultMessage: \"Show less for all\"\n  },\n  statusTitleWithAttachments: {\n    id: \"status.title.with_attachments\",\n    defaultMessage: \"{user} posted {attachmentCount, plural, one {an attachment} other {# attachments}}\"\n  },\n  detailedStatus: {\n    id: \"status.detailed_status\",\n    defaultMessage: \"Detailed conversation view\"\n  },\n  replyConfirm: {\n    id: \"confirmations.reply.confirm\",\n    defaultMessage: \"Reply\"\n  },\n  replyMessage: {\n    id: \"confirmations.reply.message\",\n    defaultMessage: \"Replying now will overwrite the message you are currently composing. Are you sure you want to proceed?\"\n  },\n  blockDomainConfirm: {\n    id: \"confirmations.domain_block.confirm\",\n    defaultMessage: \"Block entire domain\"\n  }\n});\nvar makeMapStateToProps = () => {\n  var getStatus = Object(_selectors__WEBPACK_IMPORTED_MODULE_29__[\"makeGetStatus\"])();\n  var getPictureInPicture = Object(_selectors__WEBPACK_IMPORTED_MODULE_29__[\"makeGetPictureInPicture\"])();\n  var getAncestorsIds = Object(reselect__WEBPACK_IMPORTED_MODULE_8__[\"createSelector\"])([(_, _ref) => {\n    var {\n      id\n    } = _ref;\n    return id;\n  }, state => state.getIn(['contexts', 'inReplyTos'])], (statusId, inReplyTos) => {\n    var ancestorsIds = immutable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].List();\n    ancestorsIds = ancestorsIds.withMutations(mutable => {\n      var id = statusId;\n      while (id && !mutable.includes(id)) {\n        mutable.unshift(id);\n        id = inReplyTos.get(id);\n      }\n    });\n    return ancestorsIds;\n  });\n  var getDescendantsIds = Object(reselect__WEBPACK_IMPORTED_MODULE_8__[\"createSelector\"])([(_, _ref2) => {\n    var {\n      id\n    } = _ref2;\n    return id;\n  }, state => state.getIn(['contexts', 'replies']), state => state.get('statuses')], (statusId, contextReplies, statuses) => {\n    var descendantsIds = [];\n    var ids = [statusId];\n    while (ids.length > 0) {\n      var id = ids.pop();\n      var replies = contextReplies.get(id);\n      if (statusId !== id) {\n        descendantsIds.push(id);\n      }\n      if (replies) {\n        replies.reverse().forEach(reply => {\n          if (!ids.includes(reply) && !descendantsIds.includes(reply) && statusId !== reply) ids.push(reply);\n        });\n      }\n    }\n    var insertAt = descendantsIds.findIndex(id => statuses.get(id).get('in_reply_to_account_id') !== statuses.get(id).get('account'));\n    if (insertAt !== -1) {\n      descendantsIds.forEach((id, idx) => {\n        if (idx > insertAt && statuses.get(id).get('in_reply_to_account_id') === statuses.get(id).get('account')) {\n          descendantsIds.splice(idx, 1);\n          descendantsIds.splice(insertAt, 0, id);\n          insertAt += 1;\n        }\n      });\n    }\n    return immutable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].List(descendantsIds);\n  });\n  var mapStateToProps = (state, props) => {\n    var status = getStatus(state, {\n      id: props.params.statusId\n    });\n    var ancestorsIds = immutable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].List();\n    var descendantsIds = immutable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].List();\n    if (status) {\n      ancestorsIds = getAncestorsIds(state, {\n        id: status.get('in_reply_to_id')\n      });\n      descendantsIds = getDescendantsIds(state, {\n        id: status.get('id')\n      });\n    }\n    return {\n      isLoading: state.getIn(['statuses', props.params.statusId, 'isLoading']),\n      status,\n      ancestorsIds,\n      descendantsIds,\n      askReplyConfirmation: state.getIn(['compose', 'text']).trim().length !== 0,\n      domain: state.getIn(['meta', 'domain']),\n      pictureInPicture: getPictureInPicture(state, {\n        id: props.params.statusId\n      })\n    };\n  };\n  return mapStateToProps;\n};\nvar truncate = (str, num) => {\n  var arr = Array.from(str);\n  if (arr.length > num) {\n    return arr.slice(0, num).join('') + '…';\n  } else {\n    return str;\n  }\n};\nvar titleFromStatus = (intl, status) => {\n  var displayName = status.getIn(['account', 'display_name']);\n  var username = status.getIn(['account', 'username']);\n  var user = displayName.trim().length === 0 ? username : displayName;\n  var text = status.get('search_index');\n  var attachmentCount = status.get('media_attachments').size;\n  return text ? user + \": \\\"\" + truncate(text, 30) + \"\\\"\" : intl.formatMessage(messages.statusTitleWithAttachments, {\n    user,\n    attachmentCount\n  });\n};\nclass Status extends react_immutable_pure_component__WEBPACK_IMPORTED_MODULE_6__[\"default\"] {\n  constructor() {\n    var _this;\n    super(...arguments);\n    _this = this;\n    this.state = {\n      fullscreen: false,\n      showMedia: Object(_components_status__WEBPACK_IMPORTED_MODULE_26__[\"defaultMediaVisibility\"])(this.props.status),\n      loadedStatusId: undefined\n    };\n    this.handleToggleMediaVisibility = () => {\n      this.setState({\n        showMedia: !this.state.showMedia\n      });\n    };\n    this.handleFavouriteClick = status => {\n      var {\n        dispatch\n      } = this.props;\n      var {\n        signedIn\n      } = this.context.identity;\n      if (signedIn) {\n        if (status.get('favourited')) {\n          dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_20__[\"unfavourite\"])(status));\n        } else {\n          dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_20__[\"favourite\"])(status));\n        }\n      } else {\n        dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_21__[\"openModal\"])({\n          modalType: 'INTERACTION',\n          modalProps: {\n            type: 'favourite',\n            accountId: status.getIn(['account', 'id']),\n            url: status.get('uri')\n          }\n        }));\n      }\n    };\n    this.handlePin = status => {\n      if (status.get('pinned')) {\n        this.props.dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_20__[\"unpin\"])(status));\n      } else {\n        this.props.dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_20__[\"pin\"])(status));\n      }\n    };\n    this.handleReplyClick = status => {\n      var {\n        askReplyConfirmation,\n        dispatch,\n        intl\n      } = this.props;\n      var {\n        signedIn\n      } = this.context.identity;\n      if (signedIn) {\n        if (askReplyConfirmation) {\n          dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_21__[\"openModal\"])({\n            modalType: 'CONFIRM',\n            modalProps: {\n              message: intl.formatMessage(messages.replyMessage),\n              confirm: intl.formatMessage(messages.replyConfirm),\n              onConfirm: () => dispatch(Object(_actions_compose__WEBPACK_IMPORTED_MODULE_18__[\"replyCompose\"])(status, this.context.router.history))\n            }\n          }));\n        } else {\n          dispatch(Object(_actions_compose__WEBPACK_IMPORTED_MODULE_18__[\"replyCompose\"])(status, this.context.router.history));\n        }\n      } else {\n        dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_21__[\"openModal\"])({\n          modalType: 'INTERACTION',\n          modalProps: {\n            type: 'reply',\n            accountId: status.getIn(['account', 'id']),\n            url: status.get('uri')\n          }\n        }));\n      }\n    };\n    this.handleModalReblog = (status, privacy) => {\n      this.props.dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_20__[\"reblog\"])(status, privacy));\n    };\n    this.handleReblogClick = (status, e) => {\n      var {\n        dispatch\n      } = this.props;\n      var {\n        signedIn\n      } = this.context.identity;\n      if (signedIn) {\n        if (status.get('reblogged')) {\n          dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_20__[\"unreblog\"])(status));\n        } else {\n          if (e && e.shiftKey || !_initial_state__WEBPACK_IMPORTED_MODULE_28__[\"boostModal\"]) {\n            this.handleModalReblog(status);\n          } else {\n            dispatch(Object(_actions_boosts__WEBPACK_IMPORTED_MODULE_17__[\"initBoostModal\"])({\n              status,\n              onReblog: this.handleModalReblog\n            }));\n          }\n        }\n      } else {\n        dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_21__[\"openModal\"])({\n          modalType: 'INTERACTION',\n          modalProps: {\n            type: 'reblog',\n            accountId: status.getIn(['account', 'id']),\n            url: status.get('uri')\n          }\n        }));\n      }\n    };\n    this.handleBookmarkClick = status => {\n      if (status.get('bookmarked')) {\n        this.props.dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_20__[\"unbookmark\"])(status));\n      } else {\n        this.props.dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_20__[\"bookmark\"])(status));\n      }\n    };\n    this.handleDeleteClick = function (status, history, withRedraft) {\n      if (withRedraft === void 0) {\n        withRedraft = false;\n      }\n      var {\n        dispatch,\n        intl\n      } = _this.props;\n      if (!_initial_state__WEBPACK_IMPORTED_MODULE_28__[\"deleteModal\"]) {\n        dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"deleteStatus\"])(status.get('id'), history, withRedraft));\n      } else {\n        dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_21__[\"openModal\"])({\n          modalType: 'CONFIRM',\n          modalProps: {\n            message: intl.formatMessage(withRedraft ? messages.redraftMessage : messages.deleteMessage),\n            confirm: intl.formatMessage(withRedraft ? messages.redraftConfirm : messages.deleteConfirm),\n            onConfirm: () => dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"deleteStatus\"])(status.get('id'), history, withRedraft))\n          }\n        }));\n      }\n    };\n    this.handleEditClick = (status, history) => {\n      this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"editStatus\"])(status.get('id'), history));\n    };\n    this.handleDirectClick = (account, router) => {\n      this.props.dispatch(Object(_actions_compose__WEBPACK_IMPORTED_MODULE_18__[\"directCompose\"])(account, router));\n    };\n    this.handleMentionClick = (account, router) => {\n      this.props.dispatch(Object(_actions_compose__WEBPACK_IMPORTED_MODULE_18__[\"mentionCompose\"])(account, router));\n    };\n    this.handleOpenMedia = (media, index, lang) => {\n      this.props.dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_21__[\"openModal\"])({\n        modalType: 'MEDIA',\n        modalProps: {\n          statusId: this.props.status.get('id'),\n          media,\n          index,\n          lang\n        }\n      }));\n    };\n    this.handleOpenVideo = (media, lang, options) => {\n      this.props.dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_21__[\"openModal\"])({\n        modalType: 'VIDEO',\n        modalProps: {\n          statusId: this.props.status.get('id'),\n          media,\n          lang,\n          options\n        }\n      }));\n    };\n    this.handleHotkeyOpenMedia = e => {\n      var {\n        status\n      } = this.props;\n      e.preventDefault();\n      if (status.get('media_attachments').size > 0) {\n        if (status.getIn(['media_attachments', 0, 'type']) === 'video') {\n          this.handleOpenVideo(status.getIn(['media_attachments', 0]), {\n            startTime: 0\n          });\n        } else {\n          this.handleOpenMedia(status.get('media_attachments'), 0);\n        }\n      }\n    };\n    this.handleMuteClick = account => {\n      this.props.dispatch(Object(_actions_mutes__WEBPACK_IMPORTED_MODULE_22__[\"initMuteModal\"])(account));\n    };\n    this.handleConversationMuteClick = status => {\n      if (status.get('muted')) {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"unmuteStatus\"])(status.get('id')));\n      } else {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"muteStatus\"])(status.get('id')));\n      }\n    };\n    this.handleToggleHidden = status => {\n      if (status.get('hidden')) {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"revealStatus\"])(status.get('id')));\n      } else {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"hideStatus\"])(status.get('id')));\n      }\n    };\n    this.handleToggleAll = () => {\n      var {\n        status,\n        ancestorsIds,\n        descendantsIds\n      } = this.props;\n      var statusIds = [status.get('id')].concat(ancestorsIds.toJS(), descendantsIds.toJS());\n      if (status.get('hidden')) {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"revealStatus\"])(statusIds));\n      } else {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"hideStatus\"])(statusIds));\n      }\n    };\n    this.handleTranslate = status => {\n      var {\n        dispatch\n      } = this.props;\n      if (status.get('translation')) {\n        dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"undoStatusTranslation\"])(status.get('id'), status.get('poll')));\n      } else {\n        dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"translateStatus\"])(status.get('id')));\n      }\n    };\n    this.handleBlockClick = status => {\n      var {\n        dispatch\n      } = this.props;\n      var account = status.get('account');\n      dispatch(Object(_actions_blocks__WEBPACK_IMPORTED_MODULE_16__[\"initBlockModal\"])(account));\n    };\n    this.handleReport = status => {\n      this.props.dispatch(Object(_actions_reports__WEBPACK_IMPORTED_MODULE_23__[\"initReport\"])(status.get('account'), status));\n    };\n    this.handleEmbed = status => {\n      this.props.dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_21__[\"openModal\"])({\n        modalType: 'EMBED',\n        modalProps: {\n          id: status.get('id')\n        }\n      }));\n    };\n    this.handleUnmuteClick = account => {\n      this.props.dispatch(Object(_actions_accounts__WEBPACK_IMPORTED_MODULE_15__[\"unmuteAccount\"])(account.get('id')));\n    };\n    this.handleUnblockClick = account => {\n      this.props.dispatch(Object(_actions_accounts__WEBPACK_IMPORTED_MODULE_15__[\"unblockAccount\"])(account.get('id')));\n    };\n    this.handleBlockDomainClick = domain => {\n      this.props.dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_21__[\"openModal\"])({\n        modalType: 'CONFIRM',\n        modalProps: {\n          message: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n            id: \"confirmations.domain_block.message\",\n            defaultMessage: \"Are you really, really sure you want to block the entire {domain}? In most cases a few targeted blocks or mutes are sufficient and preferable. You will not see content from that domain in any public timelines or your notifications. Your followers from that domain will be removed.\",\n            values: {\n              domain: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(\"strong\", {\n                children: domain\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 392\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 18\n          }, this),\n          confirm: this.props.intl.formatMessage(messages.blockDomainConfirm),\n          onConfirm: () => this.props.dispatch(Object(_actions_domain_blocks__WEBPACK_IMPORTED_MODULE_19__[\"blockDomain\"])(domain))\n        }\n      }));\n    };\n    this.handleUnblockDomainClick = domain => {\n      this.props.dispatch(Object(_actions_domain_blocks__WEBPACK_IMPORTED_MODULE_19__[\"unblockDomain\"])(domain));\n    };\n    this.handleHotkeyMoveUp = () => {\n      this.handleMoveUp(this.props.status.get('id'));\n    };\n    this.handleHotkeyMoveDown = () => {\n      this.handleMoveDown(this.props.status.get('id'));\n    };\n    this.handleHotkeyReply = e => {\n      e.preventDefault();\n      this.handleReplyClick(this.props.status);\n    };\n    this.handleHotkeyFavourite = () => {\n      this.handleFavouriteClick(this.props.status);\n    };\n    this.handleHotkeyBoost = () => {\n      this.handleReblogClick(this.props.status);\n    };\n    this.handleHotkeyMention = e => {\n      e.preventDefault();\n      this.handleMentionClick(this.props.status.get('account'));\n    };\n    this.handleHotkeyOpenProfile = () => {\n      this.context.router.history.push(\"/@\" + this.props.status.getIn(['account', 'acct']));\n    };\n    this.handleHotkeyToggleHidden = () => {\n      this.handleToggleHidden(this.props.status);\n    };\n    this.handleHotkeyToggleSensitive = () => {\n      this.handleToggleMediaVisibility();\n    };\n    this.handleMoveUp = id => {\n      var {\n        status,\n        ancestorsIds,\n        descendantsIds\n      } = this.props;\n      if (id === status.get('id')) {\n        this._selectChild(ancestorsIds.size - 1, true);\n      } else {\n        var index = ancestorsIds.indexOf(id);\n        if (index === -1) {\n          index = descendantsIds.indexOf(id);\n          this._selectChild(ancestorsIds.size + index, true);\n        } else {\n          this._selectChild(index - 1, true);\n        }\n      }\n    };\n    this.handleMoveDown = id => {\n      var {\n        status,\n        ancestorsIds,\n        descendantsIds\n      } = this.props;\n      if (id === status.get('id')) {\n        this._selectChild(ancestorsIds.size + 1, false);\n      } else {\n        var index = ancestorsIds.indexOf(id);\n        if (index === -1) {\n          index = descendantsIds.indexOf(id);\n          this._selectChild(ancestorsIds.size + index + 2, false);\n        } else {\n          this._selectChild(index + 1, false);\n        }\n      }\n    };\n    this.setRef = c => {\n      this.node = c;\n    };\n    this.onFullScreenChange = () => {\n      this.setState({\n        fullscreen: Object(_ui_util_fullscreen__WEBPACK_IMPORTED_MODULE_31__[\"isFullscreen\"])()\n      });\n    };\n    this.shouldUpdateScroll = (prevRouterProps, _ref3) => {\n      var _location$state, _prevRouterProps$loca, _this$node;\n      var {\n        location\n      } = _ref3;\n      // Do not change scroll when opening a modal\n      if (((_location$state = location.state) == null ? void 0 : _location$state.mastodonModalKey) !== (prevRouterProps == null || (_prevRouterProps$loca = prevRouterProps.location) == null || (_prevRouterProps$loca = _prevRouterProps$loca.state) == null ? void 0 : _prevRouterProps$loca.mastodonModalKey)) {\n        return false;\n      }\n\n      // Scroll to focused post if it is loaded\n      var child = (_this$node = this.node) == null ? void 0 : _this$node.querySelector('.detailed-status__wrapper');\n      if (child) {\n        return [0, child.offsetTop];\n      }\n\n      // Do not scroll otherwise, `componentDidUpdate` will take care of that\n      return false;\n    };\n  }\n  UNSAFE_componentWillMount() {\n    this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"fetchStatus\"])(this.props.params.statusId));\n  }\n  componentDidMount() {\n    Object(_ui_util_fullscreen__WEBPACK_IMPORTED_MODULE_31__[\"attachFullscreenListener\"])(this.onFullScreenChange);\n    this._scrollStatusIntoView();\n  }\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.params.statusId !== this.props.params.statusId && nextProps.params.statusId) {\n      this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_24__[\"fetchStatus\"])(nextProps.params.statusId));\n    }\n    if (nextProps.status && nextProps.status.get('id') !== this.state.loadedStatusId) {\n      this.setState({\n        showMedia: Object(_components_status__WEBPACK_IMPORTED_MODULE_26__[\"defaultMediaVisibility\"])(nextProps.status),\n        loadedStatusId: nextProps.status.get('id')\n      });\n    }\n  }\n  _selectChild(index, align_top) {\n    var container = this.node;\n    var element = container.querySelectorAll('.focusable')[index];\n    if (element) {\n      if (align_top && container.scrollTop > element.offsetTop) {\n        element.scrollIntoView(true);\n      } else if (!align_top && container.scrollTop + container.clientHeight < element.offsetTop + element.offsetHeight) {\n        element.scrollIntoView(false);\n      }\n      element.focus();\n    }\n  }\n  renderChildren(list, ancestors) {\n    var {\n      params: {\n        statusId\n      }\n    } = this.props;\n    return list.map((id, i) => /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(_containers_status_container__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n      id: id,\n      onMoveUp: this.handleMoveUp,\n      onMoveDown: this.handleMoveDown,\n      contextType: \"thread\",\n      previousId: i > 0 ? list.get(i - 1) : undefined,\n      nextId: list.get(i + 1) || ancestors && statusId,\n      rootId: statusId\n    }, id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 7\n    }, this));\n  }\n  _scrollStatusIntoView() {\n    var {\n      status,\n      multiColumn\n    } = this.props;\n    if (status) {\n      window.requestAnimationFrame(() => {\n        var _this$node2;\n        (_this$node2 = this.node) == null || (_this$node2 = _this$node2.querySelector('.detailed-status__wrapper')) == null || _this$node2.scrollIntoView(true);\n\n        // In the single-column interface, `scrollIntoView` will put the post behind the header,\n        // so compensate for that.\n        if (!multiColumn) {\n          var _document$querySelect;\n          var offset = (_document$querySelect = document.querySelector('.column-header__wrapper')) == null || (_document$querySelect = _document$querySelect.getBoundingClientRect()) == null ? void 0 : _document$querySelect.bottom;\n          if (offset) {\n            var scrollingElement = document.scrollingElement || document.body;\n            scrollingElement.scrollBy(0, -offset);\n          }\n        }\n      });\n    }\n  }\n  componentDidUpdate(prevProps) {\n    var _prevProps$status;\n    var {\n      status,\n      ancestorsIds\n    } = this.props;\n    if (status && (ancestorsIds.size > prevProps.ancestorsIds.size || ((_prevProps$status = prevProps.status) == null ? void 0 : _prevProps$status.get('id')) !== status.get('id'))) {\n      this._scrollStatusIntoView();\n    }\n  }\n  componentWillUnmount() {\n    Object(_ui_util_fullscreen__WEBPACK_IMPORTED_MODULE_31__[\"detachFullscreenListener\"])(this.onFullScreenChange);\n  }\n  render() {\n    var ancestors, descendants;\n    var {\n      isLoading,\n      status,\n      ancestorsIds,\n      descendantsIds,\n      intl,\n      domain,\n      multiColumn,\n      pictureInPicture\n    } = this.props;\n    var {\n      fullscreen\n    } = this.state;\n    var {\n      signedIn\n    } = this.context.identity;\n    if (isLoading) {\n      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(_ui_components_column__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(mastodon_components_loading_indicator__WEBPACK_IMPORTED_MODULE_11__[\"LoadingIndicator\"], {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 9\n      }, this);\n    }\n    if (status === null) {\n      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(mastodon_features_ui_components_bundle_column_error__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n        multiColumn: multiColumn,\n        errorType: \"routing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 9\n      }, this);\n    }\n    if (ancestorsIds && ancestorsIds.size > 0) {\n      ancestors = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"Fragment\"], {\n        children: this.renderChildren(ancestorsIds, true)\n      }, void 0, false);\n    }\n    if (descendantsIds && descendantsIds.size > 0) {\n      descendants = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"Fragment\"], {\n        children: this.renderChildren(descendantsIds)\n      }, void 0, false);\n    }\n    var isLocal = status.getIn(['account', 'acct'], '').indexOf('@') === -1;\n    var isIndexable = !status.getIn(['account', 'noindex']);\n    var handlers = {\n      moveUp: this.handleHotkeyMoveUp,\n      moveDown: this.handleHotkeyMoveDown,\n      reply: this.handleHotkeyReply,\n      favourite: this.handleHotkeyFavourite,\n      boost: this.handleHotkeyBoost,\n      mention: this.handleHotkeyMention,\n      openProfile: this.handleHotkeyOpenProfile,\n      toggleHidden: this.handleHotkeyToggleHidden,\n      toggleSensitive: this.handleHotkeyToggleSensitive,\n      openMedia: this.handleHotkeyOpenMedia\n    };\n    return signedIn ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(_ui_components_column__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n      bindToDocument: !multiColumn,\n      label: intl.formatMessage(messages.detailedStatus),\n      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(_components_column_header__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n        showBackButton: true,\n        multiColumn: multiColumn,\n        extraButton: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(\"button\", {\n          type: \"button\",\n          className: \"column-header__button\",\n          title: intl.formatMessage(status.get('hidden') ? messages.revealAll : messages.hideAll),\n          \"aria-label\": intl.formatMessage(status.get('hidden') ? messages.revealAll : messages.hideAll),\n          onClick: this.handleToggleAll,\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_10__[\"Icon\"], {\n            id: status.get('hidden') ? 'eye-slash' : 'eye'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 283\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(mastodon_containers_scroll_container__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n        scrollKey: \"thread\",\n        shouldUpdateScroll: this.shouldUpdateScroll,\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(\"div\", {\n          className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('scrollable', {\n            fullscreen\n          }),\n          ref: this.setRef,\n          children: [ancestors, /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(react_hotkeys__WEBPACK_IMPORTED_MODULE_9__[\"HotKeys\"], {\n            handlers: handlers,\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(\"div\", {\n              className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('focusable', 'detailed-status__wrapper', \"detailed-status__wrapper-\" + status.get('visibility')),\n              tabIndex: 0,\n              \"aria-label\": Object(_components_status__WEBPACK_IMPORTED_MODULE_26__[\"textForScreenReader\"])(intl, status, false),\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(_components_detailed_status__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                status: status,\n                onOpenVideo: this.handleOpenVideo,\n                onOpenMedia: this.handleOpenMedia,\n                onToggleHidden: this.handleToggleHidden,\n                onTranslate: this.handleTranslate,\n                domain: domain,\n                showMedia: this.state.showMedia,\n                onToggleMediaVisibility: this.handleToggleMediaVisibility,\n                pictureInPicture: pictureInPicture\n              }, \"details-\" + status.get('id'), false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 17\n              }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(_components_action_bar__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                status: status,\n                onReply: this.handleReplyClick,\n                onFavourite: this.handleFavouriteClick,\n                onReblog: this.handleReblogClick,\n                onBookmark: this.handleBookmarkClick,\n                onDelete: this.handleDeleteClick,\n                onEdit: this.handleEditClick,\n                onDirect: this.handleDirectClick,\n                onMention: this.handleMentionClick,\n                onMute: this.handleMuteClick,\n                onUnmute: this.handleUnmuteClick,\n                onMuteConversation: this.handleConversationMuteClick,\n                onBlock: this.handleBlockClick,\n                onUnblock: this.handleUnblockClick,\n                onBlockDomain: this.handleBlockDomainClick,\n                onUnblockDomain: this.handleUnblockDomainClick,\n                onReport: this.handleReport,\n                onPin: this.handlePin,\n                onEmbed: this.handleEmbed\n              }, \"action-bar-\" + status.get('id'), false, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 13\n          }, this), descendants]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(react_helmet__WEBPACK_IMPORTED_MODULE_3__[\"Helmet\"], {\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(\"title\", {\n          children: titleFromStatus(intl, status)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 11\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(\"meta\", {\n          name: \"robots\",\n          content: isLocal && isIndexable ? 'all' : 'noindex'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 11\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(\"link\", {\n          rel: \"canonical\",\n          href: status.get('url')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 740,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 683,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_34__[\"jsxDEV\"])(mastodon_components_not_signed_in_indicator__WEBPACK_IMPORTED_MODULE_12__[\"NotSignedInIndicator\"], {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 746,\n      columnNumber: 9\n    }, this);\n  }\n}\nStatus.contextTypes = {\n  router: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object,\n  identity: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object\n};\nStatus.propTypes = {\n  params: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired,\n  dispatch: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  status: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5___default.a.map,\n  isLoading: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  ancestorsIds: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5___default.a.list.isRequired,\n  descendantsIds: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5___default.a.list.isRequired,\n  intl: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired,\n  askReplyConfirmation: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  multiColumn: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  domain: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  pictureInPicture: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5___default.a.contains({\n    inUse: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n    available: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool\n  })\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(Object(react_redux__WEBPACK_IMPORTED_MODULE_7__[\"connect\"])(makeMapStateToProps)(Status)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9mZWF0dXJlcy9zdGF0dXMvaW5kZXguanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBwL2phdmFzY3JpcHQvbWFzdG9kb24vZmVhdHVyZXMvc3RhdHVzL2luZGV4LmpzeD84Yzg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCB7IGRlZmluZU1lc3NhZ2VzLCBpbmplY3RJbnRsLCBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgSGVsbWV0IH0gZnJvbSAncmVhY3QtaGVsbWV0JztcblxuaW1wb3J0IEltbXV0YWJsZSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0IEltbXV0YWJsZVByb3BUeXBlcyBmcm9tICdyZWFjdC1pbW11dGFibGUtcHJvcHR5cGVzJztcbmltcG9ydCBJbW11dGFibGVQdXJlQ29tcG9uZW50IGZyb20gJ3JlYWN0LWltbXV0YWJsZS1wdXJlLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5cbmltcG9ydCB7IEhvdEtleXMgfSBmcm9tICdyZWFjdC1ob3RrZXlzJztcblxuaW1wb3J0IHsgSWNvbiB9ICBmcm9tICdtYXN0b2Rvbi9jb21wb25lbnRzL2ljb24nO1xuaW1wb3J0IHsgTG9hZGluZ0luZGljYXRvciB9IGZyb20gJ21hc3RvZG9uL2NvbXBvbmVudHMvbG9hZGluZ19pbmRpY2F0b3InO1xuaW1wb3J0IHsgTm90U2lnbmVkSW5JbmRpY2F0b3IgfSBmcm9tICdtYXN0b2Rvbi9jb21wb25lbnRzL25vdF9zaWduZWRfaW5faW5kaWNhdG9yJztcbmltcG9ydCBTY3JvbGxDb250YWluZXIgZnJvbSAnbWFzdG9kb24vY29udGFpbmVycy9zY3JvbGxfY29udGFpbmVyJztcbmltcG9ydCBCdW5kbGVDb2x1bW5FcnJvciBmcm9tICdtYXN0b2Rvbi9mZWF0dXJlcy91aS9jb21wb25lbnRzL2J1bmRsZV9jb2x1bW5fZXJyb3InO1xuXG5pbXBvcnQge1xuICB1bmJsb2NrQWNjb3VudCxcbiAgdW5tdXRlQWNjb3VudCxcbn0gZnJvbSAnLi4vLi4vYWN0aW9ucy9hY2NvdW50cyc7XG5pbXBvcnQgeyBpbml0QmxvY2tNb2RhbCB9IGZyb20gJy4uLy4uL2FjdGlvbnMvYmxvY2tzJztcbmltcG9ydCB7IGluaXRCb29zdE1vZGFsIH0gZnJvbSAnLi4vLi4vYWN0aW9ucy9ib29zdHMnO1xuaW1wb3J0IHtcbiAgcmVwbHlDb21wb3NlLFxuICBtZW50aW9uQ29tcG9zZSxcbiAgZGlyZWN0Q29tcG9zZSxcbn0gZnJvbSAnLi4vLi4vYWN0aW9ucy9jb21wb3NlJztcbmltcG9ydCB7XG4gIGJsb2NrRG9tYWluLFxuICB1bmJsb2NrRG9tYWluLFxufSBmcm9tICcuLi8uLi9hY3Rpb25zL2RvbWFpbl9ibG9ja3MnO1xuaW1wb3J0IHtcbiAgZmF2b3VyaXRlLFxuICB1bmZhdm91cml0ZSxcbiAgYm9va21hcmssXG4gIHVuYm9va21hcmssXG4gIHJlYmxvZyxcbiAgdW5yZWJsb2csXG4gIHBpbixcbiAgdW5waW4sXG59IGZyb20gJy4uLy4uL2FjdGlvbnMvaW50ZXJhY3Rpb25zJztcbmltcG9ydCB7IG9wZW5Nb2RhbCB9IGZyb20gJy4uLy4uL2FjdGlvbnMvbW9kYWwnO1xuaW1wb3J0IHsgaW5pdE11dGVNb2RhbCB9IGZyb20gJy4uLy4uL2FjdGlvbnMvbXV0ZXMnO1xuaW1wb3J0IHsgaW5pdFJlcG9ydCB9IGZyb20gJy4uLy4uL2FjdGlvbnMvcmVwb3J0cyc7XG5pbXBvcnQge1xuICBmZXRjaFN0YXR1cyxcbiAgbXV0ZVN0YXR1cyxcbiAgdW5tdXRlU3RhdHVzLFxuICBkZWxldGVTdGF0dXMsXG4gIGVkaXRTdGF0dXMsXG4gIGhpZGVTdGF0dXMsXG4gIHJldmVhbFN0YXR1cyxcbiAgdHJhbnNsYXRlU3RhdHVzLFxuICB1bmRvU3RhdHVzVHJhbnNsYXRpb24sXG59IGZyb20gJy4uLy4uL2FjdGlvbnMvc3RhdHVzZXMnO1xuaW1wb3J0IENvbHVtbkhlYWRlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvbHVtbl9oZWFkZXInO1xuaW1wb3J0IHsgdGV4dEZvclNjcmVlblJlYWRlciwgZGVmYXVsdE1lZGlhVmlzaWJpbGl0eSB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc3RhdHVzJztcbmltcG9ydCBTdGF0dXNDb250YWluZXIgZnJvbSAnLi4vLi4vY29udGFpbmVycy9zdGF0dXNfY29udGFpbmVyJztcbmltcG9ydCB7IGJvb3N0TW9kYWwsIGRlbGV0ZU1vZGFsIH0gZnJvbSAnLi4vLi4vaW5pdGlhbF9zdGF0ZSc7XG5pbXBvcnQgeyBtYWtlR2V0U3RhdHVzLCBtYWtlR2V0UGljdHVyZUluUGljdHVyZSB9IGZyb20gJy4uLy4uL3NlbGVjdG9ycyc7XG5pbXBvcnQgQ29sdW1uIGZyb20gJy4uL3VpL2NvbXBvbmVudHMvY29sdW1uJztcbmltcG9ydCB7IGF0dGFjaEZ1bGxzY3JlZW5MaXN0ZW5lciwgZGV0YWNoRnVsbHNjcmVlbkxpc3RlbmVyLCBpc0Z1bGxzY3JlZW4gfSBmcm9tICcuLi91aS91dGlsL2Z1bGxzY3JlZW4nO1xuXG5pbXBvcnQgQWN0aW9uQmFyIGZyb20gJy4vY29tcG9uZW50cy9hY3Rpb25fYmFyJztcbmltcG9ydCBEZXRhaWxlZFN0YXR1cyBmcm9tICcuL2NvbXBvbmVudHMvZGV0YWlsZWRfc3RhdHVzJztcblxuY29uc3QgbWVzc2FnZXMgPSBkZWZpbmVNZXNzYWdlcyh7XG4gIGRlbGV0ZUNvbmZpcm06IHsgaWQ6ICdjb25maXJtYXRpb25zLmRlbGV0ZS5jb25maXJtJywgZGVmYXVsdE1lc3NhZ2U6ICdEZWxldGUnIH0sXG4gIGRlbGV0ZU1lc3NhZ2U6IHsgaWQ6ICdjb25maXJtYXRpb25zLmRlbGV0ZS5tZXNzYWdlJywgZGVmYXVsdE1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgc3RhdHVzPycgfSxcbiAgcmVkcmFmdENvbmZpcm06IHsgaWQ6ICdjb25maXJtYXRpb25zLnJlZHJhZnQuY29uZmlybScsIGRlZmF1bHRNZXNzYWdlOiAnRGVsZXRlICYgcmVkcmFmdCcgfSxcbiAgcmVkcmFmdE1lc3NhZ2U6IHsgaWQ6ICdjb25maXJtYXRpb25zLnJlZHJhZnQubWVzc2FnZScsIGRlZmF1bHRNZXNzYWdlOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHN0YXR1cyBhbmQgcmUtZHJhZnQgaXQ/IEZhdm9yaXRlcyBhbmQgYm9vc3RzIHdpbGwgYmUgbG9zdCwgYW5kIHJlcGxpZXMgdG8gdGhlIG9yaWdpbmFsIHBvc3Qgd2lsbCBiZSBvcnBoYW5lZC4nIH0sXG4gIHJldmVhbEFsbDogeyBpZDogJ3N0YXR1cy5zaG93X21vcmVfYWxsJywgZGVmYXVsdE1lc3NhZ2U6ICdTaG93IG1vcmUgZm9yIGFsbCcgfSxcbiAgaGlkZUFsbDogeyBpZDogJ3N0YXR1cy5zaG93X2xlc3NfYWxsJywgZGVmYXVsdE1lc3NhZ2U6ICdTaG93IGxlc3MgZm9yIGFsbCcgfSxcbiAgc3RhdHVzVGl0bGVXaXRoQXR0YWNobWVudHM6IHsgaWQ6ICdzdGF0dXMudGl0bGUud2l0aF9hdHRhY2htZW50cycsIGRlZmF1bHRNZXNzYWdlOiAne3VzZXJ9IHBvc3RlZCB7YXR0YWNobWVudENvdW50LCBwbHVyYWwsIG9uZSB7YW4gYXR0YWNobWVudH0gb3RoZXIgeyMgYXR0YWNobWVudHN9fScgfSxcbiAgZGV0YWlsZWRTdGF0dXM6IHsgaWQ6ICdzdGF0dXMuZGV0YWlsZWRfc3RhdHVzJywgZGVmYXVsdE1lc3NhZ2U6ICdEZXRhaWxlZCBjb252ZXJzYXRpb24gdmlldycgfSxcbiAgcmVwbHlDb25maXJtOiB7IGlkOiAnY29uZmlybWF0aW9ucy5yZXBseS5jb25maXJtJywgZGVmYXVsdE1lc3NhZ2U6ICdSZXBseScgfSxcbiAgcmVwbHlNZXNzYWdlOiB7IGlkOiAnY29uZmlybWF0aW9ucy5yZXBseS5tZXNzYWdlJywgZGVmYXVsdE1lc3NhZ2U6ICdSZXBseWluZyBub3cgd2lsbCBvdmVyd3JpdGUgdGhlIG1lc3NhZ2UgeW91IGFyZSBjdXJyZW50bHkgY29tcG9zaW5nLiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcHJvY2VlZD8nIH0sXG4gIGJsb2NrRG9tYWluQ29uZmlybTogeyBpZDogJ2NvbmZpcm1hdGlvbnMuZG9tYWluX2Jsb2NrLmNvbmZpcm0nLCBkZWZhdWx0TWVzc2FnZTogJ0Jsb2NrIGVudGlyZSBkb21haW4nIH0sXG59KTtcblxuY29uc3QgbWFrZU1hcFN0YXRlVG9Qcm9wcyA9ICgpID0+IHtcbiAgY29uc3QgZ2V0U3RhdHVzID0gbWFrZUdldFN0YXR1cygpO1xuICBjb25zdCBnZXRQaWN0dXJlSW5QaWN0dXJlID0gbWFrZUdldFBpY3R1cmVJblBpY3R1cmUoKTtcblxuICBjb25zdCBnZXRBbmNlc3RvcnNJZHMgPSBjcmVhdGVTZWxlY3RvcihbXG4gICAgKF8sIHsgaWQgfSkgPT4gaWQsXG4gICAgc3RhdGUgPT4gc3RhdGUuZ2V0SW4oWydjb250ZXh0cycsICdpblJlcGx5VG9zJ10pLFxuICBdLCAoc3RhdHVzSWQsIGluUmVwbHlUb3MpID0+IHtcbiAgICBsZXQgYW5jZXN0b3JzSWRzID0gSW1tdXRhYmxlLkxpc3QoKTtcbiAgICBhbmNlc3RvcnNJZHMgPSBhbmNlc3RvcnNJZHMud2l0aE11dGF0aW9ucyhtdXRhYmxlID0+IHtcbiAgICAgIGxldCBpZCA9IHN0YXR1c0lkO1xuXG4gICAgICB3aGlsZSAoaWQgJiYgIW11dGFibGUuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgIG11dGFibGUudW5zaGlmdChpZCk7XG4gICAgICAgIGlkID0gaW5SZXBseVRvcy5nZXQoaWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFuY2VzdG9yc0lkcztcbiAgfSk7XG5cbiAgY29uc3QgZ2V0RGVzY2VuZGFudHNJZHMgPSBjcmVhdGVTZWxlY3RvcihbXG4gICAgKF8sIHsgaWQgfSkgPT4gaWQsXG4gICAgc3RhdGUgPT4gc3RhdGUuZ2V0SW4oWydjb250ZXh0cycsICdyZXBsaWVzJ10pLFxuICAgIHN0YXRlID0+IHN0YXRlLmdldCgnc3RhdHVzZXMnKSxcbiAgXSwgKHN0YXR1c0lkLCBjb250ZXh0UmVwbGllcywgc3RhdHVzZXMpID0+IHtcbiAgICBsZXQgZGVzY2VuZGFudHNJZHMgPSBbXTtcbiAgICBjb25zdCBpZHMgPSBbc3RhdHVzSWRdO1xuXG4gICAgd2hpbGUgKGlkcy5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgaWQgICAgICAgID0gaWRzLnBvcCgpO1xuICAgICAgY29uc3QgcmVwbGllcyA9IGNvbnRleHRSZXBsaWVzLmdldChpZCk7XG5cbiAgICAgIGlmIChzdGF0dXNJZCAhPT0gaWQpIHtcbiAgICAgICAgZGVzY2VuZGFudHNJZHMucHVzaChpZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXBsaWVzKSB7XG4gICAgICAgIHJlcGxpZXMucmV2ZXJzZSgpLmZvckVhY2gocmVwbHkgPT4ge1xuICAgICAgICAgIGlmICghaWRzLmluY2x1ZGVzKHJlcGx5KSAmJiAhZGVzY2VuZGFudHNJZHMuaW5jbHVkZXMocmVwbHkpICYmIHN0YXR1c0lkICE9PSByZXBseSkgaWRzLnB1c2gocmVwbHkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgaW5zZXJ0QXQgPSBkZXNjZW5kYW50c0lkcy5maW5kSW5kZXgoKGlkKSA9PiBzdGF0dXNlcy5nZXQoaWQpLmdldCgnaW5fcmVwbHlfdG9fYWNjb3VudF9pZCcpICE9PSBzdGF0dXNlcy5nZXQoaWQpLmdldCgnYWNjb3VudCcpKTtcbiAgICBpZiAoaW5zZXJ0QXQgIT09IC0xKSB7XG4gICAgICBkZXNjZW5kYW50c0lkcy5mb3JFYWNoKChpZCwgaWR4KSA9PiB7XG4gICAgICAgIGlmIChpZHggPiBpbnNlcnRBdCAmJiBzdGF0dXNlcy5nZXQoaWQpLmdldCgnaW5fcmVwbHlfdG9fYWNjb3VudF9pZCcpID09PSBzdGF0dXNlcy5nZXQoaWQpLmdldCgnYWNjb3VudCcpKSB7XG4gICAgICAgICAgZGVzY2VuZGFudHNJZHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgZGVzY2VuZGFudHNJZHMuc3BsaWNlKGluc2VydEF0LCAwLCBpZCk7XG4gICAgICAgICAgaW5zZXJ0QXQgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEltbXV0YWJsZS5MaXN0KGRlc2NlbmRhbnRzSWRzKTtcbiAgfSk7XG5cbiAgY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlLCBwcm9wcykgPT4ge1xuICAgIGNvbnN0IHN0YXR1cyA9IGdldFN0YXR1cyhzdGF0ZSwgeyBpZDogcHJvcHMucGFyYW1zLnN0YXR1c0lkIH0pO1xuXG4gICAgbGV0IGFuY2VzdG9yc0lkcyAgID0gSW1tdXRhYmxlLkxpc3QoKTtcbiAgICBsZXQgZGVzY2VuZGFudHNJZHMgPSBJbW11dGFibGUuTGlzdCgpO1xuXG4gICAgaWYgKHN0YXR1cykge1xuICAgICAgYW5jZXN0b3JzSWRzICAgPSBnZXRBbmNlc3RvcnNJZHMoc3RhdGUsIHsgaWQ6IHN0YXR1cy5nZXQoJ2luX3JlcGx5X3RvX2lkJykgfSk7XG4gICAgICBkZXNjZW5kYW50c0lkcyA9IGdldERlc2NlbmRhbnRzSWRzKHN0YXRlLCB7IGlkOiBzdGF0dXMuZ2V0KCdpZCcpIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpc0xvYWRpbmc6IHN0YXRlLmdldEluKFsnc3RhdHVzZXMnLCBwcm9wcy5wYXJhbXMuc3RhdHVzSWQsICdpc0xvYWRpbmcnXSksXG4gICAgICBzdGF0dXMsXG4gICAgICBhbmNlc3RvcnNJZHMsXG4gICAgICBkZXNjZW5kYW50c0lkcyxcbiAgICAgIGFza1JlcGx5Q29uZmlybWF0aW9uOiBzdGF0ZS5nZXRJbihbJ2NvbXBvc2UnLCAndGV4dCddKS50cmltKCkubGVuZ3RoICE9PSAwLFxuICAgICAgZG9tYWluOiBzdGF0ZS5nZXRJbihbJ21ldGEnLCAnZG9tYWluJ10pLFxuICAgICAgcGljdHVyZUluUGljdHVyZTogZ2V0UGljdHVyZUluUGljdHVyZShzdGF0ZSwgeyBpZDogcHJvcHMucGFyYW1zLnN0YXR1c0lkIH0pLFxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIG1hcFN0YXRlVG9Qcm9wcztcbn07XG5cbmNvbnN0IHRydW5jYXRlID0gKHN0ciwgbnVtKSA9PiB7XG4gIGNvbnN0IGFyciA9IEFycmF5LmZyb20oc3RyKTtcbiAgaWYgKGFyci5sZW5ndGggPiBudW0pIHtcbiAgICByZXR1cm4gYXJyLnNsaWNlKDAsIG51bSkuam9pbignJykgKyAn4oCmJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59O1xuXG5jb25zdCB0aXRsZUZyb21TdGF0dXMgPSAoaW50bCwgc3RhdHVzKSA9PiB7XG4gIGNvbnN0IGRpc3BsYXlOYW1lID0gc3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdkaXNwbGF5X25hbWUnXSk7XG4gIGNvbnN0IHVzZXJuYW1lID0gc3RhdHVzLmdldEluKFsnYWNjb3VudCcsICd1c2VybmFtZSddKTtcbiAgY29uc3QgdXNlciA9IGRpc3BsYXlOYW1lLnRyaW0oKS5sZW5ndGggPT09IDAgPyB1c2VybmFtZSA6IGRpc3BsYXlOYW1lO1xuICBjb25zdCB0ZXh0ID0gc3RhdHVzLmdldCgnc2VhcmNoX2luZGV4Jyk7XG4gIGNvbnN0IGF0dGFjaG1lbnRDb3VudCA9IHN0YXR1cy5nZXQoJ21lZGlhX2F0dGFjaG1lbnRzJykuc2l6ZTtcblxuICByZXR1cm4gdGV4dCA/IGAke3VzZXJ9OiBcIiR7dHJ1bmNhdGUodGV4dCwgMzApfVwiYCA6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5zdGF0dXNUaXRsZVdpdGhBdHRhY2htZW50cywgeyB1c2VyLCBhdHRhY2htZW50Q291bnQgfSk7XG59O1xuXG5jbGFzcyBTdGF0dXMgZXh0ZW5kcyBJbW11dGFibGVQdXJlQ29tcG9uZW50IHtcblxuICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xuICAgIHJvdXRlcjogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBpZGVudGl0eTogUHJvcFR5cGVzLm9iamVjdCxcbiAgfTtcblxuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHBhcmFtczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGRpc3BhdGNoOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIHN0YXR1czogSW1tdXRhYmxlUHJvcFR5cGVzLm1hcCxcbiAgICBpc0xvYWRpbmc6IFByb3BUeXBlcy5ib29sLFxuICAgIGFuY2VzdG9yc0lkczogSW1tdXRhYmxlUHJvcFR5cGVzLmxpc3QuaXNSZXF1aXJlZCxcbiAgICBkZXNjZW5kYW50c0lkczogSW1tdXRhYmxlUHJvcFR5cGVzLmxpc3QuaXNSZXF1aXJlZCxcbiAgICBpbnRsOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgYXNrUmVwbHlDb25maXJtYXRpb246IFByb3BUeXBlcy5ib29sLFxuICAgIG11bHRpQ29sdW1uOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBkb21haW46IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBwaWN0dXJlSW5QaWN0dXJlOiBJbW11dGFibGVQcm9wVHlwZXMuY29udGFpbnMoe1xuICAgICAgaW5Vc2U6IFByb3BUeXBlcy5ib29sLFxuICAgICAgYXZhaWxhYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICB9KSxcbiAgfTtcblxuICBzdGF0ZSA9IHtcbiAgICBmdWxsc2NyZWVuOiBmYWxzZSxcbiAgICBzaG93TWVkaWE6IGRlZmF1bHRNZWRpYVZpc2liaWxpdHkodGhpcy5wcm9wcy5zdGF0dXMpLFxuICAgIGxvYWRlZFN0YXR1c0lkOiB1bmRlZmluZWQsXG4gIH07XG5cbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChmZXRjaFN0YXR1cyh0aGlzLnByb3BzLnBhcmFtcy5zdGF0dXNJZCkpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGF0dGFjaEZ1bGxzY3JlZW5MaXN0ZW5lcih0aGlzLm9uRnVsbFNjcmVlbkNoYW5nZSk7XG5cbiAgICB0aGlzLl9zY3JvbGxTdGF0dXNJbnRvVmlldygpO1xuICB9XG5cbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgKG5leHRQcm9wcykge1xuICAgIGlmIChuZXh0UHJvcHMucGFyYW1zLnN0YXR1c0lkICE9PSB0aGlzLnByb3BzLnBhcmFtcy5zdGF0dXNJZCAmJiBuZXh0UHJvcHMucGFyYW1zLnN0YXR1c0lkKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGZldGNoU3RhdHVzKG5leHRQcm9wcy5wYXJhbXMuc3RhdHVzSWQpKTtcbiAgICB9XG5cbiAgICBpZiAobmV4dFByb3BzLnN0YXR1cyAmJiBuZXh0UHJvcHMuc3RhdHVzLmdldCgnaWQnKSAhPT0gdGhpcy5zdGF0ZS5sb2FkZWRTdGF0dXNJZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dNZWRpYTogZGVmYXVsdE1lZGlhVmlzaWJpbGl0eShuZXh0UHJvcHMuc3RhdHVzKSwgbG9hZGVkU3RhdHVzSWQ6IG5leHRQcm9wcy5zdGF0dXMuZ2V0KCdpZCcpIH0pO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVRvZ2dsZU1lZGlhVmlzaWJpbGl0eSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd01lZGlhOiAhdGhpcy5zdGF0ZS5zaG93TWVkaWEgfSk7XG4gIH07XG5cbiAgaGFuZGxlRmF2b3VyaXRlQ2xpY2sgPSAoc3RhdHVzKSA9PiB7XG4gICAgY29uc3QgeyBkaXNwYXRjaCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHNpZ25lZEluIH0gPSB0aGlzLmNvbnRleHQuaWRlbnRpdHk7XG5cbiAgICBpZiAoc2lnbmVkSW4pIHtcbiAgICAgIGlmIChzdGF0dXMuZ2V0KCdmYXZvdXJpdGVkJykpIHtcbiAgICAgICAgZGlzcGF0Y2godW5mYXZvdXJpdGUoc3RhdHVzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXNwYXRjaChmYXZvdXJpdGUoc3RhdHVzKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoKG9wZW5Nb2RhbCh7XG4gICAgICAgIG1vZGFsVHlwZTogJ0lOVEVSQUNUSU9OJyxcbiAgICAgICAgbW9kYWxQcm9wczoge1xuICAgICAgICAgIHR5cGU6ICdmYXZvdXJpdGUnLFxuICAgICAgICAgIGFjY291bnRJZDogc3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdpZCddKSxcbiAgICAgICAgICB1cmw6IHN0YXR1cy5nZXQoJ3VyaScpLFxuICAgICAgICB9LFxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVQaW4gPSAoc3RhdHVzKSA9PiB7XG4gICAgaWYgKHN0YXR1cy5nZXQoJ3Bpbm5lZCcpKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHVucGluKHN0YXR1cykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHBpbihzdGF0dXMpKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlUmVwbHlDbGljayA9IChzdGF0dXMpID0+IHtcbiAgICBjb25zdCB7IGFza1JlcGx5Q29uZmlybWF0aW9uLCBkaXNwYXRjaCwgaW50bCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHNpZ25lZEluIH0gPSB0aGlzLmNvbnRleHQuaWRlbnRpdHk7XG5cbiAgICBpZiAoc2lnbmVkSW4pIHtcbiAgICAgIGlmIChhc2tSZXBseUNvbmZpcm1hdGlvbikge1xuICAgICAgICBkaXNwYXRjaChvcGVuTW9kYWwoe1xuICAgICAgICAgIG1vZGFsVHlwZTogJ0NPTkZJUk0nLFxuICAgICAgICAgIG1vZGFsUHJvcHM6IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5yZXBseU1lc3NhZ2UpLFxuICAgICAgICAgICAgY29uZmlybTogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnJlcGx5Q29uZmlybSksXG4gICAgICAgICAgICBvbkNvbmZpcm06ICgpID0+IGRpc3BhdGNoKHJlcGx5Q29tcG9zZShzdGF0dXMsIHRoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeSkpLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc3BhdGNoKHJlcGx5Q29tcG9zZShzdGF0dXMsIHRoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwYXRjaChvcGVuTW9kYWwoe1xuICAgICAgICBtb2RhbFR5cGU6ICdJTlRFUkFDVElPTicsXG4gICAgICAgIG1vZGFsUHJvcHM6IHtcbiAgICAgICAgICB0eXBlOiAncmVwbHknLFxuICAgICAgICAgIGFjY291bnRJZDogc3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdpZCddKSxcbiAgICAgICAgICB1cmw6IHN0YXR1cy5nZXQoJ3VyaScpLFxuICAgICAgICB9LFxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVNb2RhbFJlYmxvZyA9IChzdGF0dXMsIHByaXZhY3kpID0+IHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHJlYmxvZyhzdGF0dXMsIHByaXZhY3kpKTtcbiAgfTtcblxuICBoYW5kbGVSZWJsb2dDbGljayA9IChzdGF0dXMsIGUpID0+IHtcbiAgICBjb25zdCB7IGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgc2lnbmVkSW4gfSA9IHRoaXMuY29udGV4dC5pZGVudGl0eTtcblxuICAgIGlmIChzaWduZWRJbikge1xuICAgICAgaWYgKHN0YXR1cy5nZXQoJ3JlYmxvZ2dlZCcpKSB7XG4gICAgICAgIGRpc3BhdGNoKHVucmVibG9nKHN0YXR1cykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChlICYmIGUuc2hpZnRLZXkpIHx8ICFib29zdE1vZGFsKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVNb2RhbFJlYmxvZyhzdGF0dXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpc3BhdGNoKGluaXRCb29zdE1vZGFsKHsgc3RhdHVzLCBvblJlYmxvZzogdGhpcy5oYW5kbGVNb2RhbFJlYmxvZyB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGF0Y2gob3Blbk1vZGFsKHtcbiAgICAgICAgbW9kYWxUeXBlOiAnSU5URVJBQ1RJT04nLFxuICAgICAgICBtb2RhbFByb3BzOiB7XG4gICAgICAgICAgdHlwZTogJ3JlYmxvZycsXG4gICAgICAgICAgYWNjb3VudElkOiBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pLFxuICAgICAgICAgIHVybDogc3RhdHVzLmdldCgndXJpJyksXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUJvb2ttYXJrQ2xpY2sgPSAoc3RhdHVzKSA9PiB7XG4gICAgaWYgKHN0YXR1cy5nZXQoJ2Jvb2ttYXJrZWQnKSkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh1bmJvb2ttYXJrKHN0YXR1cykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGJvb2ttYXJrKHN0YXR1cykpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVEZWxldGVDbGljayA9IChzdGF0dXMsIGhpc3RvcnksIHdpdGhSZWRyYWZ0ID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCB7IGRpc3BhdGNoLCBpbnRsIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCFkZWxldGVNb2RhbCkge1xuICAgICAgZGlzcGF0Y2goZGVsZXRlU3RhdHVzKHN0YXR1cy5nZXQoJ2lkJyksIGhpc3RvcnksIHdpdGhSZWRyYWZ0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoKG9wZW5Nb2RhbCh7XG4gICAgICAgIG1vZGFsVHlwZTogJ0NPTkZJUk0nLFxuICAgICAgICBtb2RhbFByb3BzOiB7XG4gICAgICAgICAgbWVzc2FnZTogaW50bC5mb3JtYXRNZXNzYWdlKHdpdGhSZWRyYWZ0ID8gbWVzc2FnZXMucmVkcmFmdE1lc3NhZ2UgOiBtZXNzYWdlcy5kZWxldGVNZXNzYWdlKSxcbiAgICAgICAgICBjb25maXJtOiBpbnRsLmZvcm1hdE1lc3NhZ2Uod2l0aFJlZHJhZnQgPyBtZXNzYWdlcy5yZWRyYWZ0Q29uZmlybSA6IG1lc3NhZ2VzLmRlbGV0ZUNvbmZpcm0pLFxuICAgICAgICAgIG9uQ29uZmlybTogKCkgPT4gZGlzcGF0Y2goZGVsZXRlU3RhdHVzKHN0YXR1cy5nZXQoJ2lkJyksIGhpc3RvcnksIHdpdGhSZWRyYWZ0KSksXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUVkaXRDbGljayA9IChzdGF0dXMsIGhpc3RvcnkpID0+IHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGVkaXRTdGF0dXMoc3RhdHVzLmdldCgnaWQnKSwgaGlzdG9yeSkpO1xuICB9O1xuXG4gIGhhbmRsZURpcmVjdENsaWNrID0gKGFjY291bnQsIHJvdXRlcikgPT4ge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goZGlyZWN0Q29tcG9zZShhY2NvdW50LCByb3V0ZXIpKTtcbiAgfTtcblxuICBoYW5kbGVNZW50aW9uQ2xpY2sgPSAoYWNjb3VudCwgcm91dGVyKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChtZW50aW9uQ29tcG9zZShhY2NvdW50LCByb3V0ZXIpKTtcbiAgfTtcblxuICBoYW5kbGVPcGVuTWVkaWEgPSAobWVkaWEsIGluZGV4LCBsYW5nKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChvcGVuTW9kYWwoe1xuICAgICAgbW9kYWxUeXBlOiAnTUVESUEnLFxuICAgICAgbW9kYWxQcm9wczogeyBzdGF0dXNJZDogdGhpcy5wcm9wcy5zdGF0dXMuZ2V0KCdpZCcpLCBtZWRpYSwgaW5kZXgsIGxhbmcgfSxcbiAgICB9KSk7XG4gIH07XG5cbiAgaGFuZGxlT3BlblZpZGVvID0gKG1lZGlhLCBsYW5nLCBvcHRpb25zKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChvcGVuTW9kYWwoe1xuICAgICAgbW9kYWxUeXBlOiAnVklERU8nLFxuICAgICAgbW9kYWxQcm9wczogeyBzdGF0dXNJZDogdGhpcy5wcm9wcy5zdGF0dXMuZ2V0KCdpZCcpLCBtZWRpYSwgbGFuZywgb3B0aW9ucyB9LFxuICAgIH0pKTtcbiAgfTtcblxuICBoYW5kbGVIb3RrZXlPcGVuTWVkaWEgPSBlID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gdGhpcy5wcm9wcztcblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChzdGF0dXMuZ2V0KCdtZWRpYV9hdHRhY2htZW50cycpLnNpemUgPiAwKSB7XG4gICAgICBpZiAoc3RhdHVzLmdldEluKFsnbWVkaWFfYXR0YWNobWVudHMnLCAwLCAndHlwZSddKSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICB0aGlzLmhhbmRsZU9wZW5WaWRlbyhzdGF0dXMuZ2V0SW4oWydtZWRpYV9hdHRhY2htZW50cycsIDBdKSwgeyBzdGFydFRpbWU6IDAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhhbmRsZU9wZW5NZWRpYShzdGF0dXMuZ2V0KCdtZWRpYV9hdHRhY2htZW50cycpLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlTXV0ZUNsaWNrID0gKGFjY291bnQpID0+IHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGluaXRNdXRlTW9kYWwoYWNjb3VudCkpO1xuICB9O1xuXG4gIGhhbmRsZUNvbnZlcnNhdGlvbk11dGVDbGljayA9IChzdGF0dXMpID0+IHtcbiAgICBpZiAoc3RhdHVzLmdldCgnbXV0ZWQnKSkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh1bm11dGVTdGF0dXMoc3RhdHVzLmdldCgnaWQnKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKG11dGVTdGF0dXMoc3RhdHVzLmdldCgnaWQnKSkpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVUb2dnbGVIaWRkZW4gPSAoc3RhdHVzKSA9PiB7XG4gICAgaWYgKHN0YXR1cy5nZXQoJ2hpZGRlbicpKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHJldmVhbFN0YXR1cyhzdGF0dXMuZ2V0KCdpZCcpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goaGlkZVN0YXR1cyhzdGF0dXMuZ2V0KCdpZCcpKSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZVRvZ2dsZUFsbCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cywgYW5jZXN0b3JzSWRzLCBkZXNjZW5kYW50c0lkcyB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzdGF0dXNJZHMgPSBbc3RhdHVzLmdldCgnaWQnKV0uY29uY2F0KGFuY2VzdG9yc0lkcy50b0pTKCksIGRlc2NlbmRhbnRzSWRzLnRvSlMoKSk7XG5cbiAgICBpZiAoc3RhdHVzLmdldCgnaGlkZGVuJykpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2gocmV2ZWFsU3RhdHVzKHN0YXR1c0lkcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGhpZGVTdGF0dXMoc3RhdHVzSWRzKSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZVRyYW5zbGF0ZSA9IHN0YXR1cyA9PiB7XG4gICAgY29uc3QgeyBkaXNwYXRjaCB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChzdGF0dXMuZ2V0KCd0cmFuc2xhdGlvbicpKSB7XG4gICAgICBkaXNwYXRjaCh1bmRvU3RhdHVzVHJhbnNsYXRpb24oc3RhdHVzLmdldCgnaWQnKSwgc3RhdHVzLmdldCgncG9sbCcpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoKHRyYW5zbGF0ZVN0YXR1cyhzdGF0dXMuZ2V0KCdpZCcpKSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUJsb2NrQ2xpY2sgPSAoc3RhdHVzKSA9PiB7XG4gICAgY29uc3QgeyBkaXNwYXRjaCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBhY2NvdW50ID0gc3RhdHVzLmdldCgnYWNjb3VudCcpO1xuICAgIGRpc3BhdGNoKGluaXRCbG9ja01vZGFsKGFjY291bnQpKTtcbiAgfTtcblxuICBoYW5kbGVSZXBvcnQgPSAoc3RhdHVzKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChpbml0UmVwb3J0KHN0YXR1cy5nZXQoJ2FjY291bnQnKSwgc3RhdHVzKSk7XG4gIH07XG5cbiAgaGFuZGxlRW1iZWQgPSAoc3RhdHVzKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChvcGVuTW9kYWwoe1xuICAgICAgbW9kYWxUeXBlOiAnRU1CRUQnLFxuICAgICAgbW9kYWxQcm9wczogeyBpZDogc3RhdHVzLmdldCgnaWQnKSB9LFxuICAgIH0pKTtcbiAgfTtcblxuICBoYW5kbGVVbm11dGVDbGljayA9IGFjY291bnQgPT4ge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2godW5tdXRlQWNjb3VudChhY2NvdW50LmdldCgnaWQnKSkpO1xuICB9O1xuXG4gIGhhbmRsZVVuYmxvY2tDbGljayA9IGFjY291bnQgPT4ge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2godW5ibG9ja0FjY291bnQoYWNjb3VudC5nZXQoJ2lkJykpKTtcbiAgfTtcblxuICBoYW5kbGVCbG9ja0RvbWFpbkNsaWNrID0gZG9tYWluID0+IHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKG9wZW5Nb2RhbCh7XG4gICAgICBtb2RhbFR5cGU6ICdDT05GSVJNJyxcbiAgICAgIG1vZGFsUHJvcHM6IHtcbiAgICAgICAgbWVzc2FnZTogPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9J2NvbmZpcm1hdGlvbnMuZG9tYWluX2Jsb2NrLm1lc3NhZ2UnIGRlZmF1bHRNZXNzYWdlPSdBcmUgeW91IHJlYWxseSwgcmVhbGx5IHN1cmUgeW91IHdhbnQgdG8gYmxvY2sgdGhlIGVudGlyZSB7ZG9tYWlufT8gSW4gbW9zdCBjYXNlcyBhIGZldyB0YXJnZXRlZCBibG9ja3Mgb3IgbXV0ZXMgYXJlIHN1ZmZpY2llbnQgYW5kIHByZWZlcmFibGUuIFlvdSB3aWxsIG5vdCBzZWUgY29udGVudCBmcm9tIHRoYXQgZG9tYWluIGluIGFueSBwdWJsaWMgdGltZWxpbmVzIG9yIHlvdXIgbm90aWZpY2F0aW9ucy4gWW91ciBmb2xsb3dlcnMgZnJvbSB0aGF0IGRvbWFpbiB3aWxsIGJlIHJlbW92ZWQuJyB2YWx1ZXM9e3sgZG9tYWluOiA8c3Ryb25nPntkb21haW59PC9zdHJvbmc+IH19IC8+LFxuICAgICAgICBjb25maXJtOiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5ibG9ja0RvbWFpbkNvbmZpcm0pLFxuICAgICAgICBvbkNvbmZpcm06ICgpID0+IHRoaXMucHJvcHMuZGlzcGF0Y2goYmxvY2tEb21haW4oZG9tYWluKSksXG4gICAgICB9LFxuICAgIH0pKTtcbiAgfTtcblxuICBoYW5kbGVVbmJsb2NrRG9tYWluQ2xpY2sgPSBkb21haW4gPT4ge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2godW5ibG9ja0RvbWFpbihkb21haW4pKTtcbiAgfTtcblxuXG4gIGhhbmRsZUhvdGtleU1vdmVVcCA9ICgpID0+IHtcbiAgICB0aGlzLmhhbmRsZU1vdmVVcCh0aGlzLnByb3BzLnN0YXR1cy5nZXQoJ2lkJykpO1xuICB9O1xuXG4gIGhhbmRsZUhvdGtleU1vdmVEb3duID0gKCkgPT4ge1xuICAgIHRoaXMuaGFuZGxlTW92ZURvd24odGhpcy5wcm9wcy5zdGF0dXMuZ2V0KCdpZCcpKTtcbiAgfTtcblxuICBoYW5kbGVIb3RrZXlSZXBseSA9IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmhhbmRsZVJlcGx5Q2xpY2sodGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9O1xuXG4gIGhhbmRsZUhvdGtleUZhdm91cml0ZSA9ICgpID0+IHtcbiAgICB0aGlzLmhhbmRsZUZhdm91cml0ZUNsaWNrKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfTtcblxuICBoYW5kbGVIb3RrZXlCb29zdCA9ICgpID0+IHtcbiAgICB0aGlzLmhhbmRsZVJlYmxvZ0NsaWNrKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfTtcblxuICBoYW5kbGVIb3RrZXlNZW50aW9uID0gZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuaGFuZGxlTWVudGlvbkNsaWNrKHRoaXMucHJvcHMuc3RhdHVzLmdldCgnYWNjb3VudCcpKTtcbiAgfTtcblxuICBoYW5kbGVIb3RrZXlPcGVuUHJvZmlsZSA9ICgpID0+IHtcbiAgICB0aGlzLmNvbnRleHQucm91dGVyLmhpc3RvcnkucHVzaChgL0Ake3RoaXMucHJvcHMuc3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdhY2N0J10pfWApO1xuICB9O1xuXG4gIGhhbmRsZUhvdGtleVRvZ2dsZUhpZGRlbiA9ICgpID0+IHtcbiAgICB0aGlzLmhhbmRsZVRvZ2dsZUhpZGRlbih0aGlzLnByb3BzLnN0YXR1cyk7XG4gIH07XG5cbiAgaGFuZGxlSG90a2V5VG9nZ2xlU2Vuc2l0aXZlID0gKCkgPT4ge1xuICAgIHRoaXMuaGFuZGxlVG9nZ2xlTWVkaWFWaXNpYmlsaXR5KCk7XG4gIH07XG5cbiAgaGFuZGxlTW92ZVVwID0gaWQgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBhbmNlc3RvcnNJZHMsIGRlc2NlbmRhbnRzSWRzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKGlkID09PSBzdGF0dXMuZ2V0KCdpZCcpKSB7XG4gICAgICB0aGlzLl9zZWxlY3RDaGlsZChhbmNlc3RvcnNJZHMuc2l6ZSAtIDEsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgaW5kZXggPSBhbmNlc3RvcnNJZHMuaW5kZXhPZihpZCk7XG5cbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgaW5kZXggPSBkZXNjZW5kYW50c0lkcy5pbmRleE9mKGlkKTtcbiAgICAgICAgdGhpcy5fc2VsZWN0Q2hpbGQoYW5jZXN0b3JzSWRzLnNpemUgKyBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZWxlY3RDaGlsZChpbmRleCAtIDEsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBoYW5kbGVNb3ZlRG93biA9IGlkID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cywgYW5jZXN0b3JzSWRzLCBkZXNjZW5kYW50c0lkcyB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChpZCA9PT0gc3RhdHVzLmdldCgnaWQnKSkge1xuICAgICAgdGhpcy5fc2VsZWN0Q2hpbGQoYW5jZXN0b3JzSWRzLnNpemUgKyAxLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpbmRleCA9IGFuY2VzdG9yc0lkcy5pbmRleE9mKGlkKTtcblxuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBpbmRleCA9IGRlc2NlbmRhbnRzSWRzLmluZGV4T2YoaWQpO1xuICAgICAgICB0aGlzLl9zZWxlY3RDaGlsZChhbmNlc3RvcnNJZHMuc2l6ZSArIGluZGV4ICsgMiwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0Q2hpbGQoaW5kZXggKyAxLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9zZWxlY3RDaGlsZCAoaW5kZXgsIGFsaWduX3RvcCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMubm9kZTtcbiAgICBjb25zdCBlbGVtZW50ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb2N1c2FibGUnKVtpbmRleF07XG5cbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgaWYgKGFsaWduX3RvcCAmJiBjb250YWluZXIuc2Nyb2xsVG9wID4gZWxlbWVudC5vZmZzZXRUb3ApIHtcbiAgICAgICAgZWxlbWVudC5zY3JvbGxJbnRvVmlldyh0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoIWFsaWduX3RvcCAmJiBjb250YWluZXIuc2Nyb2xsVG9wICsgY29udGFpbmVyLmNsaWVudEhlaWdodCA8IGVsZW1lbnQub2Zmc2V0VG9wICsgZWxlbWVudC5vZmZzZXRIZWlnaHQpIHtcbiAgICAgICAgZWxlbWVudC5zY3JvbGxJbnRvVmlldyhmYWxzZSk7XG4gICAgICB9XG4gICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2hpbGRyZW4gKGxpc3QsIGFuY2VzdG9ycykge1xuICAgIGNvbnN0IHsgcGFyYW1zOiB7IHN0YXR1c0lkIH0gfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gbGlzdC5tYXAoKGlkLCBpKSA9PiAoXG4gICAgICA8U3RhdHVzQ29udGFpbmVyXG4gICAgICAgIGtleT17aWR9XG4gICAgICAgIGlkPXtpZH1cbiAgICAgICAgb25Nb3ZlVXA9e3RoaXMuaGFuZGxlTW92ZVVwfVxuICAgICAgICBvbk1vdmVEb3duPXt0aGlzLmhhbmRsZU1vdmVEb3dufVxuICAgICAgICBjb250ZXh0VHlwZT0ndGhyZWFkJ1xuICAgICAgICBwcmV2aW91c0lkPXtpID4gMCA/IGxpc3QuZ2V0KGkgLSAxKSA6IHVuZGVmaW5lZH1cbiAgICAgICAgbmV4dElkPXtsaXN0LmdldChpICsgMSkgfHwgKGFuY2VzdG9ycyAmJiBzdGF0dXNJZCl9XG4gICAgICAgIHJvb3RJZD17c3RhdHVzSWR9XG4gICAgICAvPlxuICAgICkpO1xuICB9XG5cbiAgc2V0UmVmID0gYyA9PiB7XG4gICAgdGhpcy5ub2RlID0gYztcbiAgfTtcblxuICBfc2Nyb2xsU3RhdHVzSW50b1ZpZXcgKCkge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBtdWx0aUNvbHVtbiB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChzdGF0dXMpIHtcbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICB0aGlzLm5vZGU/LnF1ZXJ5U2VsZWN0b3IoJy5kZXRhaWxlZC1zdGF0dXNfX3dyYXBwZXInKT8uc2Nyb2xsSW50b1ZpZXcodHJ1ZSk7XG5cbiAgICAgICAgLy8gSW4gdGhlIHNpbmdsZS1jb2x1bW4gaW50ZXJmYWNlLCBgc2Nyb2xsSW50b1ZpZXdgIHdpbGwgcHV0IHRoZSBwb3N0IGJlaGluZCB0aGUgaGVhZGVyLFxuICAgICAgICAvLyBzbyBjb21wZW5zYXRlIGZvciB0aGF0LlxuICAgICAgICBpZiAoIW11bHRpQ29sdW1uKSB7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbHVtbi1oZWFkZXJfX3dyYXBwZXInKT8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk/LmJvdHRvbTtcbiAgICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICBjb25zdCBzY3JvbGxpbmdFbGVtZW50ID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBkb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgc2Nyb2xsaW5nRWxlbWVudC5zY3JvbGxCeSgwLCAtb2Zmc2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzKSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIGFuY2VzdG9yc0lkcyB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChzdGF0dXMgJiYgKGFuY2VzdG9yc0lkcy5zaXplID4gcHJldlByb3BzLmFuY2VzdG9yc0lkcy5zaXplIHx8IHByZXZQcm9wcy5zdGF0dXM/LmdldCgnaWQnKSAhPT0gc3RhdHVzLmdldCgnaWQnKSkpIHtcbiAgICAgIHRoaXMuX3Njcm9sbFN0YXR1c0ludG9WaWV3KCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIGRldGFjaEZ1bGxzY3JlZW5MaXN0ZW5lcih0aGlzLm9uRnVsbFNjcmVlbkNoYW5nZSk7XG4gIH1cblxuICBvbkZ1bGxTY3JlZW5DaGFuZ2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGZ1bGxzY3JlZW46IGlzRnVsbHNjcmVlbigpIH0pO1xuICB9O1xuXG4gIHNob3VsZFVwZGF0ZVNjcm9sbCA9IChwcmV2Um91dGVyUHJvcHMsIHsgbG9jYXRpb24gfSkgPT4ge1xuICAgIC8vIERvIG5vdCBjaGFuZ2Ugc2Nyb2xsIHdoZW4gb3BlbmluZyBhIG1vZGFsXG4gICAgaWYgKGxvY2F0aW9uLnN0YXRlPy5tYXN0b2Rvbk1vZGFsS2V5ICE9PSBwcmV2Um91dGVyUHJvcHM/LmxvY2F0aW9uPy5zdGF0ZT8ubWFzdG9kb25Nb2RhbEtleSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFNjcm9sbCB0byBmb2N1c2VkIHBvc3QgaWYgaXQgaXMgbG9hZGVkXG4gICAgY29uc3QgY2hpbGQgPSB0aGlzLm5vZGU/LnF1ZXJ5U2VsZWN0b3IoJy5kZXRhaWxlZC1zdGF0dXNfX3dyYXBwZXInKTtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIHJldHVybiBbMCwgY2hpbGQub2Zmc2V0VG9wXTtcbiAgICB9XG5cbiAgICAvLyBEbyBub3Qgc2Nyb2xsIG90aGVyd2lzZSwgYGNvbXBvbmVudERpZFVwZGF0ZWAgd2lsbCB0YWtlIGNhcmUgb2YgdGhhdFxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICByZW5kZXIgKCkge1xuICAgIGxldCBhbmNlc3RvcnMsIGRlc2NlbmRhbnRzO1xuICAgIGNvbnN0IHsgaXNMb2FkaW5nLCBzdGF0dXMsIGFuY2VzdG9yc0lkcywgZGVzY2VuZGFudHNJZHMsIGludGwsIGRvbWFpbiwgbXVsdGlDb2x1bW4sIHBpY3R1cmVJblBpY3R1cmUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBmdWxsc2NyZWVuIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgeyBzaWduZWRJbiB9ID0gdGhpcy5jb250ZXh0LmlkZW50aXR5O1xuXG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbHVtbj5cbiAgICAgICAgICA8TG9hZGluZ0luZGljYXRvciAvPlxuICAgICAgICA8L0NvbHVtbj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEJ1bmRsZUNvbHVtbkVycm9yIG11bHRpQ29sdW1uPXttdWx0aUNvbHVtbn0gZXJyb3JUeXBlPSdyb3V0aW5nJyAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoYW5jZXN0b3JzSWRzICYmIGFuY2VzdG9yc0lkcy5zaXplID4gMCkge1xuICAgICAgYW5jZXN0b3JzID0gPD57dGhpcy5yZW5kZXJDaGlsZHJlbihhbmNlc3RvcnNJZHMsIHRydWUpfTwvPjtcbiAgICB9XG5cbiAgICBpZiAoZGVzY2VuZGFudHNJZHMgJiYgZGVzY2VuZGFudHNJZHMuc2l6ZSA+IDApIHtcbiAgICAgIGRlc2NlbmRhbnRzID0gPD57dGhpcy5yZW5kZXJDaGlsZHJlbihkZXNjZW5kYW50c0lkcyl9PC8+O1xuICAgIH1cblxuICAgIGNvbnN0IGlzTG9jYWwgPSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2FjY3QnXSwgJycpLmluZGV4T2YoJ0AnKSA9PT0gLTE7XG4gICAgY29uc3QgaXNJbmRleGFibGUgPSAhc3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdub2luZGV4J10pO1xuXG4gICAgY29uc3QgaGFuZGxlcnMgPSB7XG4gICAgICBtb3ZlVXA6IHRoaXMuaGFuZGxlSG90a2V5TW92ZVVwLFxuICAgICAgbW92ZURvd246IHRoaXMuaGFuZGxlSG90a2V5TW92ZURvd24sXG4gICAgICByZXBseTogdGhpcy5oYW5kbGVIb3RrZXlSZXBseSxcbiAgICAgIGZhdm91cml0ZTogdGhpcy5oYW5kbGVIb3RrZXlGYXZvdXJpdGUsXG4gICAgICBib29zdDogdGhpcy5oYW5kbGVIb3RrZXlCb29zdCxcbiAgICAgIG1lbnRpb246IHRoaXMuaGFuZGxlSG90a2V5TWVudGlvbixcbiAgICAgIG9wZW5Qcm9maWxlOiB0aGlzLmhhbmRsZUhvdGtleU9wZW5Qcm9maWxlLFxuICAgICAgdG9nZ2xlSGlkZGVuOiB0aGlzLmhhbmRsZUhvdGtleVRvZ2dsZUhpZGRlbixcbiAgICAgIHRvZ2dsZVNlbnNpdGl2ZTogdGhpcy5oYW5kbGVIb3RrZXlUb2dnbGVTZW5zaXRpdmUsXG4gICAgICBvcGVuTWVkaWE6IHRoaXMuaGFuZGxlSG90a2V5T3Blbk1lZGlhLFxuICAgIH07XG5cbiAgICByZXR1cm4gc2lnbmVkSW4gPyAoXG4gICAgICA8Q29sdW1uIGJpbmRUb0RvY3VtZW50PXshbXVsdGlDb2x1bW59IGxhYmVsPXtpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuZGV0YWlsZWRTdGF0dXMpfT5cbiAgICAgICAgPENvbHVtbkhlYWRlclxuICAgICAgICAgIHNob3dCYWNrQnV0dG9uXG4gICAgICAgICAgbXVsdGlDb2x1bW49e211bHRpQ29sdW1ufVxuICAgICAgICAgIGV4dHJhQnV0dG9uPXsoXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3NOYW1lPSdjb2x1bW4taGVhZGVyX19idXR0b24nIHRpdGxlPXtpbnRsLmZvcm1hdE1lc3NhZ2Uoc3RhdHVzLmdldCgnaGlkZGVuJykgPyBtZXNzYWdlcy5yZXZlYWxBbGwgOiBtZXNzYWdlcy5oaWRlQWxsKX0gYXJpYS1sYWJlbD17aW50bC5mb3JtYXRNZXNzYWdlKHN0YXR1cy5nZXQoJ2hpZGRlbicpID8gbWVzc2FnZXMucmV2ZWFsQWxsIDogbWVzc2FnZXMuaGlkZUFsbCl9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlVG9nZ2xlQWxsfT48SWNvbiBpZD17c3RhdHVzLmdldCgnaGlkZGVuJykgPyAnZXllLXNsYXNoJyA6ICdleWUnfSAvPjwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPFNjcm9sbENvbnRhaW5lciBzY3JvbGxLZXk9J3RocmVhZCcgc2hvdWxkVXBkYXRlU2Nyb2xsPXt0aGlzLnNob3VsZFVwZGF0ZVNjcm9sbH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3Njcm9sbGFibGUnLCB7IGZ1bGxzY3JlZW4gfSl9IHJlZj17dGhpcy5zZXRSZWZ9PlxuICAgICAgICAgICAge2FuY2VzdG9yc31cblxuICAgICAgICAgICAgPEhvdEtleXMgaGFuZGxlcnM9e2hhbmRsZXJzfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2ZvY3VzYWJsZScsICdkZXRhaWxlZC1zdGF0dXNfX3dyYXBwZXInLCBgZGV0YWlsZWQtc3RhdHVzX193cmFwcGVyLSR7c3RhdHVzLmdldCgndmlzaWJpbGl0eScpfWApfSB0YWJJbmRleD17MH0gYXJpYS1sYWJlbD17dGV4dEZvclNjcmVlblJlYWRlcihpbnRsLCBzdGF0dXMsIGZhbHNlKX0+XG4gICAgICAgICAgICAgICAgPERldGFpbGVkU3RhdHVzXG4gICAgICAgICAgICAgICAgICBrZXk9e2BkZXRhaWxzLSR7c3RhdHVzLmdldCgnaWQnKX1gfVxuICAgICAgICAgICAgICAgICAgc3RhdHVzPXtzdGF0dXN9XG4gICAgICAgICAgICAgICAgICBvbk9wZW5WaWRlbz17dGhpcy5oYW5kbGVPcGVuVmlkZW99XG4gICAgICAgICAgICAgICAgICBvbk9wZW5NZWRpYT17dGhpcy5oYW5kbGVPcGVuTWVkaWF9XG4gICAgICAgICAgICAgICAgICBvblRvZ2dsZUhpZGRlbj17dGhpcy5oYW5kbGVUb2dnbGVIaWRkZW59XG4gICAgICAgICAgICAgICAgICBvblRyYW5zbGF0ZT17dGhpcy5oYW5kbGVUcmFuc2xhdGV9XG4gICAgICAgICAgICAgICAgICBkb21haW49e2RvbWFpbn1cbiAgICAgICAgICAgICAgICAgIHNob3dNZWRpYT17dGhpcy5zdGF0ZS5zaG93TWVkaWF9XG4gICAgICAgICAgICAgICAgICBvblRvZ2dsZU1lZGlhVmlzaWJpbGl0eT17dGhpcy5oYW5kbGVUb2dnbGVNZWRpYVZpc2liaWxpdHl9XG4gICAgICAgICAgICAgICAgICBwaWN0dXJlSW5QaWN0dXJlPXtwaWN0dXJlSW5QaWN0dXJlfVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICA8QWN0aW9uQmFyXG4gICAgICAgICAgICAgICAgICBrZXk9e2BhY3Rpb24tYmFyLSR7c3RhdHVzLmdldCgnaWQnKX1gfVxuICAgICAgICAgICAgICAgICAgc3RhdHVzPXtzdGF0dXN9XG4gICAgICAgICAgICAgICAgICBvblJlcGx5PXt0aGlzLmhhbmRsZVJlcGx5Q2xpY2t9XG4gICAgICAgICAgICAgICAgICBvbkZhdm91cml0ZT17dGhpcy5oYW5kbGVGYXZvdXJpdGVDbGlja31cbiAgICAgICAgICAgICAgICAgIG9uUmVibG9nPXt0aGlzLmhhbmRsZVJlYmxvZ0NsaWNrfVxuICAgICAgICAgICAgICAgICAgb25Cb29rbWFyaz17dGhpcy5oYW5kbGVCb29rbWFya0NsaWNrfVxuICAgICAgICAgICAgICAgICAgb25EZWxldGU9e3RoaXMuaGFuZGxlRGVsZXRlQ2xpY2t9XG4gICAgICAgICAgICAgICAgICBvbkVkaXQ9e3RoaXMuaGFuZGxlRWRpdENsaWNrfVxuICAgICAgICAgICAgICAgICAgb25EaXJlY3Q9e3RoaXMuaGFuZGxlRGlyZWN0Q2xpY2t9XG4gICAgICAgICAgICAgICAgICBvbk1lbnRpb249e3RoaXMuaGFuZGxlTWVudGlvbkNsaWNrfVxuICAgICAgICAgICAgICAgICAgb25NdXRlPXt0aGlzLmhhbmRsZU11dGVDbGlja31cbiAgICAgICAgICAgICAgICAgIG9uVW5tdXRlPXt0aGlzLmhhbmRsZVVubXV0ZUNsaWNrfVxuICAgICAgICAgICAgICAgICAgb25NdXRlQ29udmVyc2F0aW9uPXt0aGlzLmhhbmRsZUNvbnZlcnNhdGlvbk11dGVDbGlja31cbiAgICAgICAgICAgICAgICAgIG9uQmxvY2s9e3RoaXMuaGFuZGxlQmxvY2tDbGlja31cbiAgICAgICAgICAgICAgICAgIG9uVW5ibG9jaz17dGhpcy5oYW5kbGVVbmJsb2NrQ2xpY2t9XG4gICAgICAgICAgICAgICAgICBvbkJsb2NrRG9tYWluPXt0aGlzLmhhbmRsZUJsb2NrRG9tYWluQ2xpY2t9XG4gICAgICAgICAgICAgICAgICBvblVuYmxvY2tEb21haW49e3RoaXMuaGFuZGxlVW5ibG9ja0RvbWFpbkNsaWNrfVxuICAgICAgICAgICAgICAgICAgb25SZXBvcnQ9e3RoaXMuaGFuZGxlUmVwb3J0fVxuICAgICAgICAgICAgICAgICAgb25QaW49e3RoaXMuaGFuZGxlUGlufVxuICAgICAgICAgICAgICAgICAgb25FbWJlZD17dGhpcy5oYW5kbGVFbWJlZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvSG90S2V5cz5cblxuICAgICAgICAgICAge2Rlc2NlbmRhbnRzfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1Njcm9sbENvbnRhaW5lcj5cblxuICAgICAgICA8SGVsbWV0PlxuICAgICAgICAgIDx0aXRsZT57dGl0bGVGcm9tU3RhdHVzKGludGwsIHN0YXR1cyl9PC90aXRsZT5cbiAgICAgICAgICA8bWV0YSBuYW1lPSdyb2JvdHMnIGNvbnRlbnQ9eyhpc0xvY2FsICYmIGlzSW5kZXhhYmxlKSA/ICdhbGwnIDogJ25vaW5kZXgnfSAvPlxuICAgICAgICAgIDxsaW5rIHJlbD0nY2Fub25pY2FsJyBocmVmPXtzdGF0dXMuZ2V0KCd1cmwnKX0gLz5cbiAgICAgICAgPC9IZWxtZXQ+XG4gICAgICA8L0NvbHVtbj5cbiAgICApIDogPE5vdFNpZ25lZEluSW5kaWNhdG9yIC8+XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmplY3RJbnRsKGNvbm5lY3QobWFrZU1hcFN0YXRlVG9Qcm9wcykoU3RhdHVzKSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBS0E7QUFJQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXlCQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBdUJBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFrQ0E7QUFDQTtBQUFBO0FBbUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWphQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUEwVEE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBUEE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXNCQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVRBO0FBQUE7QUFBQTtBQUFBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQW5CQTtBQUFBO0FBQUE7QUFBQTtBQW9CQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFqakJBO0FBR0E7QUFDQTtBQUNBO0FBTEE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE2aEJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/features/status/index.jsx\n");

/***/ })

}]);