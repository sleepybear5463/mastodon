(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["features/status"],{

/***/ "./app/javascript/mastodon/components/edited_timestamp/containers/dropdown_menu_container.js":
/*!***************************************************************************************************!*\
  !*** ./app/javascript/mastodon/components/edited_timestamp/containers/dropdown_menu_container.js ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var mastodon_actions_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mastodon/actions/dropdown_menu */ \"./app/javascript/mastodon/actions/dropdown_menu.js\");\n/* harmony import */ var mastodon_actions_history__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mastodon/actions/history */ \"./app/javascript/mastodon/actions/history.js\");\n/* harmony import */ var mastodon_components_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mastodon/components/dropdown_menu */ \"./app/javascript/mastodon/components/dropdown_menu.jsx\");\n\n\n\n\nvar mapStateToProps = (state, _ref) => {\n  var {\n    statusId\n  } = _ref;\n  return {\n    openDropdownId: state.getIn(['dropdown_menu', 'openId']),\n    openedViaKeyboard: state.getIn(['dropdown_menu', 'keyboard']),\n    items: state.getIn(['history', statusId, 'items']),\n    loading: state.getIn(['history', statusId, 'loading'])\n  };\n};\nvar mapDispatchToProps = (dispatch, _ref2) => {\n  var {\n    statusId\n  } = _ref2;\n  return {\n    onOpen(id, onItemClick, keyboard) {\n      dispatch(Object(mastodon_actions_history__WEBPACK_IMPORTED_MODULE_2__[\"fetchHistory\"])(statusId));\n      dispatch(Object(mastodon_actions_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__[\"openDropdownMenu\"])(id, keyboard));\n    },\n    onClose(id) {\n      dispatch(Object(mastodon_actions_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__[\"closeDropdownMenu\"])(id));\n    }\n  };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__[\"connect\"])(mapStateToProps, mapDispatchToProps)(mastodon_components_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__[\"default\"]));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9jb21wb25lbnRzL2VkaXRlZF90aW1lc3RhbXAvY29udGFpbmVycy9kcm9wZG93bl9tZW51X2NvbnRhaW5lci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2FwcC9qYXZhc2NyaXB0L21hc3RvZG9uL2NvbXBvbmVudHMvZWRpdGVkX3RpbWVzdGFtcC9jb250YWluZXJzL2Ryb3Bkb3duX21lbnVfY29udGFpbmVyLmpzPzY4MzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcblxuaW1wb3J0IHsgb3BlbkRyb3Bkb3duTWVudSwgY2xvc2VEcm9wZG93bk1lbnUgfSBmcm9tICdtYXN0b2Rvbi9hY3Rpb25zL2Ryb3Bkb3duX21lbnUnO1xuaW1wb3J0IHsgZmV0Y2hIaXN0b3J5IH0gZnJvbSAnbWFzdG9kb24vYWN0aW9ucy9oaXN0b3J5JztcbmltcG9ydCBEcm9wZG93bk1lbnUgZnJvbSAnbWFzdG9kb24vY29tcG9uZW50cy9kcm9wZG93bl9tZW51JztcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlLCB7IHN0YXR1c0lkIH0pID0+ICh7XG4gIG9wZW5Ecm9wZG93bklkOiBzdGF0ZS5nZXRJbihbJ2Ryb3Bkb3duX21lbnUnLCAnb3BlbklkJ10pLFxuICBvcGVuZWRWaWFLZXlib2FyZDogc3RhdGUuZ2V0SW4oWydkcm9wZG93bl9tZW51JywgJ2tleWJvYXJkJ10pLFxuICBpdGVtczogc3RhdGUuZ2V0SW4oWydoaXN0b3J5Jywgc3RhdHVzSWQsICdpdGVtcyddKSxcbiAgbG9hZGluZzogc3RhdGUuZ2V0SW4oWydoaXN0b3J5Jywgc3RhdHVzSWQsICdsb2FkaW5nJ10pLFxufSk7XG5cbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaCwgeyBzdGF0dXNJZCB9KSA9PiAoe1xuXG4gIG9uT3BlbiAoaWQsIG9uSXRlbUNsaWNrLCBrZXlib2FyZCkge1xuICAgIGRpc3BhdGNoKGZldGNoSGlzdG9yeShzdGF0dXNJZCkpO1xuICAgIGRpc3BhdGNoKG9wZW5Ecm9wZG93bk1lbnUoaWQsIGtleWJvYXJkKSk7XG4gIH0sXG5cbiAgb25DbG9zZSAoaWQpIHtcbiAgICBkaXNwYXRjaChjbG9zZURyb3Bkb3duTWVudShpZCkpO1xuICB9LFxuXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoRHJvcGRvd25NZW51KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/components/edited_timestamp/containers/dropdown_menu_container.js\n");

/***/ }),

/***/ "./app/javascript/mastodon/components/edited_timestamp/index.jsx":
/*!***********************************************************************!*\
  !*** ./app/javascript/mastodon/components/edited_timestamp/index.jsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var mastodon_actions_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mastodon/actions/modal */ \"./app/javascript/mastodon/actions/modal.ts\");\n/* harmony import */ var mastodon_components_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mastodon/components/icon */ \"./app/javascript/mastodon/components/icon.tsx\");\n/* harmony import */ var mastodon_components_inline_account__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mastodon/components/inline_account */ \"./app/javascript/mastodon/components/inline_account.jsx\");\n/* harmony import */ var mastodon_components_relative_timestamp__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! mastodon/components/relative_timestamp */ \"./app/javascript/mastodon/components/relative_timestamp.tsx\");\n/* harmony import */ var _containers_dropdown_menu_container__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./containers/dropdown_menu_container */ \"./app/javascript/mastodon/components/edited_timestamp/containers/dropdown_menu_container.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__);\nvar _jsxFileName = \"/home/sleepybear/workspace/mastodon-sleepybear/app/javascript/mastodon/components/edited_timestamp/index.jsx\";\n\n\n\n\n\n\n\n\n\n\nvar mapDispatchToProps = (dispatch, _ref) => {\n  var {\n    statusId\n  } = _ref;\n  return {\n    onItemClick(index) {\n      dispatch(Object(mastodon_actions_modal__WEBPACK_IMPORTED_MODULE_4__[\"openModal\"])({\n        modalType: 'COMPARE_HISTORY',\n        modalProps: {\n          index,\n          statusId\n        }\n      }));\n    }\n  };\n};\nclass EditedTimestamp extends react__WEBPACK_IMPORTED_MODULE_1__[\"PureComponent\"] {\n  constructor() {\n    super(...arguments);\n    this.handleItemClick = (item, i) => {\n      var {\n        onItemClick\n      } = this.props;\n      onItemClick(i);\n    };\n    this.renderHeader = items => {\n      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"FormattedMessage\"], {\n        id: \"status.edited_x_times\",\n        defaultMessage: \"Edited {count, plural, one {# time} other {# times}}\",\n        values: {\n          count: items.size - 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this);\n    };\n    this.renderItem = (item, index, _ref2) => {\n      var {\n        onClick,\n        onKeyPress\n      } = _ref2;\n      var formattedDate = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(mastodon_components_relative_timestamp__WEBPACK_IMPORTED_MODULE_7__[\"RelativeTimestamp\"], {\n        timestamp: item.get('created_at'),\n        short: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 27\n      }, this);\n      var formattedName = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(mastodon_components_inline_account__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n        accountId: item.get('account')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 27\n      }, this);\n      var label = item.get('original') ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"FormattedMessage\"], {\n        id: \"status.history.created\",\n        defaultMessage: \"{name} created {date}\",\n        values: {\n          name: formattedName,\n          date: formattedDate\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"FormattedMessage\"], {\n        id: \"status.history.edited\",\n        defaultMessage: \"{name} edited {date}\",\n        values: {\n          name: formattedName,\n          date: formattedDate\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this);\n      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(\"li\", {\n        className: \"dropdown-menu__item edited-timestamp__history__item\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(\"button\", {\n          \"data-index\": index,\n          onClick: onClick,\n          onKeyPress: onKeyPress,\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this)\n      }, item.get('created_at'), false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this);\n    };\n  }\n  render() {\n    var {\n      timestamp,\n      intl,\n      statusId\n    } = this.props;\n    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(_containers_dropdown_menu_container__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      statusId: statusId,\n      renderItem: this.renderItem,\n      scrollable: true,\n      renderHeader: this.renderHeader,\n      onItemClick: this.handleItemClick,\n      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(\"button\", {\n        className: \"dropdown-menu__text-button\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"FormattedMessage\"], {\n          id: \"status.edited\",\n          defaultMessage: \"Edited {date}\",\n          values: {\n            date: intl.formatDate(timestamp, {\n              hour12: false,\n              month: 'short',\n              day: '2-digit',\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_5__[\"Icon\"], {\n          id: \"caret-down\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 215\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n}\nEditedTimestamp.propTypes = {\n  statusId: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  timestamp: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  intl: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired,\n  onItemClick: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[\"connect\"])(null, mapDispatchToProps)(Object(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"injectIntl\"])(EditedTimestamp)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9jb21wb25lbnRzL2VkaXRlZF90aW1lc3RhbXAvaW5kZXguanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBwL2phdmFzY3JpcHQvbWFzdG9kb24vY29tcG9uZW50cy9lZGl0ZWRfdGltZXN0YW1wL2luZGV4LmpzeD83MjM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlLCBpbmplY3RJbnRsIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbmltcG9ydCB7IG9wZW5Nb2RhbCB9IGZyb20gJ21hc3RvZG9uL2FjdGlvbnMvbW9kYWwnO1xuaW1wb3J0IHsgSWNvbiB9ICBmcm9tICdtYXN0b2Rvbi9jb21wb25lbnRzL2ljb24nO1xuaW1wb3J0IElubGluZUFjY291bnQgZnJvbSAnbWFzdG9kb24vY29tcG9uZW50cy9pbmxpbmVfYWNjb3VudCc7XG5pbXBvcnQgeyBSZWxhdGl2ZVRpbWVzdGFtcCB9IGZyb20gJ21hc3RvZG9uL2NvbXBvbmVudHMvcmVsYXRpdmVfdGltZXN0YW1wJztcblxuaW1wb3J0IERyb3Bkb3duTWVudSBmcm9tICcuL2NvbnRhaW5lcnMvZHJvcGRvd25fbWVudV9jb250YWluZXInO1xuXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gsIHsgc3RhdHVzSWQgfSkgPT4gKHtcblxuICBvbkl0ZW1DbGljayAoaW5kZXgpIHtcbiAgICBkaXNwYXRjaChvcGVuTW9kYWwoe1xuICAgICAgbW9kYWxUeXBlOiAnQ09NUEFSRV9ISVNUT1JZJyxcbiAgICAgIG1vZGFsUHJvcHM6IHsgaW5kZXgsIHN0YXR1c0lkIH0sXG4gICAgfSkpO1xuICB9LFxuXG59KTtcblxuY2xhc3MgRWRpdGVkVGltZXN0YW1wIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBzdGF0dXNJZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHRpbWVzdGFtcDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGludGw6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkl0ZW1DbGljazogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfTtcblxuICBoYW5kbGVJdGVtQ2xpY2sgPSAoaXRlbSwgaSkgPT4ge1xuICAgIGNvbnN0IHsgb25JdGVtQ2xpY2sgfSA9IHRoaXMucHJvcHM7XG4gICAgb25JdGVtQ2xpY2soaSk7XG4gIH07XG5cbiAgcmVuZGVySGVhZGVyID0gaXRlbXMgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD0nc3RhdHVzLmVkaXRlZF94X3RpbWVzJyBkZWZhdWx0TWVzc2FnZT0nRWRpdGVkIHtjb3VudCwgcGx1cmFsLCBvbmUgeyMgdGltZX0gb3RoZXIgeyMgdGltZXN9fScgdmFsdWVzPXt7IGNvdW50OiBpdGVtcy5zaXplIC0gMSB9fSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVySXRlbSA9IChpdGVtLCBpbmRleCwgeyBvbkNsaWNrLCBvbktleVByZXNzIH0pID0+IHtcbiAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gPFJlbGF0aXZlVGltZXN0YW1wIHRpbWVzdGFtcD17aXRlbS5nZXQoJ2NyZWF0ZWRfYXQnKX0gc2hvcnQ9e2ZhbHNlfSAvPjtcbiAgICBjb25zdCBmb3JtYXR0ZWROYW1lID0gPElubGluZUFjY291bnQgYWNjb3VudElkPXtpdGVtLmdldCgnYWNjb3VudCcpfSAvPjtcblxuICAgIGNvbnN0IGxhYmVsID0gaXRlbS5nZXQoJ29yaWdpbmFsJykgPyAoXG4gICAgICA8Rm9ybWF0dGVkTWVzc2FnZSBpZD0nc3RhdHVzLmhpc3RvcnkuY3JlYXRlZCcgZGVmYXVsdE1lc3NhZ2U9J3tuYW1lfSBjcmVhdGVkIHtkYXRlfScgdmFsdWVzPXt7IG5hbWU6IGZvcm1hdHRlZE5hbWUsIGRhdGU6IGZvcm1hdHRlZERhdGUgfX0gLz5cbiAgICApIDogKFxuICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9J3N0YXR1cy5oaXN0b3J5LmVkaXRlZCcgZGVmYXVsdE1lc3NhZ2U9J3tuYW1lfSBlZGl0ZWQge2RhdGV9JyB2YWx1ZXM9e3sgbmFtZTogZm9ybWF0dGVkTmFtZSwgZGF0ZTogZm9ybWF0dGVkRGF0ZSB9fSAvPlxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT0nZHJvcGRvd24tbWVudV9faXRlbSBlZGl0ZWQtdGltZXN0YW1wX19oaXN0b3J5X19pdGVtJyBrZXk9e2l0ZW0uZ2V0KCdjcmVhdGVkX2F0Jyl9PlxuICAgICAgICA8YnV0dG9uIGRhdGEtaW5kZXg9e2luZGV4fSBvbkNsaWNrPXtvbkNsaWNrfSBvbktleVByZXNzPXtvbktleVByZXNzfT57bGFiZWx9PC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7IHRpbWVzdGFtcCwgaW50bCwgc3RhdHVzSWQgfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPERyb3Bkb3duTWVudSBzdGF0dXNJZD17c3RhdHVzSWR9IHJlbmRlckl0ZW09e3RoaXMucmVuZGVySXRlbX0gc2Nyb2xsYWJsZSByZW5kZXJIZWFkZXI9e3RoaXMucmVuZGVySGVhZGVyfSBvbkl0ZW1DbGljaz17dGhpcy5oYW5kbGVJdGVtQ2xpY2t9PlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT0nZHJvcGRvd24tbWVudV9fdGV4dC1idXR0b24nPlxuICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPSdzdGF0dXMuZWRpdGVkJyBkZWZhdWx0TWVzc2FnZT0nRWRpdGVkIHtkYXRlfScgdmFsdWVzPXt7IGRhdGU6IGludGwuZm9ybWF0RGF0ZSh0aW1lc3RhbXAsIHsgaG91cjEyOiBmYWxzZSwgbW9udGg6ICdzaG9ydCcsIGRheTogJzItZGlnaXQnLCBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pIH19IC8+IDxJY29uIGlkPSdjYXJldC1kb3duJyAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgICk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG51bGwsIG1hcERpc3BhdGNoVG9Qcm9wcykoaW5qZWN0SW50bChFZGl0ZWRUaW1lc3RhbXApKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBVUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBakRBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTRDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/components/edited_timestamp/index.jsx\n");

/***/ }),

/***/ "./app/javascript/mastodon/features/status/components/action_bar.jsx":
/*!***************************************************************************!*\
  !*** ./app/javascript/mastodon/features/status/components/action_bar.jsx ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-immutable-proptypes */ \"./node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js\");\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mastodon/permissions */ \"./app/javascript/mastodon/permissions.ts\");\n/* harmony import */ var _components_icon_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/icon_button */ \"./app/javascript/mastodon/components/icon_button.tsx\");\n/* harmony import */ var _containers_dropdown_menu_container__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../containers/dropdown_menu_container */ \"./app/javascript/mastodon/containers/dropdown_menu_container.js\");\n/* harmony import */ var _initial_state__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../initial_state */ \"./app/javascript/mastodon/initial_state.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__);\nvar _jsxFileName = \"/home/sleepybear/workspace/mastodon-sleepybear/app/javascript/mastodon/features/status/components/action_bar.jsx\";\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"defineMessages\"])({\n  delete: {\n    id: \"status.delete\",\n    defaultMessage: \"Delete\"\n  },\n  redraft: {\n    id: \"status.redraft\",\n    defaultMessage: \"Delete & re-draft\"\n  },\n  edit: {\n    id: \"status.edit\",\n    defaultMessage: \"Edit\"\n  },\n  direct: {\n    id: \"status.direct\",\n    defaultMessage: \"Privately mention @{name}\"\n  },\n  mention: {\n    id: \"status.mention\",\n    defaultMessage: \"Mention @{name}\"\n  },\n  reply: {\n    id: \"status.reply\",\n    defaultMessage: \"Reply\"\n  },\n  reblog: {\n    id: \"status.reblog\",\n    defaultMessage: \"Boost\"\n  },\n  reblog_private: {\n    id: \"status.reblog_private\",\n    defaultMessage: \"Boost with original visibility\"\n  },\n  cancel_reblog_private: {\n    id: \"status.cancel_reblog_private\",\n    defaultMessage: \"Unboost\"\n  },\n  cannot_reblog: {\n    id: \"status.cannot_reblog\",\n    defaultMessage: \"This post cannot be boosted\"\n  },\n  favourite: {\n    id: \"status.favourite\",\n    defaultMessage: \"Favorite\"\n  },\n  bookmark: {\n    id: \"status.bookmark\",\n    defaultMessage: \"Bookmark\"\n  },\n  more: {\n    id: \"status.more\",\n    defaultMessage: \"More\"\n  },\n  mute: {\n    id: \"status.mute\",\n    defaultMessage: \"Mute @{name}\"\n  },\n  muteConversation: {\n    id: \"status.mute_conversation\",\n    defaultMessage: \"Mute conversation\"\n  },\n  unmuteConversation: {\n    id: \"status.unmute_conversation\",\n    defaultMessage: \"Unmute conversation\"\n  },\n  block: {\n    id: \"status.block\",\n    defaultMessage: \"Block @{name}\"\n  },\n  report: {\n    id: \"status.report\",\n    defaultMessage: \"Report @{name}\"\n  },\n  share: {\n    id: \"status.share\",\n    defaultMessage: \"Share\"\n  },\n  pin: {\n    id: \"status.pin\",\n    defaultMessage: \"Pin on profile\"\n  },\n  unpin: {\n    id: \"status.unpin\",\n    defaultMessage: \"Unpin from profile\"\n  },\n  embed: {\n    id: \"status.embed\",\n    defaultMessage: \"Embed\"\n  },\n  admin_account: {\n    id: \"status.admin_account\",\n    defaultMessage: \"Open moderation interface for @{name}\"\n  },\n  admin_status: {\n    id: \"status.admin_status\",\n    defaultMessage: \"Open this post in the moderation interface\"\n  },\n  admin_domain: {\n    id: \"status.admin_domain\",\n    defaultMessage: \"Open moderation interface for {domain}\"\n  },\n  copy: {\n    id: \"status.copy\",\n    defaultMessage: \"Copy link to post\"\n  },\n  blockDomain: {\n    id: \"account.block_domain\",\n    defaultMessage: \"Block domain {domain}\"\n  },\n  unblockDomain: {\n    id: \"account.unblock_domain\",\n    defaultMessage: \"Unblock domain {domain}\"\n  },\n  unmute: {\n    id: \"account.unmute\",\n    defaultMessage: \"Unmute @{name}\"\n  },\n  unblock: {\n    id: \"account.unblock\",\n    defaultMessage: \"Unblock @{name}\"\n  },\n  openOriginalPage: {\n    id: \"account.open_original_page\",\n    defaultMessage: \"Open original page\"\n  }\n});\nvar mapStateToProps = (state, _ref) => {\n  var {\n    status\n  } = _ref;\n  return {\n    relationship: state.getIn(['relationships', status.getIn(['account', 'id'])])\n  };\n};\nclass ActionBar extends react__WEBPACK_IMPORTED_MODULE_1__[\"PureComponent\"] {\n  constructor() {\n    super(...arguments);\n    this.handleReplyClick = () => {\n      this.props.onReply(this.props.status);\n    };\n    this.handleReblogClick = e => {\n      this.props.onReblog(this.props.status, e);\n    };\n    this.handleFavouriteClick = () => {\n      this.props.onFavourite(this.props.status);\n    };\n    this.handleBookmarkClick = e => {\n      this.props.onBookmark(this.props.status, e);\n    };\n    this.handleDeleteClick = () => {\n      this.props.onDelete(this.props.status, this.context.router.history);\n    };\n    this.handleRedraftClick = () => {\n      this.props.onDelete(this.props.status, this.context.router.history, true);\n    };\n    this.handleEditClick = () => {\n      this.props.onEdit(this.props.status, this.context.router.history);\n    };\n    this.handleDirectClick = () => {\n      this.props.onDirect(this.props.status.get('account'), this.context.router.history);\n    };\n    this.handleMentionClick = () => {\n      this.props.onMention(this.props.status.get('account'), this.context.router.history);\n    };\n    this.handleMuteClick = () => {\n      var {\n        status,\n        relationship,\n        onMute,\n        onUnmute\n      } = this.props;\n      var account = status.get('account');\n      if (relationship && relationship.get('muting')) {\n        onUnmute(account);\n      } else {\n        onMute(account);\n      }\n    };\n    this.handleBlockClick = () => {\n      var {\n        status,\n        relationship,\n        onBlock,\n        onUnblock\n      } = this.props;\n      var account = status.get('account');\n      if (relationship && relationship.get('blocking')) {\n        onUnblock(account);\n      } else {\n        onBlock(status);\n      }\n    };\n    this.handleBlockDomain = () => {\n      var {\n        status,\n        onBlockDomain\n      } = this.props;\n      var account = status.get('account');\n      onBlockDomain(account.get('acct').split('@')[1]);\n    };\n    this.handleUnblockDomain = () => {\n      var {\n        status,\n        onUnblockDomain\n      } = this.props;\n      var account = status.get('account');\n      onUnblockDomain(account.get('acct').split('@')[1]);\n    };\n    this.handleConversationMuteClick = () => {\n      this.props.onMuteConversation(this.props.status);\n    };\n    this.handleReport = () => {\n      this.props.onReport(this.props.status);\n    };\n    this.handlePinClick = () => {\n      this.props.onPin(this.props.status);\n    };\n    this.handleShare = () => {\n      navigator.share({\n        url: this.props.status.get('url')\n      });\n    };\n    this.handleEmbed = () => {\n      this.props.onEmbed(this.props.status);\n    };\n    this.handleCopy = () => {\n      var url = this.props.status.get('url');\n      navigator.clipboard.writeText(url);\n    };\n  }\n  render() {\n    var {\n      status,\n      relationship,\n      intl\n    } = this.props;\n    var {\n      signedIn,\n      permissions\n    } = this.context.identity;\n    var publicStatus = ['public', 'unlisted'].includes(status.get('visibility'));\n    var pinnableStatus = ['public', 'unlisted', 'private'].includes(status.get('visibility'));\n    var mutingConversation = status.get('muted');\n    var account = status.get('account');\n    var writtenByMe = status.getIn(['account', 'id']) === _initial_state__WEBPACK_IMPORTED_MODULE_9__[\"me\"];\n    var isRemote = status.getIn(['account', 'username']) !== status.getIn(['account', 'acct']);\n    var menu = [];\n    if (publicStatus && isRemote) {\n      menu.push({\n        text: intl.formatMessage(messages.openOriginalPage),\n        href: status.get('url')\n      });\n    }\n    menu.push({\n      text: intl.formatMessage(messages.copy),\n      action: this.handleCopy\n    });\n    if (publicStatus && 'share' in navigator) {\n      menu.push({\n        text: intl.formatMessage(messages.share),\n        action: this.handleShare\n      });\n    }\n    if (publicStatus && (signedIn || !isRemote)) {\n      menu.push({\n        text: intl.formatMessage(messages.embed),\n        action: this.handleEmbed\n      });\n    }\n    if (signedIn) {\n      menu.push(null);\n      if (writtenByMe) {\n        if (pinnableStatus) {\n          menu.push({\n            text: intl.formatMessage(status.get('pinned') ? messages.unpin : messages.pin),\n            action: this.handlePinClick\n          });\n          menu.push(null);\n        }\n        menu.push({\n          text: intl.formatMessage(mutingConversation ? messages.unmuteConversation : messages.muteConversation),\n          action: this.handleConversationMuteClick\n        });\n        menu.push(null);\n        menu.push({\n          text: intl.formatMessage(messages.edit),\n          action: this.handleEditClick\n        });\n        menu.push({\n          text: intl.formatMessage(messages.delete),\n          action: this.handleDeleteClick,\n          dangerous: true\n        });\n        menu.push({\n          text: intl.formatMessage(messages.redraft),\n          action: this.handleRedraftClick,\n          dangerous: true\n        });\n      } else {\n        menu.push({\n          text: intl.formatMessage(messages.mention, {\n            name: status.getIn(['account', 'username'])\n          }),\n          action: this.handleMentionClick\n        });\n        menu.push(null);\n        if (relationship && relationship.get('muting')) {\n          menu.push({\n            text: intl.formatMessage(messages.unmute, {\n              name: account.get('username')\n            }),\n            action: this.handleMuteClick\n          });\n        } else {\n          menu.push({\n            text: intl.formatMessage(messages.mute, {\n              name: account.get('username')\n            }),\n            action: this.handleMuteClick,\n            dangerous: true\n          });\n        }\n        if (relationship && relationship.get('blocking')) {\n          menu.push({\n            text: intl.formatMessage(messages.unblock, {\n              name: account.get('username')\n            }),\n            action: this.handleBlockClick\n          });\n        } else {\n          menu.push({\n            text: intl.formatMessage(messages.block, {\n              name: account.get('username')\n            }),\n            action: this.handleBlockClick,\n            dangerous: true\n          });\n        }\n        menu.push({\n          text: intl.formatMessage(messages.report, {\n            name: status.getIn(['account', 'username'])\n          }),\n          action: this.handleReport,\n          dangerous: true\n        });\n        if (account.get('acct') !== account.get('username')) {\n          var domain = account.get('acct').split('@')[1];\n          menu.push(null);\n          if (relationship && relationship.get('domain_blocking')) {\n            menu.push({\n              text: intl.formatMessage(messages.unblockDomain, {\n                domain\n              }),\n              action: this.handleUnblockDomain\n            });\n          } else {\n            menu.push({\n              text: intl.formatMessage(messages.blockDomain, {\n                domain\n              }),\n              action: this.handleBlockDomain,\n              dangerous: true\n            });\n          }\n        }\n        if ((permissions & mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_USERS\"]) === mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_USERS\"] || isRemote && (permissions & mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_FEDERATION\"]) === mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_FEDERATION\"]) {\n          menu.push(null);\n          if ((permissions & mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_USERS\"]) === mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_USERS\"]) {\n            menu.push({\n              text: intl.formatMessage(messages.admin_account, {\n                name: status.getIn(['account', 'username'])\n              }),\n              href: \"/admin/accounts/\" + status.getIn(['account', 'id'])\n            });\n            menu.push({\n              text: intl.formatMessage(messages.admin_status),\n              href: \"/admin/accounts/\" + status.getIn(['account', 'id']) + \"/statuses/\" + status.get('id')\n            });\n          }\n          if (isRemote && (permissions & mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_FEDERATION\"]) === mastodon_permissions__WEBPACK_IMPORTED_MODULE_6__[\"PERMISSION_MANAGE_FEDERATION\"]) {\n            var _domain = account.get('acct').split('@')[1];\n            menu.push({\n              text: intl.formatMessage(messages.admin_domain, {\n                domain: _domain\n              }),\n              href: \"/admin/instances/\" + _domain\n            });\n          }\n        }\n      }\n    }\n    var replyIcon;\n    if (status.get('in_reply_to_id', null) === null) {\n      replyIcon = 'reply';\n    } else {\n      replyIcon = 'reply-all';\n    }\n    var reblogPrivate = status.getIn(['account', 'id']) === _initial_state__WEBPACK_IMPORTED_MODULE_9__[\"me\"] && status.get('visibility') === 'private';\n    var reblogTitle;\n    if (status.get('reblogged')) {\n      reblogTitle = intl.formatMessage(messages.cancel_reblog_private);\n    } else if (publicStatus) {\n      reblogTitle = intl.formatMessage(messages.reblog);\n    } else if (reblogPrivate) {\n      reblogTitle = intl.formatMessage(messages.reblog_private);\n    } else {\n      reblogTitle = intl.formatMessage(messages.cannot_reblog);\n    }\n    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n      className: \"detailed-status__action-bar\",\n      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n        className: \"detailed-status__button\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(_components_icon_button__WEBPACK_IMPORTED_MODULE_7__[\"IconButton\"], {\n          title: intl.formatMessage(messages.reply),\n          icon: status.get('in_reply_to_account_id') === status.getIn(['account', 'id']) ? 'reply' : replyIcon,\n          onClick: this.handleReplyClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n        className: \"detailed-status__button\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(_components_icon_button__WEBPACK_IMPORTED_MODULE_7__[\"IconButton\"], {\n          className: classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n            reblogPrivate\n          }),\n          disabled: !publicStatus && !reblogPrivate,\n          active: status.get('reblogged'),\n          title: reblogTitle,\n          icon: \"retweet\",\n          onClick: this.handleReblogClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n        className: \"detailed-status__button\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(_components_icon_button__WEBPACK_IMPORTED_MODULE_7__[\"IconButton\"], {\n          className: \"star-icon\",\n          animate: true,\n          active: status.get('favourited'),\n          title: intl.formatMessage(messages.favourite),\n          icon: \"star\",\n          onClick: this.handleFavouriteClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n        className: \"detailed-status__button\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(_components_icon_button__WEBPACK_IMPORTED_MODULE_7__[\"IconButton\"], {\n          className: \"bookmark-icon\",\n          disabled: !signedIn,\n          active: status.get('bookmarked'),\n          title: intl.formatMessage(messages.bookmark),\n          icon: \"bookmark\",\n          onClick: this.handleBookmarkClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(\"div\", {\n        className: \"detailed-status__action-bar-dropdown\",\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxDEV\"])(_containers_dropdown_menu_container__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n          size: 18,\n          icon: \"ellipsis-h\",\n          status: status,\n          items: menu,\n          direction: \"left\",\n          title: intl.formatMessage(messages.more)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this);\n  }\n}\nActionBar.contextTypes = {\n  router: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object,\n  identity: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object\n};\nActionBar.propTypes = {\n  status: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default.a.map.isRequired,\n  relationship: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default.a.map,\n  onReply: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onReblog: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onFavourite: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onBookmark: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onDelete: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onEdit: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onDirect: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onMention: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onMute: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onUnmute: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onBlock: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onUnblock: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onBlockDomain: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onUnblockDomain: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onMuteConversation: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onReport: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onPin: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  onEmbed: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  intl: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_5__[\"connect\"])(mapStateToProps)(Object(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"injectIntl\"])(ActionBar)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9mZWF0dXJlcy9zdGF0dXMvY29tcG9uZW50cy9hY3Rpb25fYmFyLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2FwcC9qYXZhc2NyaXB0L21hc3RvZG9uL2ZlYXR1cmVzL3N0YXR1cy9jb21wb25lbnRzL2FjdGlvbl9iYXIuanN4PzdmMjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IGRlZmluZU1lc3NhZ2VzLCBpbmplY3RJbnRsIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgSW1tdXRhYmxlUHJvcFR5cGVzIGZyb20gJ3JlYWN0LWltbXV0YWJsZS1wcm9wdHlwZXMnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcblxuaW1wb3J0IHsgUEVSTUlTU0lPTl9NQU5BR0VfVVNFUlMsIFBFUk1JU1NJT05fTUFOQUdFX0ZFREVSQVRJT04gfSBmcm9tICdtYXN0b2Rvbi9wZXJtaXNzaW9ucyc7XG5cbmltcG9ydCB7IEljb25CdXR0b24gfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2ljb25fYnV0dG9uJztcbmltcG9ydCBEcm9wZG93bk1lbnVDb250YWluZXIgZnJvbSAnLi4vLi4vLi4vY29udGFpbmVycy9kcm9wZG93bl9tZW51X2NvbnRhaW5lcic7XG5pbXBvcnQgeyBtZSB9IGZyb20gJy4uLy4uLy4uL2luaXRpYWxfc3RhdGUnO1xuXG5jb25zdCBtZXNzYWdlcyA9IGRlZmluZU1lc3NhZ2VzKHtcbiAgZGVsZXRlOiB7IGlkOiAnc3RhdHVzLmRlbGV0ZScsIGRlZmF1bHRNZXNzYWdlOiAnRGVsZXRlJyB9LFxuICByZWRyYWZ0OiB7IGlkOiAnc3RhdHVzLnJlZHJhZnQnLCBkZWZhdWx0TWVzc2FnZTogJ0RlbGV0ZSAmIHJlLWRyYWZ0JyB9LFxuICBlZGl0OiB7IGlkOiAnc3RhdHVzLmVkaXQnLCBkZWZhdWx0TWVzc2FnZTogJ0VkaXQnIH0sXG4gIGRpcmVjdDogeyBpZDogJ3N0YXR1cy5kaXJlY3QnLCBkZWZhdWx0TWVzc2FnZTogJ1ByaXZhdGVseSBtZW50aW9uIEB7bmFtZX0nIH0sXG4gIG1lbnRpb246IHsgaWQ6ICdzdGF0dXMubWVudGlvbicsIGRlZmF1bHRNZXNzYWdlOiAnTWVudGlvbiBAe25hbWV9JyB9LFxuICByZXBseTogeyBpZDogJ3N0YXR1cy5yZXBseScsIGRlZmF1bHRNZXNzYWdlOiAnUmVwbHknIH0sXG4gIHJlYmxvZzogeyBpZDogJ3N0YXR1cy5yZWJsb2cnLCBkZWZhdWx0TWVzc2FnZTogJ0Jvb3N0JyB9LFxuICByZWJsb2dfcHJpdmF0ZTogeyBpZDogJ3N0YXR1cy5yZWJsb2dfcHJpdmF0ZScsIGRlZmF1bHRNZXNzYWdlOiAnQm9vc3Qgd2l0aCBvcmlnaW5hbCB2aXNpYmlsaXR5JyB9LFxuICBjYW5jZWxfcmVibG9nX3ByaXZhdGU6IHsgaWQ6ICdzdGF0dXMuY2FuY2VsX3JlYmxvZ19wcml2YXRlJywgZGVmYXVsdE1lc3NhZ2U6ICdVbmJvb3N0JyB9LFxuICBjYW5ub3RfcmVibG9nOiB7IGlkOiAnc3RhdHVzLmNhbm5vdF9yZWJsb2cnLCBkZWZhdWx0TWVzc2FnZTogJ1RoaXMgcG9zdCBjYW5ub3QgYmUgYm9vc3RlZCcgfSxcbiAgZmF2b3VyaXRlOiB7IGlkOiAnc3RhdHVzLmZhdm91cml0ZScsIGRlZmF1bHRNZXNzYWdlOiAnRmF2b3JpdGUnIH0sXG4gIGJvb2ttYXJrOiB7IGlkOiAnc3RhdHVzLmJvb2ttYXJrJywgZGVmYXVsdE1lc3NhZ2U6ICdCb29rbWFyaycgfSxcbiAgbW9yZTogeyBpZDogJ3N0YXR1cy5tb3JlJywgZGVmYXVsdE1lc3NhZ2U6ICdNb3JlJyB9LFxuICBtdXRlOiB7IGlkOiAnc3RhdHVzLm11dGUnLCBkZWZhdWx0TWVzc2FnZTogJ011dGUgQHtuYW1lfScgfSxcbiAgbXV0ZUNvbnZlcnNhdGlvbjogeyBpZDogJ3N0YXR1cy5tdXRlX2NvbnZlcnNhdGlvbicsIGRlZmF1bHRNZXNzYWdlOiAnTXV0ZSBjb252ZXJzYXRpb24nIH0sXG4gIHVubXV0ZUNvbnZlcnNhdGlvbjogeyBpZDogJ3N0YXR1cy51bm11dGVfY29udmVyc2F0aW9uJywgZGVmYXVsdE1lc3NhZ2U6ICdVbm11dGUgY29udmVyc2F0aW9uJyB9LFxuICBibG9jazogeyBpZDogJ3N0YXR1cy5ibG9jaycsIGRlZmF1bHRNZXNzYWdlOiAnQmxvY2sgQHtuYW1lfScgfSxcbiAgcmVwb3J0OiB7IGlkOiAnc3RhdHVzLnJlcG9ydCcsIGRlZmF1bHRNZXNzYWdlOiAnUmVwb3J0IEB7bmFtZX0nIH0sXG4gIHNoYXJlOiB7IGlkOiAnc3RhdHVzLnNoYXJlJywgZGVmYXVsdE1lc3NhZ2U6ICdTaGFyZScgfSxcbiAgcGluOiB7IGlkOiAnc3RhdHVzLnBpbicsIGRlZmF1bHRNZXNzYWdlOiAnUGluIG9uIHByb2ZpbGUnIH0sXG4gIHVucGluOiB7IGlkOiAnc3RhdHVzLnVucGluJywgZGVmYXVsdE1lc3NhZ2U6ICdVbnBpbiBmcm9tIHByb2ZpbGUnIH0sXG4gIGVtYmVkOiB7IGlkOiAnc3RhdHVzLmVtYmVkJywgZGVmYXVsdE1lc3NhZ2U6ICdFbWJlZCcgfSxcbiAgYWRtaW5fYWNjb3VudDogeyBpZDogJ3N0YXR1cy5hZG1pbl9hY2NvdW50JywgZGVmYXVsdE1lc3NhZ2U6ICdPcGVuIG1vZGVyYXRpb24gaW50ZXJmYWNlIGZvciBAe25hbWV9JyB9LFxuICBhZG1pbl9zdGF0dXM6IHsgaWQ6ICdzdGF0dXMuYWRtaW5fc3RhdHVzJywgZGVmYXVsdE1lc3NhZ2U6ICdPcGVuIHRoaXMgcG9zdCBpbiB0aGUgbW9kZXJhdGlvbiBpbnRlcmZhY2UnIH0sXG4gIGFkbWluX2RvbWFpbjogeyBpZDogJ3N0YXR1cy5hZG1pbl9kb21haW4nLCBkZWZhdWx0TWVzc2FnZTogJ09wZW4gbW9kZXJhdGlvbiBpbnRlcmZhY2UgZm9yIHtkb21haW59JyB9LFxuICBjb3B5OiB7IGlkOiAnc3RhdHVzLmNvcHknLCBkZWZhdWx0TWVzc2FnZTogJ0NvcHkgbGluayB0byBwb3N0JyB9LFxuICBibG9ja0RvbWFpbjogeyBpZDogJ2FjY291bnQuYmxvY2tfZG9tYWluJywgZGVmYXVsdE1lc3NhZ2U6ICdCbG9jayBkb21haW4ge2RvbWFpbn0nIH0sXG4gIHVuYmxvY2tEb21haW46IHsgaWQ6ICdhY2NvdW50LnVuYmxvY2tfZG9tYWluJywgZGVmYXVsdE1lc3NhZ2U6ICdVbmJsb2NrIGRvbWFpbiB7ZG9tYWlufScgfSxcbiAgdW5tdXRlOiB7IGlkOiAnYWNjb3VudC51bm11dGUnLCBkZWZhdWx0TWVzc2FnZTogJ1VubXV0ZSBAe25hbWV9JyB9LFxuICB1bmJsb2NrOiB7IGlkOiAnYWNjb3VudC51bmJsb2NrJywgZGVmYXVsdE1lc3NhZ2U6ICdVbmJsb2NrIEB7bmFtZX0nIH0sXG4gIG9wZW5PcmlnaW5hbFBhZ2U6IHsgaWQ6ICdhY2NvdW50Lm9wZW5fb3JpZ2luYWxfcGFnZScsIGRlZmF1bHRNZXNzYWdlOiAnT3BlbiBvcmlnaW5hbCBwYWdlJyB9LFxufSk7XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSwgeyBzdGF0dXMgfSkgPT4gKHtcbiAgcmVsYXRpb25zaGlwOiBzdGF0ZS5nZXRJbihbJ3JlbGF0aW9uc2hpcHMnLCBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pXSksXG59KTtcblxuY2xhc3MgQWN0aW9uQmFyIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG5cbiAgc3RhdGljIGNvbnRleHRUeXBlcyA9IHtcbiAgICByb3V0ZXI6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgaWRlbnRpdHk6IFByb3BUeXBlcy5vYmplY3QsXG4gIH07XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBzdGF0dXM6IEltbXV0YWJsZVByb3BUeXBlcy5tYXAuaXNSZXF1aXJlZCxcbiAgICByZWxhdGlvbnNoaXA6IEltbXV0YWJsZVByb3BUeXBlcy5tYXAsXG4gICAgb25SZXBseTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblJlYmxvZzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkZhdm91cml0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkJvb2ttYXJrOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uRGVsZXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uRWRpdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkRpcmVjdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbk1lbnRpb246IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25NdXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvblVubXV0ZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25CbG9jazogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25VbmJsb2NrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkJsb2NrRG9tYWluOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvblVuYmxvY2tEb21haW46IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uTXV0ZUNvbnZlcnNhdGlvbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25SZXBvcnQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uUGluOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkVtYmVkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBpbnRsOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIH07XG5cbiAgaGFuZGxlUmVwbHlDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uUmVwbHkodGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9O1xuXG4gIGhhbmRsZVJlYmxvZ0NsaWNrID0gKGUpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uUmVibG9nKHRoaXMucHJvcHMuc3RhdHVzLCBlKTtcbiAgfTtcblxuICBoYW5kbGVGYXZvdXJpdGVDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uRmF2b3VyaXRlKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfTtcblxuICBoYW5kbGVCb29rbWFya0NsaWNrID0gKGUpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQm9va21hcmsodGhpcy5wcm9wcy5zdGF0dXMsIGUpO1xuICB9O1xuXG4gIGhhbmRsZURlbGV0ZUNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25EZWxldGUodGhpcy5wcm9wcy5zdGF0dXMsIHRoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeSk7XG4gIH07XG5cbiAgaGFuZGxlUmVkcmFmdENsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25EZWxldGUodGhpcy5wcm9wcy5zdGF0dXMsIHRoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeSwgdHJ1ZSk7XG4gIH07XG5cbiAgaGFuZGxlRWRpdENsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25FZGl0KHRoaXMucHJvcHMuc3RhdHVzLCB0aGlzLmNvbnRleHQucm91dGVyLmhpc3RvcnkpO1xuICB9O1xuXG4gIGhhbmRsZURpcmVjdENsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25EaXJlY3QodGhpcy5wcm9wcy5zdGF0dXMuZ2V0KCdhY2NvdW50JyksIHRoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeSk7XG4gIH07XG5cbiAgaGFuZGxlTWVudGlvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25NZW50aW9uKHRoaXMucHJvcHMuc3RhdHVzLmdldCgnYWNjb3VudCcpLCB0aGlzLmNvbnRleHQucm91dGVyLmhpc3RvcnkpO1xuICB9O1xuXG4gIGhhbmRsZU11dGVDbGljayA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cywgcmVsYXRpb25zaGlwLCBvbk11dGUsIG9uVW5tdXRlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGFjY291bnQgPSBzdGF0dXMuZ2V0KCdhY2NvdW50Jyk7XG5cbiAgICBpZiAocmVsYXRpb25zaGlwICYmIHJlbGF0aW9uc2hpcC5nZXQoJ211dGluZycpKSB7XG4gICAgICBvblVubXV0ZShhY2NvdW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25NdXRlKGFjY291bnQpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVCbG9ja0NsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzLCByZWxhdGlvbnNoaXAsIG9uQmxvY2ssIG9uVW5ibG9jayB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBhY2NvdW50ID0gc3RhdHVzLmdldCgnYWNjb3VudCcpO1xuXG4gICAgaWYgKHJlbGF0aW9uc2hpcCAmJiByZWxhdGlvbnNoaXAuZ2V0KCdibG9ja2luZycpKSB7XG4gICAgICBvblVuYmxvY2soYWNjb3VudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uQmxvY2soc3RhdHVzKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlQmxvY2tEb21haW4gPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0dXMsIG9uQmxvY2tEb21haW4gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgYWNjb3VudCA9IHN0YXR1cy5nZXQoJ2FjY291bnQnKTtcblxuICAgIG9uQmxvY2tEb21haW4oYWNjb3VudC5nZXQoJ2FjY3QnKS5zcGxpdCgnQCcpWzFdKTtcbiAgfTtcblxuICBoYW5kbGVVbmJsb2NrRG9tYWluID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBvblVuYmxvY2tEb21haW4gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgYWNjb3VudCA9IHN0YXR1cy5nZXQoJ2FjY291bnQnKTtcblxuICAgIG9uVW5ibG9ja0RvbWFpbihhY2NvdW50LmdldCgnYWNjdCcpLnNwbGl0KCdAJylbMV0pO1xuICB9O1xuXG4gIGhhbmRsZUNvbnZlcnNhdGlvbk11dGVDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uTXV0ZUNvbnZlcnNhdGlvbih0aGlzLnByb3BzLnN0YXR1cyk7XG4gIH07XG5cbiAgaGFuZGxlUmVwb3J0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25SZXBvcnQodGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9O1xuXG4gIGhhbmRsZVBpbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25QaW4odGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9O1xuXG4gIGhhbmRsZVNoYXJlID0gKCkgPT4ge1xuICAgIG5hdmlnYXRvci5zaGFyZSh7XG4gICAgICB1cmw6IHRoaXMucHJvcHMuc3RhdHVzLmdldCgndXJsJyksXG4gICAgfSk7XG4gIH07XG5cbiAgaGFuZGxlRW1iZWQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkVtYmVkKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfTtcblxuICBoYW5kbGVDb3B5ID0gKCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IHRoaXMucHJvcHMuc3RhdHVzLmdldCgndXJsJyk7XG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodXJsKTtcbiAgfTtcblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgc3RhdHVzLCByZWxhdGlvbnNoaXAsIGludGwgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBzaWduZWRJbiwgcGVybWlzc2lvbnMgfSA9IHRoaXMuY29udGV4dC5pZGVudGl0eTtcblxuICAgIGNvbnN0IHB1YmxpY1N0YXR1cyAgICAgICA9IFsncHVibGljJywgJ3VubGlzdGVkJ10uaW5jbHVkZXMoc3RhdHVzLmdldCgndmlzaWJpbGl0eScpKTtcbiAgICBjb25zdCBwaW5uYWJsZVN0YXR1cyAgICAgPSBbJ3B1YmxpYycsICd1bmxpc3RlZCcsICdwcml2YXRlJ10uaW5jbHVkZXMoc3RhdHVzLmdldCgndmlzaWJpbGl0eScpKTtcbiAgICBjb25zdCBtdXRpbmdDb252ZXJzYXRpb24gPSBzdGF0dXMuZ2V0KCdtdXRlZCcpO1xuICAgIGNvbnN0IGFjY291bnQgICAgICAgICAgICA9IHN0YXR1cy5nZXQoJ2FjY291bnQnKTtcbiAgICBjb25zdCB3cml0dGVuQnlNZSAgICAgICAgPSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pID09PSBtZTtcbiAgICBjb25zdCBpc1JlbW90ZSAgICAgICAgICAgPSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ3VzZXJuYW1lJ10pICE9PSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2FjY3QnXSk7XG5cbiAgICBsZXQgbWVudSA9IFtdO1xuXG4gICAgaWYgKHB1YmxpY1N0YXR1cyAmJiBpc1JlbW90ZSkge1xuICAgICAgbWVudS5wdXNoKHsgdGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLm9wZW5PcmlnaW5hbFBhZ2UpLCBocmVmOiBzdGF0dXMuZ2V0KCd1cmwnKSB9KTtcbiAgICB9XG5cbiAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuY29weSksIGFjdGlvbjogdGhpcy5oYW5kbGVDb3B5IH0pO1xuXG4gICAgaWYgKHB1YmxpY1N0YXR1cyAmJiAnc2hhcmUnIGluIG5hdmlnYXRvcikge1xuICAgICAgbWVudS5wdXNoKHsgdGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnNoYXJlKSwgYWN0aW9uOiB0aGlzLmhhbmRsZVNoYXJlIH0pO1xuICAgIH1cblxuICAgIGlmIChwdWJsaWNTdGF0dXMgJiYgKHNpZ25lZEluIHx8ICFpc1JlbW90ZSkpIHtcbiAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5lbWJlZCksIGFjdGlvbjogdGhpcy5oYW5kbGVFbWJlZCB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2lnbmVkSW4pIHtcbiAgICAgIG1lbnUucHVzaChudWxsKTtcblxuICAgICAgaWYgKHdyaXR0ZW5CeU1lKSB7XG4gICAgICAgIGlmIChwaW5uYWJsZVN0YXR1cykge1xuICAgICAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShzdGF0dXMuZ2V0KCdwaW5uZWQnKSA/IG1lc3NhZ2VzLnVucGluIDogbWVzc2FnZXMucGluKSwgYWN0aW9uOiB0aGlzLmhhbmRsZVBpbkNsaWNrIH0pO1xuICAgICAgICAgIG1lbnUucHVzaChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtdXRpbmdDb252ZXJzYXRpb24gPyBtZXNzYWdlcy51bm11dGVDb252ZXJzYXRpb24gOiBtZXNzYWdlcy5tdXRlQ29udmVyc2F0aW9uKSwgYWN0aW9uOiB0aGlzLmhhbmRsZUNvbnZlcnNhdGlvbk11dGVDbGljayB9KTtcbiAgICAgICAgbWVudS5wdXNoKG51bGwpO1xuICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuZWRpdCksIGFjdGlvbjogdGhpcy5oYW5kbGVFZGl0Q2xpY2sgfSk7XG4gICAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5kZWxldGUpLCBhY3Rpb246IHRoaXMuaGFuZGxlRGVsZXRlQ2xpY2ssIGRhbmdlcm91czogdHJ1ZSB9KTtcbiAgICAgICAgbWVudS5wdXNoKHsgdGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnJlZHJhZnQpLCBhY3Rpb246IHRoaXMuaGFuZGxlUmVkcmFmdENsaWNrLCBkYW5nZXJvdXM6IHRydWUgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMubWVudGlvbiwgeyBuYW1lOiBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ3VzZXJuYW1lJ10pIH0pLCBhY3Rpb246IHRoaXMuaGFuZGxlTWVudGlvbkNsaWNrIH0pO1xuICAgICAgICBtZW51LnB1c2gobnVsbCk7XG5cbiAgICAgICAgaWYgKHJlbGF0aW9uc2hpcCAmJiByZWxhdGlvbnNoaXAuZ2V0KCdtdXRpbmcnKSkge1xuICAgICAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy51bm11dGUsIHsgbmFtZTogYWNjb3VudC5nZXQoJ3VzZXJuYW1lJykgfSksIGFjdGlvbjogdGhpcy5oYW5kbGVNdXRlQ2xpY2sgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVudS5wdXNoKHsgdGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLm11dGUsIHsgbmFtZTogYWNjb3VudC5nZXQoJ3VzZXJuYW1lJykgfSksIGFjdGlvbjogdGhpcy5oYW5kbGVNdXRlQ2xpY2ssIGRhbmdlcm91czogdHJ1ZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWxhdGlvbnNoaXAgJiYgcmVsYXRpb25zaGlwLmdldCgnYmxvY2tpbmcnKSkge1xuICAgICAgICAgIG1lbnUucHVzaCh7IHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy51bmJsb2NrLCB7IG5hbWU6IGFjY291bnQuZ2V0KCd1c2VybmFtZScpIH0pLCBhY3Rpb246IHRoaXMuaGFuZGxlQmxvY2tDbGljayB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuYmxvY2ssIHsgbmFtZTogYWNjb3VudC5nZXQoJ3VzZXJuYW1lJykgfSksIGFjdGlvbjogdGhpcy5oYW5kbGVCbG9ja0NsaWNrLCBkYW5nZXJvdXM6IHRydWUgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMucmVwb3J0LCB7IG5hbWU6IHN0YXR1cy5nZXRJbihbJ2FjY291bnQnLCAndXNlcm5hbWUnXSkgfSksIGFjdGlvbjogdGhpcy5oYW5kbGVSZXBvcnQsIGRhbmdlcm91czogdHJ1ZSB9KTtcblxuICAgICAgICBpZiAoYWNjb3VudC5nZXQoJ2FjY3QnKSAhPT0gYWNjb3VudC5nZXQoJ3VzZXJuYW1lJykpIHtcbiAgICAgICAgICBjb25zdCBkb21haW4gPSBhY2NvdW50LmdldCgnYWNjdCcpLnNwbGl0KCdAJylbMV07XG5cbiAgICAgICAgICBtZW51LnB1c2gobnVsbCk7XG5cbiAgICAgICAgICBpZiAocmVsYXRpb25zaGlwICYmIHJlbGF0aW9uc2hpcC5nZXQoJ2RvbWFpbl9ibG9ja2luZycpKSB7XG4gICAgICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMudW5ibG9ja0RvbWFpbiwgeyBkb21haW4gfSksIGFjdGlvbjogdGhpcy5oYW5kbGVVbmJsb2NrRG9tYWluIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuYmxvY2tEb21haW4sIHsgZG9tYWluIH0pLCBhY3Rpb246IHRoaXMuaGFuZGxlQmxvY2tEb21haW4sIGRhbmdlcm91czogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHBlcm1pc3Npb25zICYgUEVSTUlTU0lPTl9NQU5BR0VfVVNFUlMpID09PSBQRVJNSVNTSU9OX01BTkFHRV9VU0VSUyB8fCAoaXNSZW1vdGUgJiYgKHBlcm1pc3Npb25zICYgUEVSTUlTU0lPTl9NQU5BR0VfRkVERVJBVElPTikgPT09IFBFUk1JU1NJT05fTUFOQUdFX0ZFREVSQVRJT04pKSB7XG4gICAgICAgICAgbWVudS5wdXNoKG51bGwpO1xuICAgICAgICAgIGlmICgocGVybWlzc2lvbnMgJiBQRVJNSVNTSU9OX01BTkFHRV9VU0VSUykgPT09IFBFUk1JU1NJT05fTUFOQUdFX1VTRVJTKSB7XG4gICAgICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuYWRtaW5fYWNjb3VudCwgeyBuYW1lOiBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ3VzZXJuYW1lJ10pIH0pLCBocmVmOiBgL2FkbWluL2FjY291bnRzLyR7c3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdpZCddKX1gIH0pO1xuICAgICAgICAgICAgbWVudS5wdXNoKHsgdGV4dDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmFkbWluX3N0YXR1cyksIGhyZWY6IGAvYWRtaW4vYWNjb3VudHMvJHtzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pfS9zdGF0dXNlcy8ke3N0YXR1cy5nZXQoJ2lkJyl9YCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzUmVtb3RlICYmIChwZXJtaXNzaW9ucyAmIFBFUk1JU1NJT05fTUFOQUdFX0ZFREVSQVRJT04pID09PSBQRVJNSVNTSU9OX01BTkFHRV9GRURFUkFUSU9OKSB7XG4gICAgICAgICAgICBjb25zdCBkb21haW4gPSBhY2NvdW50LmdldCgnYWNjdCcpLnNwbGl0KCdAJylbMV07XG4gICAgICAgICAgICBtZW51LnB1c2goeyB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuYWRtaW5fZG9tYWluLCB7IGRvbWFpbjogZG9tYWluIH0pLCBocmVmOiBgL2FkbWluL2luc3RhbmNlcy8ke2RvbWFpbn1gIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCByZXBseUljb247XG4gICAgaWYgKHN0YXR1cy5nZXQoJ2luX3JlcGx5X3RvX2lkJywgbnVsbCkgPT09IG51bGwpIHtcbiAgICAgIHJlcGx5SWNvbiA9ICdyZXBseSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGx5SWNvbiA9ICdyZXBseS1hbGwnO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYmxvZ1ByaXZhdGUgPSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pID09PSBtZSAmJiBzdGF0dXMuZ2V0KCd2aXNpYmlsaXR5JykgPT09ICdwcml2YXRlJztcblxuICAgIGxldCByZWJsb2dUaXRsZTtcbiAgICBpZiAoc3RhdHVzLmdldCgncmVibG9nZ2VkJykpIHtcbiAgICAgIHJlYmxvZ1RpdGxlID0gaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmNhbmNlbF9yZWJsb2dfcHJpdmF0ZSk7XG4gICAgfSBlbHNlIGlmIChwdWJsaWNTdGF0dXMpIHtcbiAgICAgIHJlYmxvZ1RpdGxlID0gaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnJlYmxvZyk7XG4gICAgfSBlbHNlIGlmIChyZWJsb2dQcml2YXRlKSB7XG4gICAgICByZWJsb2dUaXRsZSA9IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5yZWJsb2dfcHJpdmF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYmxvZ1RpdGxlID0gaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmNhbm5vdF9yZWJsb2cpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19hY3Rpb24tYmFyJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fYnV0dG9uJz48SWNvbkJ1dHRvbiB0aXRsZT17aW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnJlcGx5KX0gaWNvbj17c3RhdHVzLmdldCgnaW5fcmVwbHlfdG9fYWNjb3VudF9pZCcpID09PSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pID8gJ3JlcGx5JyA6IHJlcGx5SWNvbn0gb25DbGljaz17dGhpcy5oYW5kbGVSZXBseUNsaWNrfSAvPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19idXR0b24nPjxJY29uQnV0dG9uIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh7IHJlYmxvZ1ByaXZhdGUgfSl9IGRpc2FibGVkPXshcHVibGljU3RhdHVzICYmICFyZWJsb2dQcml2YXRlfSBhY3RpdmU9e3N0YXR1cy5nZXQoJ3JlYmxvZ2dlZCcpfSB0aXRsZT17cmVibG9nVGl0bGV9IGljb249J3JldHdlZXQnIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmVibG9nQ2xpY2t9IC8+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkZXRhaWxlZC1zdGF0dXNfX2J1dHRvbic+PEljb25CdXR0b24gY2xhc3NOYW1lPSdzdGFyLWljb24nIGFuaW1hdGUgYWN0aXZlPXtzdGF0dXMuZ2V0KCdmYXZvdXJpdGVkJyl9IHRpdGxlPXtpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuZmF2b3VyaXRlKX0gaWNvbj0nc3Rhcicgb25DbGljaz17dGhpcy5oYW5kbGVGYXZvdXJpdGVDbGlja30gLz48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fYnV0dG9uJz48SWNvbkJ1dHRvbiBjbGFzc05hbWU9J2Jvb2ttYXJrLWljb24nIGRpc2FibGVkPXshc2lnbmVkSW59IGFjdGl2ZT17c3RhdHVzLmdldCgnYm9va21hcmtlZCcpfSB0aXRsZT17aW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmJvb2ttYXJrKX0gaWNvbj0nYm9va21hcmsnIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQm9va21hcmtDbGlja30gLz48L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19hY3Rpb24tYmFyLWRyb3Bkb3duJz5cbiAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGFpbmVyIHNpemU9ezE4fSBpY29uPSdlbGxpcHNpcy1oJyBzdGF0dXM9e3N0YXR1c30gaXRlbXM9e21lbnV9IGRpcmVjdGlvbj0nbGVmdCcgdGl0bGU9e2ludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5tb3JlKX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKGluamVjdEludGwoQWN0aW9uQmFyKSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFnQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBelBBO0FBR0E7QUFDQTtBQUNBO0FBTEE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThOQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/features/status/components/action_bar.jsx\n");

/***/ }),

/***/ "./app/javascript/mastodon/features/status/components/detailed_status.jsx":
/*!********************************************************************************!*\
  !*** ./app/javascript/mastodon/features/status/components/detailed_status.jsx ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/es/index.js\");\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-immutable-proptypes */ \"./node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js\");\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_immutable_pure_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-immutable-pure-component */ \"./node_modules/react-immutable-pure-component/lib/react-immutable-pure-component.es.js\");\n/* harmony import */ var mastodon_components_animated_number__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mastodon/components/animated_number */ \"./app/javascript/mastodon/components/animated_number.tsx\");\n/* harmony import */ var mastodon_components_edited_timestamp__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! mastodon/components/edited_timestamp */ \"./app/javascript/mastodon/components/edited_timestamp/index.jsx\");\n/* harmony import */ var mastodon_components_hashtag_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! mastodon/components/hashtag_bar */ \"./app/javascript/mastodon/components/hashtag_bar.tsx\");\n/* harmony import */ var mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! mastodon/components/icon */ \"./app/javascript/mastodon/components/icon.tsx\");\n/* harmony import */ var mastodon_components_picture_in_picture_placeholder__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! mastodon/components/picture_in_picture_placeholder */ \"./app/javascript/mastodon/components/picture_in_picture_placeholder.jsx\");\n/* harmony import */ var _components_avatar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/avatar */ \"./app/javascript/mastodon/components/avatar.tsx\");\n/* harmony import */ var _components_display_name__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/display_name */ \"./app/javascript/mastodon/components/display_name.tsx\");\n/* harmony import */ var _components_media_gallery__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../components/media_gallery */ \"./app/javascript/mastodon/components/media_gallery.jsx\");\n/* harmony import */ var _components_status_content__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../components/status_content */ \"./app/javascript/mastodon/components/status_content.jsx\");\n/* harmony import */ var _audio__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../audio */ \"./app/javascript/mastodon/features/audio/index.jsx\");\n/* harmony import */ var _ui_util_schedule_idle_task__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ui/util/schedule_idle_task */ \"./app/javascript/mastodon/features/ui/util/schedule_idle_task.js\");\n/* harmony import */ var _video__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../video */ \"./app/javascript/mastodon/features/video/index.jsx\");\n/* harmony import */ var _card__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./card */ \"./app/javascript/mastodon/features/status/components/card.jsx\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__);\nvar _jsxFileName = \"/home/sleepybear/workspace/mastodon-sleepybear/app/javascript/mastodon/features/status/components/detailed_status.jsx\";\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  public_short: {\n    id: \"privacy.public.short\",\n    defaultMessage: \"Public\"\n  },\n  unlisted_short: {\n    id: \"privacy.unlisted.short\",\n    defaultMessage: \"Unlisted\"\n  },\n  private_short: {\n    id: \"privacy.private.short\",\n    defaultMessage: \"Followers only\"\n  },\n  direct_short: {\n    id: \"privacy.direct.short\",\n    defaultMessage: \"Mentioned people only\"\n  }\n});\nclass DetailedStatus extends react_immutable_pure_component__WEBPACK_IMPORTED_MODULE_5__[\"default\"] {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      height: null\n    };\n    this.handleAccountClick = e => {\n      if (e.button === 0 && !(e.ctrlKey || e.metaKey) && this.context.router) {\n        e.preventDefault();\n        this.context.router.history.push(\"/@\" + this.props.status.getIn(['account', 'acct']));\n      }\n      e.stopPropagation();\n    };\n    this.handleOpenVideo = options => {\n      this.props.onOpenVideo(this.props.status.getIn(['media_attachments', 0]), options);\n    };\n    this.handleExpandedToggle = () => {\n      this.props.onToggleHidden(this.props.status);\n    };\n    this.setRef = c => {\n      this.node = c;\n      this._measureHeight();\n    };\n    this.handleModalLink = e => {\n      e.preventDefault();\n      var href;\n      if (e.target.nodeName !== 'A') {\n        href = e.target.parentNode.href;\n      } else {\n        href = e.target.href;\n      }\n      window.open(href, 'mastodon-intent', 'width=445,height=600,resizable=no,menubar=no,status=no,scrollbars=yes');\n    };\n    this.handleTranslate = () => {\n      var {\n        onTranslate,\n        status\n      } = this.props;\n      onTranslate(status);\n    };\n  }\n  _measureHeight(heightJustChanged) {\n    if (this.props.measureHeight && this.node) {\n      Object(_ui_util_schedule_idle_task__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(() => this.node && this.setState({\n        height: Math.ceil(this.node.scrollHeight) + 1\n      }));\n      if (this.props.onHeightChange && heightJustChanged) {\n        this.props.onHeightChange();\n      }\n    }\n  }\n  componentDidUpdate(prevProps, prevState) {\n    this._measureHeight(prevState.height !== this.state.height);\n  }\n  _properStatus() {\n    var {\n      status\n    } = this.props;\n    if (status.get('reblog', null) !== null && typeof status.get('reblog') === 'object') {\n      return status.get('reblog');\n    } else {\n      return status;\n    }\n  }\n  getAttachmentAspectRatio() {\n    var attachments = this._properStatus().get('media_attachments');\n    if (attachments.getIn([0, 'type']) === 'video') {\n      return attachments.getIn([0, 'meta', 'original', 'width']) + \" / \" + attachments.getIn([0, 'meta', 'original', 'height']);\n    } else if (attachments.getIn([0, 'type']) === 'audio') {\n      return '16 / 9';\n    } else {\n      return attachments.size === 1 && attachments.getIn([0, 'meta', 'small', 'aspect']) ? attachments.getIn([0, 'meta', 'small', 'aspect']) : '3 / 2';\n    }\n  }\n  render() {\n    var status = this._properStatus();\n    var outerStyle = {\n      boxSizing: 'border-box'\n    };\n    var {\n      intl,\n      compact,\n      pictureInPicture\n    } = this.props;\n    if (!status) {\n      return null;\n    }\n    var media = '';\n    var applicationLink = '';\n    var reblogLink = '';\n    var reblogIcon = 'retweet';\n    var favouriteLink = '';\n    var edited = '';\n    if (this.props.measureHeight) {\n      outerStyle.height = this.state.height + \"px\";\n    }\n    var language = status.getIn(['translation', 'language']) || status.get('language');\n    if (pictureInPicture.get('inUse')) {\n      media = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_picture_in_picture_placeholder__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n        aspectRatio: this.getAttachmentAspectRatio()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }, this);\n    } else if (status.get('media_attachments').size > 0) {\n      if (status.getIn(['media_attachments', 0, 'type']) === 'audio') {\n        var attachment = status.getIn(['media_attachments', 0]);\n        var description = attachment.getIn(['translation', 'description']) || attachment.get('description');\n        media = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_audio__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n          src: attachment.get('url'),\n          alt: description,\n          lang: language,\n          duration: attachment.getIn(['meta', 'original', 'duration'], 0),\n          poster: attachment.get('preview_url') || status.getIn(['account', 'avatar_static']),\n          backgroundColor: attachment.getIn(['meta', 'colors', 'background']),\n          foregroundColor: attachment.getIn(['meta', 'colors', 'foreground']),\n          accentColor: attachment.getIn(['meta', 'colors', 'accent']),\n          sensitive: status.get('sensitive'),\n          visible: this.props.showMedia,\n          blurhash: attachment.get('blurhash'),\n          height: 150,\n          onToggleVisibility: this.props.onToggleMediaVisibility\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this);\n      } else if (status.getIn(['media_attachments', 0, 'type']) === 'video') {\n        var _attachment = status.getIn(['media_attachments', 0]);\n        var _description = _attachment.getIn(['translation', 'description']) || _attachment.get('description');\n        media = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_video__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n          preview: _attachment.get('preview_url'),\n          frameRate: _attachment.getIn(['meta', 'original', 'frame_rate']),\n          aspectRatio: _attachment.getIn(['meta', 'original', 'width']) + \" / \" + _attachment.getIn(['meta', 'original', 'height']),\n          blurhash: _attachment.get('blurhash'),\n          src: _attachment.get('url'),\n          alt: _description,\n          lang: language,\n          width: 300,\n          height: 150,\n          onOpenVideo: this.handleOpenVideo,\n          sensitive: status.get('sensitive'),\n          visible: this.props.showMedia,\n          onToggleVisibility: this.props.onToggleMediaVisibility\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this);\n      } else {\n        media = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_components_media_gallery__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n          standalone: true,\n          sensitive: status.get('sensitive'),\n          media: status.get('media_attachments'),\n          lang: language,\n          height: 300,\n          onOpenMedia: this.props.onOpenMedia,\n          visible: this.props.showMedia,\n          onToggleVisibility: this.props.onToggleMediaVisibility\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this);\n      }\n    } else if (status.get('spoiler_text').length === 0) {\n      media = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_card__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n        sensitive: status.get('sensitive'),\n        onOpenMedia: this.props.onOpenMedia,\n        card: status.get('card', null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 15\n      }, this);\n    }\n    if (status.get('application')) {\n      applicationLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n        children: [\" \\xB7 \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"a\", {\n          className: \"detailed-status__application\",\n          href: status.getIn(['application', 'website']),\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: status.getIn(['application', 'name'])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true);\n    }\n    var visibilityIconInfo = {\n      'public': {\n        icon: 'globe',\n        text: intl.formatMessage(messages.public_short)\n      },\n      'unlisted': {\n        icon: 'unlock',\n        text: intl.formatMessage(messages.unlisted_short)\n      },\n      'private': {\n        icon: 'lock',\n        text: intl.formatMessage(messages.private_short)\n      },\n      'direct': {\n        icon: 'at',\n        text: intl.formatMessage(messages.direct_short)\n      }\n    };\n    var visibilityIcon = visibilityIconInfo[status.get('visibility')];\n    var visibilityLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n      children: [\" \\xB7 \", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n        id: visibilityIcon.icon,\n        title: visibilityIcon.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true);\n    if (['private', 'direct'].includes(status.get('visibility'))) {\n      reblogLink = '';\n    } else if (this.context.router) {\n      reblogLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n        children: [' · ', /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_3__[\"Link\"], {\n          to: \"/@\" + status.getIn(['account', 'acct']) + \"/\" + status.get('id') + \"/reblogs\",\n          className: \"detailed-status__link\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n            id: reblogIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"span\", {\n            className: \"detailed-status__reblogs\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_animated_number__WEBPACK_IMPORTED_MODULE_6__[\"AnimatedNumber\"], {\n              value: status.get('reblogs_count')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    } else {\n      reblogLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n        children: [' · ', /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"a\", {\n          href: \"/interact/\" + status.get('id') + \"?type=reblog\",\n          className: \"detailed-status__link\",\n          onClick: this.handleModalLink,\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n            id: reblogIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"span\", {\n            className: \"detailed-status__reblogs\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_animated_number__WEBPACK_IMPORTED_MODULE_6__[\"AnimatedNumber\"], {\n              value: status.get('reblogs_count')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    if (this.context.router) {\n      favouriteLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_3__[\"Link\"], {\n        to: \"/@\" + status.getIn(['account', 'acct']) + \"/\" + status.get('id') + \"/favourites\",\n        className: \"detailed-status__link\",\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n          id: \"star\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"span\", {\n          className: \"detailed-status__favorites\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_animated_number__WEBPACK_IMPORTED_MODULE_6__[\"AnimatedNumber\"], {\n            value: status.get('favourites_count')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this);\n    } else {\n      favouriteLink = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"a\", {\n        href: \"/interact/\" + status.get('id') + \"?type=favourite\",\n        className: \"detailed-status__link\",\n        onClick: this.handleModalLink,\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n          id: \"star\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"span\", {\n          className: \"detailed-status__favorites\",\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_animated_number__WEBPACK_IMPORTED_MODULE_6__[\"AnimatedNumber\"], {\n            value: status.get('favourites_count')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this);\n    }\n    if (status.get('edited_at')) {\n      edited = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], {\n        children: [' · ', /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_edited_timestamp__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n          statusId: status.get('id'),\n          timestamp: status.get('edited_at')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n    var {\n      statusContentProps,\n      hashtagBar\n    } = Object(mastodon_components_hashtag_bar__WEBPACK_IMPORTED_MODULE_8__[\"getHashtagBarForStatus\"])(status);\n    var expanded = !status.get('hidden') || status.get('spoiler_text').length === 0;\n    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n      style: outerStyle,\n      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n        ref: this.setRef,\n        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('detailed-status', {\n          compact\n        }),\n        children: [status.get('visibility') === 'direct' && /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n          className: \"status__prepend\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n            className: \"status__prepend-icon-wrapper\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_9__[\"Icon\"], {\n              id: \"at\",\n              className: \"status__prepend-icon\",\n              fixedWidth: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 61\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n            id: \"status.direct_indicator\",\n            defaultMessage: \"Private mention\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"a\", {\n          href: \"/@\" + status.getIn(['account', 'acct']),\n          onClick: this.handleAccountClick,\n          className: \"detailed-status__display-name\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n            className: \"detailed-status__display-avatar\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_components_avatar__WEBPACK_IMPORTED_MODULE_11__[\"Avatar\"], {\n              account: status.get('account'),\n              size: 46\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 62\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_components_display_name__WEBPACK_IMPORTED_MODULE_12__[\"DisplayName\"], {\n            account: status.get('account'),\n            localDomain: this.props.domain\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(_components_status_content__WEBPACK_IMPORTED_MODULE_14__[\"default\"], _extends({\n          status: status,\n          expanded: !status.get('hidden'),\n          onExpandedToggle: this.handleExpandedToggle,\n          onTranslate: this.handleTranslate\n        }, statusContentProps), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), media, expanded && hashtagBar, /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"div\", {\n          className: \"detailed-status__meta\",\n          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(\"a\", {\n            className: \"detailed-status__datetime\",\n            href: \"/@\" + status.getIn(['account', 'acct']) + \"/\" + status.get('id'),\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_19__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedDate\"], {\n              value: new Date(status.get('created_at')),\n              hour12: false,\n              year: \"numeric\",\n              month: \"short\",\n              day: \"2-digit\",\n              hour: \"2-digit\",\n              minute: \"2-digit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), edited, visibilityLink, applicationLink, reblogLink, \" \\xB7 \", favouriteLink]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this);\n  }\n}\nDetailedStatus.contextTypes = {\n  router: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object\n};\nDetailedStatus.propTypes = {\n  status: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default.a.map,\n  onOpenMedia: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onOpenVideo: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onToggleHidden: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  onTranslate: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  measureHeight: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  onHeightChange: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func,\n  domain: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  compact: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  showMedia: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  pictureInPicture: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_4___default.a.contains({\n    inUse: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n    available: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool\n  }),\n  onToggleMediaVisibility: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(DetailedStatus));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9mZWF0dXJlcy9zdGF0dXMvY29tcG9uZW50cy9kZXRhaWxlZF9zdGF0dXMuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBwL2phdmFzY3JpcHQvbWFzdG9kb24vZmVhdHVyZXMvc3RhdHVzL2NvbXBvbmVudHMvZGV0YWlsZWRfc3RhdHVzLmpzeD85ZDEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCB7IGluamVjdEludGwsIGRlZmluZU1lc3NhZ2VzLCBGb3JtYXR0ZWREYXRlLCBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuXG5pbXBvcnQgSW1tdXRhYmxlUHJvcFR5cGVzIGZyb20gJ3JlYWN0LWltbXV0YWJsZS1wcm9wdHlwZXMnO1xuaW1wb3J0IEltbXV0YWJsZVB1cmVDb21wb25lbnQgZnJvbSAncmVhY3QtaW1tdXRhYmxlLXB1cmUtY29tcG9uZW50JztcblxuaW1wb3J0IHsgQW5pbWF0ZWROdW1iZXIgfSBmcm9tICdtYXN0b2Rvbi9jb21wb25lbnRzL2FuaW1hdGVkX251bWJlcic7XG5pbXBvcnQgRWRpdGVkVGltZXN0YW1wIGZyb20gJ21hc3RvZG9uL2NvbXBvbmVudHMvZWRpdGVkX3RpbWVzdGFtcCc7XG5pbXBvcnQgeyBnZXRIYXNodGFnQmFyRm9yU3RhdHVzIH0gZnJvbSAnbWFzdG9kb24vY29tcG9uZW50cy9oYXNodGFnX2Jhcic7XG5pbXBvcnQgeyBJY29uIH0gIGZyb20gJ21hc3RvZG9uL2NvbXBvbmVudHMvaWNvbic7XG5pbXBvcnQgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyIGZyb20gJ21hc3RvZG9uL2NvbXBvbmVudHMvcGljdHVyZV9pbl9waWN0dXJlX3BsYWNlaG9sZGVyJztcblxuaW1wb3J0IHsgQXZhdGFyIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0IHsgRGlzcGxheU5hbWUgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2Rpc3BsYXlfbmFtZSc7XG5pbXBvcnQgTWVkaWFHYWxsZXJ5IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvbWVkaWFfZ2FsbGVyeSc7XG5pbXBvcnQgU3RhdHVzQ29udGVudCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL3N0YXR1c19jb250ZW50JztcbmltcG9ydCBBdWRpbyBmcm9tICcuLi8uLi9hdWRpbyc7XG5pbXBvcnQgc2NoZWR1bGVJZGxlVGFzayBmcm9tICcuLi8uLi91aS91dGlsL3NjaGVkdWxlX2lkbGVfdGFzayc7XG5pbXBvcnQgVmlkZW8gZnJvbSAnLi4vLi4vdmlkZW8nO1xuXG5pbXBvcnQgQ2FyZCBmcm9tICcuL2NhcmQnO1xuXG5jb25zdCBtZXNzYWdlcyA9IGRlZmluZU1lc3NhZ2VzKHtcbiAgcHVibGljX3Nob3J0OiB7IGlkOiAncHJpdmFjeS5wdWJsaWMuc2hvcnQnLCBkZWZhdWx0TWVzc2FnZTogJ1B1YmxpYycgfSxcbiAgdW5saXN0ZWRfc2hvcnQ6IHsgaWQ6ICdwcml2YWN5LnVubGlzdGVkLnNob3J0JywgZGVmYXVsdE1lc3NhZ2U6ICdVbmxpc3RlZCcgfSxcbiAgcHJpdmF0ZV9zaG9ydDogeyBpZDogJ3ByaXZhY3kucHJpdmF0ZS5zaG9ydCcsIGRlZmF1bHRNZXNzYWdlOiAnRm9sbG93ZXJzIG9ubHknIH0sXG4gIGRpcmVjdF9zaG9ydDogeyBpZDogJ3ByaXZhY3kuZGlyZWN0LnNob3J0JywgZGVmYXVsdE1lc3NhZ2U6ICdNZW50aW9uZWQgcGVvcGxlIG9ubHknIH0sXG59KTtcblxuY2xhc3MgRGV0YWlsZWRTdGF0dXMgZXh0ZW5kcyBJbW11dGFibGVQdXJlQ29tcG9uZW50IHtcblxuICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xuICAgIHJvdXRlcjogUHJvcFR5cGVzLm9iamVjdCxcbiAgfTtcblxuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHN0YXR1czogSW1tdXRhYmxlUHJvcFR5cGVzLm1hcCxcbiAgICBvbk9wZW5NZWRpYTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbk9wZW5WaWRlbzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblRvZ2dsZUhpZGRlbjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblRyYW5zbGF0ZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBtZWFzdXJlSGVpZ2h0OiBQcm9wVHlwZXMuYm9vbCxcbiAgICBvbkhlaWdodENoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgZG9tYWluOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgY29tcGFjdDogUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd01lZGlhOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBwaWN0dXJlSW5QaWN0dXJlOiBJbW11dGFibGVQcm9wVHlwZXMuY29udGFpbnMoe1xuICAgICAgaW5Vc2U6IFByb3BUeXBlcy5ib29sLFxuICAgICAgYXZhaWxhYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICB9KSxcbiAgICBvblRvZ2dsZU1lZGlhVmlzaWJpbGl0eTogUHJvcFR5cGVzLmZ1bmMsXG4gIH07XG5cbiAgc3RhdGUgPSB7XG4gICAgaGVpZ2h0OiBudWxsLFxuICB9O1xuXG4gIGhhbmRsZUFjY291bnRDbGljayA9IChlKSA9PiB7XG4gICAgaWYgKGUuYnV0dG9uID09PSAwICYmICEoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgdGhpcy5jb250ZXh0LnJvdXRlcikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5jb250ZXh0LnJvdXRlci5oaXN0b3J5LnB1c2goYC9AJHt0aGlzLnByb3BzLnN0YXR1cy5nZXRJbihbJ2FjY291bnQnLCAnYWNjdCddKX1gKTtcbiAgICB9XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9O1xuXG4gIGhhbmRsZU9wZW5WaWRlbyA9IChvcHRpb25zKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbk9wZW5WaWRlbyh0aGlzLnByb3BzLnN0YXR1cy5nZXRJbihbJ21lZGlhX2F0dGFjaG1lbnRzJywgMF0pLCBvcHRpb25zKTtcbiAgfTtcblxuICBoYW5kbGVFeHBhbmRlZFRvZ2dsZSA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uVG9nZ2xlSGlkZGVuKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfTtcblxuICBfbWVhc3VyZUhlaWdodCAoaGVpZ2h0SnVzdENoYW5nZWQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tZWFzdXJlSGVpZ2h0ICYmIHRoaXMubm9kZSkge1xuICAgICAgc2NoZWR1bGVJZGxlVGFzaygoKSA9PiB0aGlzLm5vZGUgJiYgdGhpcy5zZXRTdGF0ZSh7IGhlaWdodDogTWF0aC5jZWlsKHRoaXMubm9kZS5zY3JvbGxIZWlnaHQpICsgMSB9KSk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLm9uSGVpZ2h0Q2hhbmdlICYmIGhlaWdodEp1c3RDaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25IZWlnaHRDaGFuZ2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRSZWYgPSBjID0+IHtcbiAgICB0aGlzLm5vZGUgPSBjO1xuICAgIHRoaXMuX21lYXN1cmVIZWlnaHQoKTtcbiAgfTtcblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdGhpcy5fbWVhc3VyZUhlaWdodChwcmV2U3RhdGUuaGVpZ2h0ICE9PSB0aGlzLnN0YXRlLmhlaWdodCk7XG4gIH1cblxuICBoYW5kbGVNb2RhbExpbmsgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBsZXQgaHJlZjtcblxuICAgIGlmIChlLnRhcmdldC5ub2RlTmFtZSAhPT0gJ0EnKSB7XG4gICAgICBocmVmID0gZS50YXJnZXQucGFyZW50Tm9kZS5ocmVmO1xuICAgIH0gZWxzZSB7XG4gICAgICBocmVmID0gZS50YXJnZXQuaHJlZjtcbiAgICB9XG5cbiAgICB3aW5kb3cub3BlbihocmVmLCAnbWFzdG9kb24taW50ZW50JywgJ3dpZHRoPTQ0NSxoZWlnaHQ9NjAwLHJlc2l6YWJsZT1ubyxtZW51YmFyPW5vLHN0YXR1cz1ubyxzY3JvbGxiYXJzPXllcycpO1xuICB9O1xuXG4gIGhhbmRsZVRyYW5zbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IG9uVHJhbnNsYXRlLCBzdGF0dXMgfSA9IHRoaXMucHJvcHM7XG4gICAgb25UcmFuc2xhdGUoc3RhdHVzKTtcbiAgfTtcblxuICBfcHJvcGVyU3RhdHVzICgpIHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChzdGF0dXMuZ2V0KCdyZWJsb2cnLCBudWxsKSAhPT0gbnVsbCAmJiB0eXBlb2Ygc3RhdHVzLmdldCgncmVibG9nJykgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gc3RhdHVzLmdldCgncmVibG9nJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuICB9XG5cbiAgZ2V0QXR0YWNobWVudEFzcGVjdFJhdGlvICgpIHtcbiAgICBjb25zdCBhdHRhY2htZW50cyA9IHRoaXMuX3Byb3BlclN0YXR1cygpLmdldCgnbWVkaWFfYXR0YWNobWVudHMnKTtcblxuICAgIGlmIChhdHRhY2htZW50cy5nZXRJbihbMCwgJ3R5cGUnXSkgPT09ICd2aWRlbycpIHtcbiAgICAgIHJldHVybiBgJHthdHRhY2htZW50cy5nZXRJbihbMCwgJ21ldGEnLCAnb3JpZ2luYWwnLCAnd2lkdGgnXSl9IC8gJHthdHRhY2htZW50cy5nZXRJbihbMCwgJ21ldGEnLCAnb3JpZ2luYWwnLCAnaGVpZ2h0J10pfWA7XG4gICAgfSBlbHNlIGlmIChhdHRhY2htZW50cy5nZXRJbihbMCwgJ3R5cGUnXSkgPT09ICdhdWRpbycpIHtcbiAgICAgIHJldHVybiAnMTYgLyA5JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChhdHRhY2htZW50cy5zaXplID09PSAxICYmIGF0dGFjaG1lbnRzLmdldEluKFswLCAnbWV0YScsICdzbWFsbCcsICdhc3BlY3QnXSkpID8gYXR0YWNobWVudHMuZ2V0SW4oWzAsICdtZXRhJywgJ3NtYWxsJywgJ2FzcGVjdCddKSA6ICczIC8gMidcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuX3Byb3BlclN0YXR1cygpO1xuICAgIGNvbnN0IG91dGVyU3R5bGUgPSB7IGJveFNpemluZzogJ2JvcmRlci1ib3gnIH07XG4gICAgY29uc3QgeyBpbnRsLCBjb21wYWN0LCBwaWN0dXJlSW5QaWN0dXJlIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxldCBtZWRpYSAgICAgICAgICAgPSAnJztcbiAgICBsZXQgYXBwbGljYXRpb25MaW5rID0gJyc7XG4gICAgbGV0IHJlYmxvZ0xpbmsgPSAnJztcbiAgICBsZXQgcmVibG9nSWNvbiA9ICdyZXR3ZWV0JztcbiAgICBsZXQgZmF2b3VyaXRlTGluayA9ICcnO1xuICAgIGxldCBlZGl0ZWQgPSAnJztcblxuICAgIGlmICh0aGlzLnByb3BzLm1lYXN1cmVIZWlnaHQpIHtcbiAgICAgIG91dGVyU3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5zdGF0ZS5oZWlnaHR9cHhgO1xuICAgIH1cblxuICAgIGNvbnN0IGxhbmd1YWdlID0gc3RhdHVzLmdldEluKFsndHJhbnNsYXRpb24nLCAnbGFuZ3VhZ2UnXSkgfHwgc3RhdHVzLmdldCgnbGFuZ3VhZ2UnKTtcblxuICAgIGlmIChwaWN0dXJlSW5QaWN0dXJlLmdldCgnaW5Vc2UnKSkge1xuICAgICAgbWVkaWEgPSA8UGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyIGFzcGVjdFJhdGlvPXt0aGlzLmdldEF0dGFjaG1lbnRBc3BlY3RSYXRpbygpfSAvPjtcbiAgICB9IGVsc2UgaWYgKHN0YXR1cy5nZXQoJ21lZGlhX2F0dGFjaG1lbnRzJykuc2l6ZSA+IDApIHtcbiAgICAgIGlmIChzdGF0dXMuZ2V0SW4oWydtZWRpYV9hdHRhY2htZW50cycsIDAsICd0eXBlJ10pID09PSAnYXVkaW8nKSB7XG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSBzdGF0dXMuZ2V0SW4oWydtZWRpYV9hdHRhY2htZW50cycsIDBdKTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBhdHRhY2htZW50LmdldEluKFsndHJhbnNsYXRpb24nLCAnZGVzY3JpcHRpb24nXSkgfHwgYXR0YWNobWVudC5nZXQoJ2Rlc2NyaXB0aW9uJyk7XG5cbiAgICAgICAgbWVkaWEgPSAoXG4gICAgICAgICAgPEF1ZGlvXG4gICAgICAgICAgICBzcmM9e2F0dGFjaG1lbnQuZ2V0KCd1cmwnKX1cbiAgICAgICAgICAgIGFsdD17ZGVzY3JpcHRpb259XG4gICAgICAgICAgICBsYW5nPXtsYW5ndWFnZX1cbiAgICAgICAgICAgIGR1cmF0aW9uPXthdHRhY2htZW50LmdldEluKFsnbWV0YScsICdvcmlnaW5hbCcsICdkdXJhdGlvbiddLCAwKX1cbiAgICAgICAgICAgIHBvc3Rlcj17YXR0YWNobWVudC5nZXQoJ3ByZXZpZXdfdXJsJykgfHwgc3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdhdmF0YXJfc3RhdGljJ10pfVxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yPXthdHRhY2htZW50LmdldEluKFsnbWV0YScsICdjb2xvcnMnLCAnYmFja2dyb3VuZCddKX1cbiAgICAgICAgICAgIGZvcmVncm91bmRDb2xvcj17YXR0YWNobWVudC5nZXRJbihbJ21ldGEnLCAnY29sb3JzJywgJ2ZvcmVncm91bmQnXSl9XG4gICAgICAgICAgICBhY2NlbnRDb2xvcj17YXR0YWNobWVudC5nZXRJbihbJ21ldGEnLCAnY29sb3JzJywgJ2FjY2VudCddKX1cbiAgICAgICAgICAgIHNlbnNpdGl2ZT17c3RhdHVzLmdldCgnc2Vuc2l0aXZlJyl9XG4gICAgICAgICAgICB2aXNpYmxlPXt0aGlzLnByb3BzLnNob3dNZWRpYX1cbiAgICAgICAgICAgIGJsdXJoYXNoPXthdHRhY2htZW50LmdldCgnYmx1cmhhc2gnKX1cbiAgICAgICAgICAgIGhlaWdodD17MTUwfVxuICAgICAgICAgICAgb25Ub2dnbGVWaXNpYmlsaXR5PXt0aGlzLnByb3BzLm9uVG9nZ2xlTWVkaWFWaXNpYmlsaXR5fVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1cy5nZXRJbihbJ21lZGlhX2F0dGFjaG1lbnRzJywgMCwgJ3R5cGUnXSkgPT09ICd2aWRlbycpIHtcbiAgICAgICAgY29uc3QgYXR0YWNobWVudCA9IHN0YXR1cy5nZXRJbihbJ21lZGlhX2F0dGFjaG1lbnRzJywgMF0pO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGF0dGFjaG1lbnQuZ2V0SW4oWyd0cmFuc2xhdGlvbicsICdkZXNjcmlwdGlvbiddKSB8fCBhdHRhY2htZW50LmdldCgnZGVzY3JpcHRpb24nKTtcblxuICAgICAgICBtZWRpYSA9IChcbiAgICAgICAgICA8VmlkZW9cbiAgICAgICAgICAgIHByZXZpZXc9e2F0dGFjaG1lbnQuZ2V0KCdwcmV2aWV3X3VybCcpfVxuICAgICAgICAgICAgZnJhbWVSYXRlPXthdHRhY2htZW50LmdldEluKFsnbWV0YScsICdvcmlnaW5hbCcsICdmcmFtZV9yYXRlJ10pfVxuICAgICAgICAgICAgYXNwZWN0UmF0aW89e2Ake2F0dGFjaG1lbnQuZ2V0SW4oWydtZXRhJywgJ29yaWdpbmFsJywgJ3dpZHRoJ10pfSAvICR7YXR0YWNobWVudC5nZXRJbihbJ21ldGEnLCAnb3JpZ2luYWwnLCAnaGVpZ2h0J10pfWB9XG4gICAgICAgICAgICBibHVyaGFzaD17YXR0YWNobWVudC5nZXQoJ2JsdXJoYXNoJyl9XG4gICAgICAgICAgICBzcmM9e2F0dGFjaG1lbnQuZ2V0KCd1cmwnKX1cbiAgICAgICAgICAgIGFsdD17ZGVzY3JpcHRpb259XG4gICAgICAgICAgICBsYW5nPXtsYW5ndWFnZX1cbiAgICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgICBoZWlnaHQ9ezE1MH1cbiAgICAgICAgICAgIG9uT3BlblZpZGVvPXt0aGlzLmhhbmRsZU9wZW5WaWRlb31cbiAgICAgICAgICAgIHNlbnNpdGl2ZT17c3RhdHVzLmdldCgnc2Vuc2l0aXZlJyl9XG4gICAgICAgICAgICB2aXNpYmxlPXt0aGlzLnByb3BzLnNob3dNZWRpYX1cbiAgICAgICAgICAgIG9uVG9nZ2xlVmlzaWJpbGl0eT17dGhpcy5wcm9wcy5vblRvZ2dsZU1lZGlhVmlzaWJpbGl0eX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVkaWEgPSAoXG4gICAgICAgICAgPE1lZGlhR2FsbGVyeVxuICAgICAgICAgICAgc3RhbmRhbG9uZVxuICAgICAgICAgICAgc2Vuc2l0aXZlPXtzdGF0dXMuZ2V0KCdzZW5zaXRpdmUnKX1cbiAgICAgICAgICAgIG1lZGlhPXtzdGF0dXMuZ2V0KCdtZWRpYV9hdHRhY2htZW50cycpfVxuICAgICAgICAgICAgbGFuZz17bGFuZ3VhZ2V9XG4gICAgICAgICAgICBoZWlnaHQ9ezMwMH1cbiAgICAgICAgICAgIG9uT3Blbk1lZGlhPXt0aGlzLnByb3BzLm9uT3Blbk1lZGlhfVxuICAgICAgICAgICAgdmlzaWJsZT17dGhpcy5wcm9wcy5zaG93TWVkaWF9XG4gICAgICAgICAgICBvblRvZ2dsZVZpc2liaWxpdHk9e3RoaXMucHJvcHMub25Ub2dnbGVNZWRpYVZpc2liaWxpdHl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0YXR1cy5nZXQoJ3Nwb2lsZXJfdGV4dCcpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbWVkaWEgPSA8Q2FyZCBzZW5zaXRpdmU9e3N0YXR1cy5nZXQoJ3NlbnNpdGl2ZScpfSBvbk9wZW5NZWRpYT17dGhpcy5wcm9wcy5vbk9wZW5NZWRpYX0gY2FyZD17c3RhdHVzLmdldCgnY2FyZCcsIG51bGwpfSAvPjtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzLmdldCgnYXBwbGljYXRpb24nKSkge1xuICAgICAgYXBwbGljYXRpb25MaW5rID0gPD4gwrcgPGEgY2xhc3NOYW1lPSdkZXRhaWxlZC1zdGF0dXNfX2FwcGxpY2F0aW9uJyBocmVmPXtzdGF0dXMuZ2V0SW4oWydhcHBsaWNhdGlvbicsICd3ZWJzaXRlJ10pfSB0YXJnZXQ9J19ibGFuaycgcmVsPSdub29wZW5lciBub3JlZmVycmVyJz57c3RhdHVzLmdldEluKFsnYXBwbGljYXRpb24nLCAnbmFtZSddKX08L2E+PC8+O1xuICAgIH1cblxuICAgIGNvbnN0IHZpc2liaWxpdHlJY29uSW5mbyA9IHtcbiAgICAgICdwdWJsaWMnOiB7IGljb246ICdnbG9iZScsIHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5wdWJsaWNfc2hvcnQpIH0sXG4gICAgICAndW5saXN0ZWQnOiB7IGljb246ICd1bmxvY2snLCB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMudW5saXN0ZWRfc2hvcnQpIH0sXG4gICAgICAncHJpdmF0ZSc6IHsgaWNvbjogJ2xvY2snLCB0ZXh0OiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMucHJpdmF0ZV9zaG9ydCkgfSxcbiAgICAgICdkaXJlY3QnOiB7IGljb246ICdhdCcsIHRleHQ6IGludGwuZm9ybWF0TWVzc2FnZShtZXNzYWdlcy5kaXJlY3Rfc2hvcnQpIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IHZpc2liaWxpdHlJY29uID0gdmlzaWJpbGl0eUljb25JbmZvW3N0YXR1cy5nZXQoJ3Zpc2liaWxpdHknKV07XG4gICAgY29uc3QgdmlzaWJpbGl0eUxpbmsgPSA8PiDCtyA8SWNvbiBpZD17dmlzaWJpbGl0eUljb24uaWNvbn0gdGl0bGU9e3Zpc2liaWxpdHlJY29uLnRleHR9IC8+PC8+O1xuXG4gICAgaWYgKFsncHJpdmF0ZScsICdkaXJlY3QnXS5pbmNsdWRlcyhzdGF0dXMuZ2V0KCd2aXNpYmlsaXR5JykpKSB7XG4gICAgICByZWJsb2dMaW5rID0gJyc7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNvbnRleHQucm91dGVyKSB7XG4gICAgICByZWJsb2dMaW5rID0gKFxuICAgICAgICA8PlxuICAgICAgICAgIHsnIMK3ICd9XG4gICAgICAgICAgPExpbmsgdG89e2AvQCR7c3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdhY2N0J10pfS8ke3N0YXR1cy5nZXQoJ2lkJyl9L3JlYmxvZ3NgfSBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fbGluayc+XG4gICAgICAgICAgICA8SWNvbiBpZD17cmVibG9nSWNvbn0gLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19yZWJsb2dzJz5cbiAgICAgICAgICAgICAgPEFuaW1hdGVkTnVtYmVyIHZhbHVlPXtzdGF0dXMuZ2V0KCdyZWJsb2dzX2NvdW50Jyl9IC8+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8Lz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYmxvZ0xpbmsgPSAoXG4gICAgICAgIDw+XG4gICAgICAgICAgeycgwrcgJ31cbiAgICAgICAgICA8YSBocmVmPXtgL2ludGVyYWN0LyR7c3RhdHVzLmdldCgnaWQnKX0/dHlwZT1yZWJsb2dgfSBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fbGluaycgb25DbGljaz17dGhpcy5oYW5kbGVNb2RhbExpbmt9PlxuICAgICAgICAgICAgPEljb24gaWQ9e3JlYmxvZ0ljb259IC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fcmVibG9ncyc+XG4gICAgICAgICAgICAgIDxBbmltYXRlZE51bWJlciB2YWx1ZT17c3RhdHVzLmdldCgncmVibG9nc19jb3VudCcpfSAvPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbnRleHQucm91dGVyKSB7XG4gICAgICBmYXZvdXJpdGVMaW5rID0gKFxuICAgICAgICA8TGluayB0bz17YC9AJHtzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2FjY3QnXSl9LyR7c3RhdHVzLmdldCgnaWQnKX0vZmF2b3VyaXRlc2B9IGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19saW5rJz5cbiAgICAgICAgICA8SWNvbiBpZD0nc3RhcicgLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fZmF2b3JpdGVzJz5cbiAgICAgICAgICAgIDxBbmltYXRlZE51bWJlciB2YWx1ZT17c3RhdHVzLmdldCgnZmF2b3VyaXRlc19jb3VudCcpfSAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9MaW5rPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmF2b3VyaXRlTGluayA9IChcbiAgICAgICAgPGEgaHJlZj17YC9pbnRlcmFjdC8ke3N0YXR1cy5nZXQoJ2lkJyl9P3R5cGU9ZmF2b3VyaXRlYH0gY2xhc3NOYW1lPSdkZXRhaWxlZC1zdGF0dXNfX2xpbmsnIG9uQ2xpY2s9e3RoaXMuaGFuZGxlTW9kYWxMaW5rfT5cbiAgICAgICAgICA8SWNvbiBpZD0nc3RhcicgLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fZmF2b3JpdGVzJz5cbiAgICAgICAgICAgIDxBbmltYXRlZE51bWJlciB2YWx1ZT17c3RhdHVzLmdldCgnZmF2b3VyaXRlc19jb3VudCcpfSAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9hPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzLmdldCgnZWRpdGVkX2F0JykpIHtcbiAgICAgIGVkaXRlZCA9IChcbiAgICAgICAgPD5cbiAgICAgICAgICB7JyDCtyAnfVxuICAgICAgICAgIDxFZGl0ZWRUaW1lc3RhbXAgc3RhdHVzSWQ9e3N0YXR1cy5nZXQoJ2lkJyl9IHRpbWVzdGFtcD17c3RhdHVzLmdldCgnZWRpdGVkX2F0Jyl9IC8+XG4gICAgICAgIDwvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7c3RhdHVzQ29udGVudFByb3BzLCBoYXNodGFnQmFyfSA9IGdldEhhc2h0YWdCYXJGb3JTdGF0dXMoc3RhdHVzKTtcbiAgICBjb25zdCBleHBhbmRlZCA9ICFzdGF0dXMuZ2V0KCdoaWRkZW4nKSB8fCBzdGF0dXMuZ2V0KCdzcG9pbGVyX3RleHQnKS5sZW5ndGggPT09IDA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZT17b3V0ZXJTdHlsZX0+XG4gICAgICAgIDxkaXYgcmVmPXt0aGlzLnNldFJlZn0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdkZXRhaWxlZC1zdGF0dXMnLCB7IGNvbXBhY3QgfSl9PlxuICAgICAgICAgIHtzdGF0dXMuZ2V0KCd2aXNpYmlsaXR5JykgPT09ICdkaXJlY3QnICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzdGF0dXNfX3ByZXBlbmQnPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc3RhdHVzX19wcmVwZW5kLWljb24td3JhcHBlcic+PEljb24gaWQ9J2F0JyBjbGFzc05hbWU9J3N0YXR1c19fcHJlcGVuZC1pY29uJyBmaXhlZFdpZHRoIC8+PC9kaXY+XG4gICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPSdzdGF0dXMuZGlyZWN0X2luZGljYXRvcicgZGVmYXVsdE1lc3NhZ2U9J1ByaXZhdGUgbWVudGlvbicgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGEgaHJlZj17YC9AJHtzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2FjY3QnXSl9YH0gb25DbGljaz17dGhpcy5oYW5kbGVBY2NvdW50Q2xpY2t9IGNsYXNzTmFtZT0nZGV0YWlsZWQtc3RhdHVzX19kaXNwbGF5LW5hbWUnPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fZGlzcGxheS1hdmF0YXInPjxBdmF0YXIgYWNjb3VudD17c3RhdHVzLmdldCgnYWNjb3VudCcpfSBzaXplPXs0Nn0gLz48L2Rpdj5cbiAgICAgICAgICAgIDxEaXNwbGF5TmFtZSBhY2NvdW50PXtzdGF0dXMuZ2V0KCdhY2NvdW50Jyl9IGxvY2FsRG9tYWluPXt0aGlzLnByb3BzLmRvbWFpbn0gLz5cbiAgICAgICAgICA8L2E+XG5cbiAgICAgICAgICA8U3RhdHVzQ29udGVudFxuICAgICAgICAgICAgc3RhdHVzPXtzdGF0dXN9XG4gICAgICAgICAgICBleHBhbmRlZD17IXN0YXR1cy5nZXQoJ2hpZGRlbicpfVxuICAgICAgICAgICAgb25FeHBhbmRlZFRvZ2dsZT17dGhpcy5oYW5kbGVFeHBhbmRlZFRvZ2dsZX1cbiAgICAgICAgICAgIG9uVHJhbnNsYXRlPXt0aGlzLmhhbmRsZVRyYW5zbGF0ZX1cbiAgICAgICAgICAgIHsuLi5zdGF0dXNDb250ZW50UHJvcHN9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIHttZWRpYX1cblxuICAgICAgICAgIHtleHBhbmRlZCAmJiBoYXNodGFnQmFyfVxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fbWV0YSc+XG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9J2RldGFpbGVkLXN0YXR1c19fZGF0ZXRpbWUnIGhyZWY9e2AvQCR7c3RhdHVzLmdldEluKFsnYWNjb3VudCcsICdhY2N0J10pfS8ke3N0YXR1cy5nZXQoJ2lkJyl9YH0gdGFyZ2V0PSdfYmxhbmsnIHJlbD0nbm9vcGVuZXIgbm9yZWZlcnJlcic+XG4gICAgICAgICAgICAgIDxGb3JtYXR0ZWREYXRlIHZhbHVlPXtuZXcgRGF0ZShzdGF0dXMuZ2V0KCdjcmVhdGVkX2F0JykpfSBob3VyMTI9e2ZhbHNlfSB5ZWFyPSdudW1lcmljJyBtb250aD0nc2hvcnQnIGRheT0nMi1kaWdpdCcgaG91cj0nMi1kaWdpdCcgbWludXRlPScyLWRpZ2l0JyAvPlxuICAgICAgICAgICAgPC9hPntlZGl0ZWR9e3Zpc2liaWxpdHlMaW5rfXthcHBsaWNhdGlvbkxpbmt9e3JlYmxvZ0xpbmt9IMK3IHtmYXZvdXJpdGVMaW5rfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmplY3RJbnRsKERldGFpbGVkU3RhdHVzKTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUF5QkE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFhQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFwQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFxQkE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUE1U0E7QUFHQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXdSQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/features/status/components/detailed_status.jsx\n");

/***/ }),

/***/ "./app/javascript/mastodon/features/status/index.jsx":
/*!***********************************************************!*\
  !*** ./app/javascript/mastodon/features/status/index.jsx ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-helmet */ \"./node_modules/react-helmet/es/Helmet.js\");\n/* harmony import */ var immutable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! immutable */ \"./node_modules/immutable/dist/immutable.es.js\");\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-immutable-proptypes */ \"./node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js\");\n/* harmony import */ var react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_immutable_pure_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-immutable-pure-component */ \"./node_modules/react-immutable-pure-component/lib/react-immutable-pure-component.es.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! reselect */ \"./node_modules/reselect/es/index.js\");\n/* harmony import */ var react_hotkeys__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-hotkeys */ \"./node_modules/react-hotkeys/index.es.js\");\n/* harmony import */ var react_hotkeys__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_hotkeys__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var mastodon_components_icon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! mastodon/components/icon */ \"./app/javascript/mastodon/components/icon.tsx\");\n/* harmony import */ var mastodon_components_loading_indicator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! mastodon/components/loading_indicator */ \"./app/javascript/mastodon/components/loading_indicator.tsx\");\n/* harmony import */ var mastodon_containers_scroll_container__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! mastodon/containers/scroll_container */ \"./app/javascript/mastodon/containers/scroll_container.js\");\n/* harmony import */ var mastodon_features_ui_components_bundle_column_error__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! mastodon/features/ui/components/bundle_column_error */ \"./app/javascript/mastodon/features/ui/components/bundle_column_error.jsx\");\n/* harmony import */ var _actions_accounts__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../actions/accounts */ \"./app/javascript/mastodon/actions/accounts.js\");\n/* harmony import */ var _actions_blocks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../actions/blocks */ \"./app/javascript/mastodon/actions/blocks.js\");\n/* harmony import */ var _actions_boosts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../actions/boosts */ \"./app/javascript/mastodon/actions/boosts.js\");\n/* harmony import */ var _actions_compose__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../actions/compose */ \"./app/javascript/mastodon/actions/compose.js\");\n/* harmony import */ var _actions_domain_blocks__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../actions/domain_blocks */ \"./app/javascript/mastodon/actions/domain_blocks.js\");\n/* harmony import */ var _actions_interactions__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../actions/interactions */ \"./app/javascript/mastodon/actions/interactions.js\");\n/* harmony import */ var _actions_modal__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../actions/modal */ \"./app/javascript/mastodon/actions/modal.ts\");\n/* harmony import */ var _actions_mutes__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../actions/mutes */ \"./app/javascript/mastodon/actions/mutes.js\");\n/* harmony import */ var _actions_reports__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../actions/reports */ \"./app/javascript/mastodon/actions/reports.js\");\n/* harmony import */ var _actions_statuses__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../actions/statuses */ \"./app/javascript/mastodon/actions/statuses.js\");\n/* harmony import */ var _components_column_header__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../components/column_header */ \"./app/javascript/mastodon/components/column_header.jsx\");\n/* harmony import */ var _components_status__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../components/status */ \"./app/javascript/mastodon/components/status.jsx\");\n/* harmony import */ var _containers_status_container__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../containers/status_container */ \"./app/javascript/mastodon/containers/status_container.jsx\");\n/* harmony import */ var _initial_state__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../initial_state */ \"./app/javascript/mastodon/initial_state.js\");\n/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../selectors */ \"./app/javascript/mastodon/selectors/index.js\");\n/* harmony import */ var _ui_components_column__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../ui/components/column */ \"./app/javascript/mastodon/features/ui/components/column.jsx\");\n/* harmony import */ var _ui_util_fullscreen__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../ui/util/fullscreen */ \"./app/javascript/mastodon/features/ui/util/fullscreen.js\");\n/* harmony import */ var _components_action_bar__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/action_bar */ \"./app/javascript/mastodon/features/status/components/action_bar.jsx\");\n/* harmony import */ var _components_detailed_status__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/detailed_status */ \"./app/javascript/mastodon/features/status/components/detailed_status.jsx\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__);\nvar _jsxFileName = \"/home/sleepybear/workspace/mastodon-sleepybear/app/javascript/mastodon/features/status/index.jsx\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar messages = Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"defineMessages\"])({\n  deleteConfirm: {\n    id: \"confirmations.delete.confirm\",\n    defaultMessage: \"Delete\"\n  },\n  deleteMessage: {\n    id: \"confirmations.delete.message\",\n    defaultMessage: \"Are you sure you want to delete this status?\"\n  },\n  redraftConfirm: {\n    id: \"confirmations.redraft.confirm\",\n    defaultMessage: \"Delete & redraft\"\n  },\n  redraftMessage: {\n    id: \"confirmations.redraft.message\",\n    defaultMessage: \"Are you sure you want to delete this status and re-draft it? Favorites and boosts will be lost, and replies to the original post will be orphaned.\"\n  },\n  revealAll: {\n    id: \"status.show_more_all\",\n    defaultMessage: \"Show more for all\"\n  },\n  hideAll: {\n    id: \"status.show_less_all\",\n    defaultMessage: \"Show less for all\"\n  },\n  statusTitleWithAttachments: {\n    id: \"status.title.with_attachments\",\n    defaultMessage: \"{user} posted {attachmentCount, plural, one {an attachment} other {# attachments}}\"\n  },\n  detailedStatus: {\n    id: \"status.detailed_status\",\n    defaultMessage: \"Detailed conversation view\"\n  },\n  replyConfirm: {\n    id: \"confirmations.reply.confirm\",\n    defaultMessage: \"Reply\"\n  },\n  replyMessage: {\n    id: \"confirmations.reply.message\",\n    defaultMessage: \"Replying now will overwrite the message you are currently composing. Are you sure you want to proceed?\"\n  },\n  blockDomainConfirm: {\n    id: \"confirmations.domain_block.confirm\",\n    defaultMessage: \"Block entire domain\"\n  }\n});\nvar makeMapStateToProps = () => {\n  var getStatus = Object(_selectors__WEBPACK_IMPORTED_MODULE_28__[\"makeGetStatus\"])();\n  var getPictureInPicture = Object(_selectors__WEBPACK_IMPORTED_MODULE_28__[\"makeGetPictureInPicture\"])();\n  var getAncestorsIds = Object(reselect__WEBPACK_IMPORTED_MODULE_8__[\"createSelector\"])([(_, _ref) => {\n    var {\n      id\n    } = _ref;\n    return id;\n  }, state => state.getIn(['contexts', 'inReplyTos'])], (statusId, inReplyTos) => {\n    var ancestorsIds = immutable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].List();\n    ancestorsIds = ancestorsIds.withMutations(mutable => {\n      var id = statusId;\n      while (id && !mutable.includes(id)) {\n        mutable.unshift(id);\n        id = inReplyTos.get(id);\n      }\n    });\n    return ancestorsIds;\n  });\n  var getDescendantsIds = Object(reselect__WEBPACK_IMPORTED_MODULE_8__[\"createSelector\"])([(_, _ref2) => {\n    var {\n      id\n    } = _ref2;\n    return id;\n  }, state => state.getIn(['contexts', 'replies']), state => state.get('statuses')], (statusId, contextReplies, statuses) => {\n    var descendantsIds = [];\n    var ids = [statusId];\n    while (ids.length > 0) {\n      var id = ids.pop();\n      var replies = contextReplies.get(id);\n      if (statusId !== id) {\n        descendantsIds.push(id);\n      }\n      if (replies) {\n        replies.reverse().forEach(reply => {\n          if (!ids.includes(reply) && !descendantsIds.includes(reply) && statusId !== reply) ids.push(reply);\n        });\n      }\n    }\n    var insertAt = descendantsIds.findIndex(id => statuses.get(id).get('in_reply_to_account_id') !== statuses.get(id).get('account'));\n    if (insertAt !== -1) {\n      descendantsIds.forEach((id, idx) => {\n        if (idx > insertAt && statuses.get(id).get('in_reply_to_account_id') === statuses.get(id).get('account')) {\n          descendantsIds.splice(idx, 1);\n          descendantsIds.splice(insertAt, 0, id);\n          insertAt += 1;\n        }\n      });\n    }\n    return immutable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].List(descendantsIds);\n  });\n  var mapStateToProps = (state, props) => {\n    var status = getStatus(state, {\n      id: props.params.statusId\n    });\n    var ancestorsIds = immutable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].List();\n    var descendantsIds = immutable__WEBPACK_IMPORTED_MODULE_4__[\"default\"].List();\n    if (status) {\n      ancestorsIds = getAncestorsIds(state, {\n        id: status.get('in_reply_to_id')\n      });\n      descendantsIds = getDescendantsIds(state, {\n        id: status.get('id')\n      });\n    }\n    return {\n      isLoading: state.getIn(['statuses', props.params.statusId, 'isLoading']),\n      status,\n      ancestorsIds,\n      descendantsIds,\n      askReplyConfirmation: state.getIn(['compose', 'text']).trim().length !== 0,\n      domain: state.getIn(['meta', 'domain']),\n      pictureInPicture: getPictureInPicture(state, {\n        id: props.params.statusId\n      })\n    };\n  };\n  return mapStateToProps;\n};\nvar truncate = (str, num) => {\n  var arr = Array.from(str);\n  if (arr.length > num) {\n    return arr.slice(0, num).join('') + '…';\n  } else {\n    return str;\n  }\n};\nvar titleFromStatus = (intl, status) => {\n  var displayName = status.getIn(['account', 'display_name']);\n  var username = status.getIn(['account', 'username']);\n  var user = displayName.trim().length === 0 ? username : displayName;\n  var text = status.get('search_index');\n  var attachmentCount = status.get('media_attachments').size;\n  return text ? user + \": \\\"\" + truncate(text, 30) + \"\\\"\" : intl.formatMessage(messages.statusTitleWithAttachments, {\n    user,\n    attachmentCount\n  });\n};\nclass Status extends react_immutable_pure_component__WEBPACK_IMPORTED_MODULE_6__[\"default\"] {\n  constructor() {\n    var _this;\n    super(...arguments);\n    _this = this;\n    this.state = {\n      fullscreen: false,\n      showMedia: Object(_components_status__WEBPACK_IMPORTED_MODULE_25__[\"defaultMediaVisibility\"])(this.props.status),\n      loadedStatusId: undefined\n    };\n    this.handleToggleMediaVisibility = () => {\n      this.setState({\n        showMedia: !this.state.showMedia\n      });\n    };\n    this.handleFavouriteClick = status => {\n      var {\n        dispatch\n      } = this.props;\n      var {\n        signedIn\n      } = this.context.identity;\n      if (signedIn) {\n        if (status.get('favourited')) {\n          dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_19__[\"unfavourite\"])(status));\n        } else {\n          dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_19__[\"favourite\"])(status));\n        }\n      } else {\n        dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_20__[\"openModal\"])({\n          modalType: 'INTERACTION',\n          modalProps: {\n            type: 'favourite',\n            accountId: status.getIn(['account', 'id']),\n            url: status.get('uri')\n          }\n        }));\n      }\n    };\n    this.handlePin = status => {\n      if (status.get('pinned')) {\n        this.props.dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_19__[\"unpin\"])(status));\n      } else {\n        this.props.dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_19__[\"pin\"])(status));\n      }\n    };\n    this.handleReplyClick = status => {\n      var {\n        askReplyConfirmation,\n        dispatch,\n        intl\n      } = this.props;\n      var {\n        signedIn\n      } = this.context.identity;\n      if (signedIn) {\n        if (askReplyConfirmation) {\n          dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_20__[\"openModal\"])({\n            modalType: 'CONFIRM',\n            modalProps: {\n              message: intl.formatMessage(messages.replyMessage),\n              confirm: intl.formatMessage(messages.replyConfirm),\n              onConfirm: () => dispatch(Object(_actions_compose__WEBPACK_IMPORTED_MODULE_17__[\"replyCompose\"])(status, this.context.router.history))\n            }\n          }));\n        } else {\n          dispatch(Object(_actions_compose__WEBPACK_IMPORTED_MODULE_17__[\"replyCompose\"])(status, this.context.router.history));\n        }\n      } else {\n        dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_20__[\"openModal\"])({\n          modalType: 'INTERACTION',\n          modalProps: {\n            type: 'reply',\n            accountId: status.getIn(['account', 'id']),\n            url: status.get('uri')\n          }\n        }));\n      }\n    };\n    this.handleModalReblog = (status, privacy) => {\n      this.props.dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_19__[\"reblog\"])(status, privacy));\n    };\n    this.handleReblogClick = (status, e) => {\n      var {\n        dispatch\n      } = this.props;\n      var {\n        signedIn\n      } = this.context.identity;\n      if (signedIn) {\n        if (status.get('reblogged')) {\n          dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_19__[\"unreblog\"])(status));\n        } else {\n          if (e && e.shiftKey || !_initial_state__WEBPACK_IMPORTED_MODULE_27__[\"boostModal\"]) {\n            this.handleModalReblog(status);\n          } else {\n            dispatch(Object(_actions_boosts__WEBPACK_IMPORTED_MODULE_16__[\"initBoostModal\"])({\n              status,\n              onReblog: this.handleModalReblog\n            }));\n          }\n        }\n      } else {\n        dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_20__[\"openModal\"])({\n          modalType: 'INTERACTION',\n          modalProps: {\n            type: 'reblog',\n            accountId: status.getIn(['account', 'id']),\n            url: status.get('uri')\n          }\n        }));\n      }\n    };\n    this.handleBookmarkClick = status => {\n      if (status.get('bookmarked')) {\n        this.props.dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_19__[\"unbookmark\"])(status));\n      } else {\n        this.props.dispatch(Object(_actions_interactions__WEBPACK_IMPORTED_MODULE_19__[\"bookmark\"])(status));\n      }\n    };\n    this.handleDeleteClick = function (status, history, withRedraft) {\n      if (withRedraft === void 0) {\n        withRedraft = false;\n      }\n      var {\n        dispatch,\n        intl\n      } = _this.props;\n      if (!_initial_state__WEBPACK_IMPORTED_MODULE_27__[\"deleteModal\"]) {\n        dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"deleteStatus\"])(status.get('id'), history, withRedraft));\n      } else {\n        dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_20__[\"openModal\"])({\n          modalType: 'CONFIRM',\n          modalProps: {\n            message: intl.formatMessage(withRedraft ? messages.redraftMessage : messages.deleteMessage),\n            confirm: intl.formatMessage(withRedraft ? messages.redraftConfirm : messages.deleteConfirm),\n            onConfirm: () => dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"deleteStatus\"])(status.get('id'), history, withRedraft))\n          }\n        }));\n      }\n    };\n    this.handleEditClick = (status, history) => {\n      this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"editStatus\"])(status.get('id'), history));\n    };\n    this.handleDirectClick = (account, router) => {\n      this.props.dispatch(Object(_actions_compose__WEBPACK_IMPORTED_MODULE_17__[\"directCompose\"])(account, router));\n    };\n    this.handleMentionClick = (account, router) => {\n      this.props.dispatch(Object(_actions_compose__WEBPACK_IMPORTED_MODULE_17__[\"mentionCompose\"])(account, router));\n    };\n    this.handleOpenMedia = (media, index, lang) => {\n      this.props.dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_20__[\"openModal\"])({\n        modalType: 'MEDIA',\n        modalProps: {\n          statusId: this.props.status.get('id'),\n          media,\n          index,\n          lang\n        }\n      }));\n    };\n    this.handleOpenVideo = (media, lang, options) => {\n      this.props.dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_20__[\"openModal\"])({\n        modalType: 'VIDEO',\n        modalProps: {\n          statusId: this.props.status.get('id'),\n          media,\n          lang,\n          options\n        }\n      }));\n    };\n    this.handleHotkeyOpenMedia = e => {\n      var {\n        status\n      } = this.props;\n      e.preventDefault();\n      if (status.get('media_attachments').size > 0) {\n        if (status.getIn(['media_attachments', 0, 'type']) === 'video') {\n          this.handleOpenVideo(status.getIn(['media_attachments', 0]), {\n            startTime: 0\n          });\n        } else {\n          this.handleOpenMedia(status.get('media_attachments'), 0);\n        }\n      }\n    };\n    this.handleMuteClick = account => {\n      this.props.dispatch(Object(_actions_mutes__WEBPACK_IMPORTED_MODULE_21__[\"initMuteModal\"])(account));\n    };\n    this.handleConversationMuteClick = status => {\n      if (status.get('muted')) {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"unmuteStatus\"])(status.get('id')));\n      } else {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"muteStatus\"])(status.get('id')));\n      }\n    };\n    this.handleToggleHidden = status => {\n      if (status.get('hidden')) {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"revealStatus\"])(status.get('id')));\n      } else {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"hideStatus\"])(status.get('id')));\n      }\n    };\n    this.handleToggleAll = () => {\n      var {\n        status,\n        ancestorsIds,\n        descendantsIds\n      } = this.props;\n      var statusIds = [status.get('id')].concat(ancestorsIds.toJS(), descendantsIds.toJS());\n      if (status.get('hidden')) {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"revealStatus\"])(statusIds));\n      } else {\n        this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"hideStatus\"])(statusIds));\n      }\n    };\n    this.handleTranslate = status => {\n      var {\n        dispatch\n      } = this.props;\n      if (status.get('translation')) {\n        dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"undoStatusTranslation\"])(status.get('id'), status.get('poll')));\n      } else {\n        dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"translateStatus\"])(status.get('id')));\n      }\n    };\n    this.handleBlockClick = status => {\n      var {\n        dispatch\n      } = this.props;\n      var account = status.get('account');\n      dispatch(Object(_actions_blocks__WEBPACK_IMPORTED_MODULE_15__[\"initBlockModal\"])(account));\n    };\n    this.handleReport = status => {\n      this.props.dispatch(Object(_actions_reports__WEBPACK_IMPORTED_MODULE_22__[\"initReport\"])(status.get('account'), status));\n    };\n    this.handleEmbed = status => {\n      this.props.dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_20__[\"openModal\"])({\n        modalType: 'EMBED',\n        modalProps: {\n          id: status.get('id')\n        }\n      }));\n    };\n    this.handleUnmuteClick = account => {\n      this.props.dispatch(Object(_actions_accounts__WEBPACK_IMPORTED_MODULE_14__[\"unmuteAccount\"])(account.get('id')));\n    };\n    this.handleUnblockClick = account => {\n      this.props.dispatch(Object(_actions_accounts__WEBPACK_IMPORTED_MODULE_14__[\"unblockAccount\"])(account.get('id')));\n    };\n    this.handleBlockDomainClick = domain => {\n      this.props.dispatch(Object(_actions_modal__WEBPACK_IMPORTED_MODULE_20__[\"openModal\"])({\n        modalType: 'CONFIRM',\n        modalProps: {\n          message: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n            id: \"confirmations.domain_block.message\",\n            defaultMessage: \"Are you really, really sure you want to block the entire {domain}? In most cases a few targeted blocks or mutes are sufficient and preferable. You will not see content from that domain in any public timelines or your notifications. Your followers from that domain will be removed.\",\n            values: {\n              domain: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(\"strong\", {\n                children: domain\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 392\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 18\n          }, this),\n          confirm: this.props.intl.formatMessage(messages.blockDomainConfirm),\n          onConfirm: () => this.props.dispatch(Object(_actions_domain_blocks__WEBPACK_IMPORTED_MODULE_18__[\"blockDomain\"])(domain))\n        }\n      }));\n    };\n    this.handleUnblockDomainClick = domain => {\n      this.props.dispatch(Object(_actions_domain_blocks__WEBPACK_IMPORTED_MODULE_18__[\"unblockDomain\"])(domain));\n    };\n    this.handleHotkeyMoveUp = () => {\n      this.handleMoveUp(this.props.status.get('id'));\n    };\n    this.handleHotkeyMoveDown = () => {\n      this.handleMoveDown(this.props.status.get('id'));\n    };\n    this.handleHotkeyReply = e => {\n      e.preventDefault();\n      this.handleReplyClick(this.props.status);\n    };\n    this.handleHotkeyFavourite = () => {\n      this.handleFavouriteClick(this.props.status);\n    };\n    this.handleHotkeyBoost = () => {\n      this.handleReblogClick(this.props.status);\n    };\n    this.handleHotkeyMention = e => {\n      e.preventDefault();\n      this.handleMentionClick(this.props.status.get('account'));\n    };\n    this.handleHotkeyOpenProfile = () => {\n      this.context.router.history.push(\"/@\" + this.props.status.getIn(['account', 'acct']));\n    };\n    this.handleHotkeyToggleHidden = () => {\n      this.handleToggleHidden(this.props.status);\n    };\n    this.handleHotkeyToggleSensitive = () => {\n      this.handleToggleMediaVisibility();\n    };\n    this.handleMoveUp = id => {\n      var {\n        status,\n        ancestorsIds,\n        descendantsIds\n      } = this.props;\n      if (id === status.get('id')) {\n        this._selectChild(ancestorsIds.size - 1, true);\n      } else {\n        var index = ancestorsIds.indexOf(id);\n        if (index === -1) {\n          index = descendantsIds.indexOf(id);\n          this._selectChild(ancestorsIds.size + index, true);\n        } else {\n          this._selectChild(index - 1, true);\n        }\n      }\n    };\n    this.handleMoveDown = id => {\n      var {\n        status,\n        ancestorsIds,\n        descendantsIds\n      } = this.props;\n      if (id === status.get('id')) {\n        this._selectChild(ancestorsIds.size + 1, false);\n      } else {\n        var index = ancestorsIds.indexOf(id);\n        if (index === -1) {\n          index = descendantsIds.indexOf(id);\n          this._selectChild(ancestorsIds.size + index + 2, false);\n        } else {\n          this._selectChild(index + 1, false);\n        }\n      }\n    };\n    this.setRef = c => {\n      this.node = c;\n    };\n    this.onFullScreenChange = () => {\n      this.setState({\n        fullscreen: Object(_ui_util_fullscreen__WEBPACK_IMPORTED_MODULE_30__[\"isFullscreen\"])()\n      });\n    };\n    this.shouldUpdateScroll = (prevRouterProps, _ref3) => {\n      var _location$state, _prevRouterProps$loca, _this$node;\n      var {\n        location\n      } = _ref3;\n      // Do not change scroll when opening a modal\n      if (((_location$state = location.state) == null ? void 0 : _location$state.mastodonModalKey) !== (prevRouterProps == null || (_prevRouterProps$loca = prevRouterProps.location) == null || (_prevRouterProps$loca = _prevRouterProps$loca.state) == null ? void 0 : _prevRouterProps$loca.mastodonModalKey)) {\n        return false;\n      }\n\n      // Scroll to focused post if it is loaded\n      var child = (_this$node = this.node) == null ? void 0 : _this$node.querySelector('.detailed-status__wrapper');\n      if (child) {\n        return [0, child.offsetTop];\n      }\n\n      // Do not scroll otherwise, `componentDidUpdate` will take care of that\n      return false;\n    };\n  }\n  UNSAFE_componentWillMount() {\n    this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"fetchStatus\"])(this.props.params.statusId));\n  }\n  componentDidMount() {\n    Object(_ui_util_fullscreen__WEBPACK_IMPORTED_MODULE_30__[\"attachFullscreenListener\"])(this.onFullScreenChange);\n    this._scrollStatusIntoView();\n  }\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.params.statusId !== this.props.params.statusId && nextProps.params.statusId) {\n      this.props.dispatch(Object(_actions_statuses__WEBPACK_IMPORTED_MODULE_23__[\"fetchStatus\"])(nextProps.params.statusId));\n    }\n    if (nextProps.status && nextProps.status.get('id') !== this.state.loadedStatusId) {\n      this.setState({\n        showMedia: Object(_components_status__WEBPACK_IMPORTED_MODULE_25__[\"defaultMediaVisibility\"])(nextProps.status),\n        loadedStatusId: nextProps.status.get('id')\n      });\n    }\n  }\n  _selectChild(index, align_top) {\n    var container = this.node;\n    var element = container.querySelectorAll('.focusable')[index];\n    if (element) {\n      if (align_top && container.scrollTop > element.offsetTop) {\n        element.scrollIntoView(true);\n      } else if (!align_top && container.scrollTop + container.clientHeight < element.offsetTop + element.offsetHeight) {\n        element.scrollIntoView(false);\n      }\n      element.focus();\n    }\n  }\n  renderChildren(list, ancestors) {\n    var {\n      params: {\n        statusId\n      }\n    } = this.props;\n    return list.map((id, i) => /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(_containers_status_container__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n      id: id,\n      onMoveUp: this.handleMoveUp,\n      onMoveDown: this.handleMoveDown,\n      contextType: \"thread\",\n      previousId: i > 0 ? list.get(i - 1) : undefined,\n      nextId: list.get(i + 1) || ancestors && statusId,\n      rootId: statusId\n    }, id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 7\n    }, this));\n  }\n  _scrollStatusIntoView() {\n    var {\n      status,\n      multiColumn\n    } = this.props;\n    if (status) {\n      window.requestAnimationFrame(() => {\n        var _this$node2;\n        (_this$node2 = this.node) == null || (_this$node2 = _this$node2.querySelector('.detailed-status__wrapper')) == null || _this$node2.scrollIntoView(true);\n\n        // In the single-column interface, `scrollIntoView` will put the post behind the header,\n        // so compensate for that.\n        if (!multiColumn) {\n          var _document$querySelect;\n          var offset = (_document$querySelect = document.querySelector('.column-header__wrapper')) == null || (_document$querySelect = _document$querySelect.getBoundingClientRect()) == null ? void 0 : _document$querySelect.bottom;\n          if (offset) {\n            var scrollingElement = document.scrollingElement || document.body;\n            scrollingElement.scrollBy(0, -offset);\n          }\n        }\n      });\n    }\n  }\n  componentDidUpdate(prevProps) {\n    var _prevProps$status;\n    var {\n      status,\n      ancestorsIds\n    } = this.props;\n    if (status && (ancestorsIds.size > prevProps.ancestorsIds.size || ((_prevProps$status = prevProps.status) == null ? void 0 : _prevProps$status.get('id')) !== status.get('id'))) {\n      this._scrollStatusIntoView();\n    }\n  }\n  componentWillUnmount() {\n    Object(_ui_util_fullscreen__WEBPACK_IMPORTED_MODULE_30__[\"detachFullscreenListener\"])(this.onFullScreenChange);\n  }\n  render() {\n    var ancestors, descendants;\n    var {\n      isLoading,\n      status,\n      ancestorsIds,\n      descendantsIds,\n      intl,\n      domain,\n      multiColumn,\n      pictureInPicture\n    } = this.props;\n    var {\n      fullscreen\n    } = this.state;\n    if (isLoading) {\n      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(_ui_components_column__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(mastodon_components_loading_indicator__WEBPACK_IMPORTED_MODULE_11__[\"LoadingIndicator\"], {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 9\n      }, this);\n    }\n    if (status === null) {\n      return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(mastodon_features_ui_components_bundle_column_error__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n        multiColumn: multiColumn,\n        errorType: \"routing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 9\n      }, this);\n    }\n    if (ancestorsIds && ancestorsIds.size > 0) {\n      ancestors = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"Fragment\"], {\n        children: this.renderChildren(ancestorsIds, true)\n      }, void 0, false);\n    }\n    if (descendantsIds && descendantsIds.size > 0) {\n      descendants = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"Fragment\"], {\n        children: this.renderChildren(descendantsIds)\n      }, void 0, false);\n    }\n    var isLocal = status.getIn(['account', 'acct'], '').indexOf('@') === -1;\n    var isIndexable = !status.getIn(['account', 'noindex']);\n    var handlers = {\n      moveUp: this.handleHotkeyMoveUp,\n      moveDown: this.handleHotkeyMoveDown,\n      reply: this.handleHotkeyReply,\n      favourite: this.handleHotkeyFavourite,\n      boost: this.handleHotkeyBoost,\n      mention: this.handleHotkeyMention,\n      openProfile: this.handleHotkeyOpenProfile,\n      toggleHidden: this.handleHotkeyToggleHidden,\n      toggleSensitive: this.handleHotkeyToggleSensitive,\n      openMedia: this.handleHotkeyOpenMedia\n    };\n    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(_ui_components_column__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n      bindToDocument: !multiColumn,\n      label: intl.formatMessage(messages.detailedStatus),\n      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(_components_column_header__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n        showBackButton: true,\n        multiColumn: multiColumn,\n        extraButton: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(\"button\", {\n          type: \"button\",\n          className: \"column-header__button\",\n          title: intl.formatMessage(status.get('hidden') ? messages.revealAll : messages.hideAll),\n          \"aria-label\": intl.formatMessage(status.get('hidden') ? messages.revealAll : messages.hideAll),\n          onClick: this.handleToggleAll,\n          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(mastodon_components_icon__WEBPACK_IMPORTED_MODULE_10__[\"Icon\"], {\n            id: status.get('hidden') ? 'eye-slash' : 'eye'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 283\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(mastodon_containers_scroll_container__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n        scrollKey: \"thread\",\n        shouldUpdateScroll: this.shouldUpdateScroll,\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(\"div\", {\n          className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('scrollable', {\n            fullscreen\n          }),\n          ref: this.setRef,\n          children: [ancestors, /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(react_hotkeys__WEBPACK_IMPORTED_MODULE_9__[\"HotKeys\"], {\n            handlers: handlers,\n            children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(\"div\", {\n              className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('focusable', 'detailed-status__wrapper', \"detailed-status__wrapper-\" + status.get('visibility')),\n              tabIndex: 0,\n              \"aria-label\": Object(_components_status__WEBPACK_IMPORTED_MODULE_25__[\"textForScreenReader\"])(intl, status, false),\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(_components_detailed_status__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                status: status,\n                onOpenVideo: this.handleOpenVideo,\n                onOpenMedia: this.handleOpenMedia,\n                onToggleHidden: this.handleToggleHidden,\n                onTranslate: this.handleTranslate,\n                domain: domain,\n                showMedia: this.state.showMedia,\n                onToggleMediaVisibility: this.handleToggleMediaVisibility,\n                pictureInPicture: pictureInPicture\n              }, \"details-\" + status.get('id'), false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 17\n              }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(_components_action_bar__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                status: status,\n                onReply: this.handleReplyClick,\n                onFavourite: this.handleFavouriteClick,\n                onReblog: this.handleReblogClick,\n                onBookmark: this.handleBookmarkClick,\n                onDelete: this.handleDeleteClick,\n                onEdit: this.handleEditClick,\n                onDirect: this.handleDirectClick,\n                onMention: this.handleMentionClick,\n                onMute: this.handleMuteClick,\n                onUnmute: this.handleUnmuteClick,\n                onMuteConversation: this.handleConversationMuteClick,\n                onBlock: this.handleBlockClick,\n                onUnblock: this.handleUnblockClick,\n                onBlockDomain: this.handleBlockDomainClick,\n                onUnblockDomain: this.handleUnblockDomainClick,\n                onReport: this.handleReport,\n                onPin: this.handlePin,\n                onEmbed: this.handleEmbed\n              }, \"action-bar-\" + status.get('id'), false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 13\n          }, this), descendants]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 690,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 689,\n        columnNumber: 9\n      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(react_helmet__WEBPACK_IMPORTED_MODULE_3__[\"Helmet\"], {\n        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(\"title\", {\n          children: titleFromStatus(intl, status)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 11\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(\"meta\", {\n          name: \"robots\",\n          content: isLocal && isIndexable ? 'all' : 'noindex'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 11\n        }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_33__[\"jsxDEV\"])(\"link\", {\n          rel: \"canonical\",\n          href: status.get('url')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 737,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 7\n    }, this);\n  }\n}\nStatus.contextTypes = {\n  router: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object,\n  identity: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object\n};\nStatus.propTypes = {\n  params: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired,\n  dispatch: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.func.isRequired,\n  status: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5___default.a.map,\n  isLoading: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  ancestorsIds: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5___default.a.list.isRequired,\n  descendantsIds: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5___default.a.list.isRequired,\n  intl: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object.isRequired,\n  askReplyConfirmation: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  multiColumn: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n  domain: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  pictureInPicture: react_immutable_proptypes__WEBPACK_IMPORTED_MODULE_5___default.a.contains({\n    inUse: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool,\n    available: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.bool\n  })\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"injectIntl\"])(Object(react_redux__WEBPACK_IMPORTED_MODULE_7__[\"connect\"])(makeMapStateToProps)(Status)));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9mZWF0dXJlcy9zdGF0dXMvaW5kZXguanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXBwL2phdmFzY3JpcHQvbWFzdG9kb24vZmVhdHVyZXMvc3RhdHVzL2luZGV4LmpzeD84Yzg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCB7IGRlZmluZU1lc3NhZ2VzLCBpbmplY3RJbnRsLCBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgSGVsbWV0IH0gZnJvbSAncmVhY3QtaGVsbWV0JztcblxuaW1wb3J0IEltbXV0YWJsZSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0IEltbXV0YWJsZVByb3BUeXBlcyBmcm9tICdyZWFjdC1pbW11dGFibGUtcHJvcHR5cGVzJztcbmltcG9ydCBJbW11dGFibGVQdXJlQ29tcG9uZW50IGZyb20gJ3JlYWN0LWltbXV0YWJsZS1wdXJlLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5cbmltcG9ydCB7IEhvdEtleXMgfSBmcm9tICdyZWFjdC1ob3RrZXlzJztcblxuaW1wb3J0IHsgSWNvbiB9ICBmcm9tICdtYXN0b2Rvbi9jb21wb25lbnRzL2ljb24nO1xuaW1wb3J0IHsgTG9hZGluZ0luZGljYXRvciB9IGZyb20gJ21hc3RvZG9uL2NvbXBvbmVudHMvbG9hZGluZ19pbmRpY2F0b3InO1xuaW1wb3J0IFNjcm9sbENvbnRhaW5lciBmcm9tICdtYXN0b2Rvbi9jb250YWluZXJzL3Njcm9sbF9jb250YWluZXInO1xuaW1wb3J0IEJ1bmRsZUNvbHVtbkVycm9yIGZyb20gJ21hc3RvZG9uL2ZlYXR1cmVzL3VpL2NvbXBvbmVudHMvYnVuZGxlX2NvbHVtbl9lcnJvcic7XG5cbmltcG9ydCB7XG4gIHVuYmxvY2tBY2NvdW50LFxuICB1bm11dGVBY2NvdW50LFxufSBmcm9tICcuLi8uLi9hY3Rpb25zL2FjY291bnRzJztcbmltcG9ydCB7IGluaXRCbG9ja01vZGFsIH0gZnJvbSAnLi4vLi4vYWN0aW9ucy9ibG9ja3MnO1xuaW1wb3J0IHsgaW5pdEJvb3N0TW9kYWwgfSBmcm9tICcuLi8uLi9hY3Rpb25zL2Jvb3N0cyc7XG5pbXBvcnQge1xuICByZXBseUNvbXBvc2UsXG4gIG1lbnRpb25Db21wb3NlLFxuICBkaXJlY3RDb21wb3NlLFxufSBmcm9tICcuLi8uLi9hY3Rpb25zL2NvbXBvc2UnO1xuaW1wb3J0IHtcbiAgYmxvY2tEb21haW4sXG4gIHVuYmxvY2tEb21haW4sXG59IGZyb20gJy4uLy4uL2FjdGlvbnMvZG9tYWluX2Jsb2Nrcyc7XG5pbXBvcnQge1xuICBmYXZvdXJpdGUsXG4gIHVuZmF2b3VyaXRlLFxuICBib29rbWFyayxcbiAgdW5ib29rbWFyayxcbiAgcmVibG9nLFxuICB1bnJlYmxvZyxcbiAgcGluLFxuICB1bnBpbixcbn0gZnJvbSAnLi4vLi4vYWN0aW9ucy9pbnRlcmFjdGlvbnMnO1xuaW1wb3J0IHsgb3Blbk1vZGFsIH0gZnJvbSAnLi4vLi4vYWN0aW9ucy9tb2RhbCc7XG5pbXBvcnQgeyBpbml0TXV0ZU1vZGFsIH0gZnJvbSAnLi4vLi4vYWN0aW9ucy9tdXRlcyc7XG5pbXBvcnQgeyBpbml0UmVwb3J0IH0gZnJvbSAnLi4vLi4vYWN0aW9ucy9yZXBvcnRzJztcbmltcG9ydCB7XG4gIGZldGNoU3RhdHVzLFxuICBtdXRlU3RhdHVzLFxuICB1bm11dGVTdGF0dXMsXG4gIGRlbGV0ZVN0YXR1cyxcbiAgZWRpdFN0YXR1cyxcbiAgaGlkZVN0YXR1cyxcbiAgcmV2ZWFsU3RhdHVzLFxuICB0cmFuc2xhdGVTdGF0dXMsXG4gIHVuZG9TdGF0dXNUcmFuc2xhdGlvbixcbn0gZnJvbSAnLi4vLi4vYWN0aW9ucy9zdGF0dXNlcyc7XG5pbXBvcnQgQ29sdW1uSGVhZGVyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29sdW1uX2hlYWRlcic7XG5pbXBvcnQgeyB0ZXh0Rm9yU2NyZWVuUmVhZGVyLCBkZWZhdWx0TWVkaWFWaXNpYmlsaXR5IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zdGF0dXMnO1xuaW1wb3J0IFN0YXR1c0NvbnRhaW5lciBmcm9tICcuLi8uLi9jb250YWluZXJzL3N0YXR1c19jb250YWluZXInO1xuaW1wb3J0IHsgYm9vc3RNb2RhbCwgZGVsZXRlTW9kYWwgfSBmcm9tICcuLi8uLi9pbml0aWFsX3N0YXRlJztcbmltcG9ydCB7IG1ha2VHZXRTdGF0dXMsIG1ha2VHZXRQaWN0dXJlSW5QaWN0dXJlIH0gZnJvbSAnLi4vLi4vc2VsZWN0b3JzJztcbmltcG9ydCBDb2x1bW4gZnJvbSAnLi4vdWkvY29tcG9uZW50cy9jb2x1bW4nO1xuaW1wb3J0IHsgYXR0YWNoRnVsbHNjcmVlbkxpc3RlbmVyLCBkZXRhY2hGdWxsc2NyZWVuTGlzdGVuZXIsIGlzRnVsbHNjcmVlbiB9IGZyb20gJy4uL3VpL3V0aWwvZnVsbHNjcmVlbic7XG5cbmltcG9ydCBBY3Rpb25CYXIgZnJvbSAnLi9jb21wb25lbnRzL2FjdGlvbl9iYXInO1xuaW1wb3J0IERldGFpbGVkU3RhdHVzIGZyb20gJy4vY29tcG9uZW50cy9kZXRhaWxlZF9zdGF0dXMnO1xuXG5jb25zdCBtZXNzYWdlcyA9IGRlZmluZU1lc3NhZ2VzKHtcbiAgZGVsZXRlQ29uZmlybTogeyBpZDogJ2NvbmZpcm1hdGlvbnMuZGVsZXRlLmNvbmZpcm0nLCBkZWZhdWx0TWVzc2FnZTogJ0RlbGV0ZScgfSxcbiAgZGVsZXRlTWVzc2FnZTogeyBpZDogJ2NvbmZpcm1hdGlvbnMuZGVsZXRlLm1lc3NhZ2UnLCBkZWZhdWx0TWVzc2FnZTogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBzdGF0dXM/JyB9LFxuICByZWRyYWZ0Q29uZmlybTogeyBpZDogJ2NvbmZpcm1hdGlvbnMucmVkcmFmdC5jb25maXJtJywgZGVmYXVsdE1lc3NhZ2U6ICdEZWxldGUgJiByZWRyYWZ0JyB9LFxuICByZWRyYWZ0TWVzc2FnZTogeyBpZDogJ2NvbmZpcm1hdGlvbnMucmVkcmFmdC5tZXNzYWdlJywgZGVmYXVsdE1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgc3RhdHVzIGFuZCByZS1kcmFmdCBpdD8gRmF2b3JpdGVzIGFuZCBib29zdHMgd2lsbCBiZSBsb3N0LCBhbmQgcmVwbGllcyB0byB0aGUgb3JpZ2luYWwgcG9zdCB3aWxsIGJlIG9ycGhhbmVkLicgfSxcbiAgcmV2ZWFsQWxsOiB7IGlkOiAnc3RhdHVzLnNob3dfbW9yZV9hbGwnLCBkZWZhdWx0TWVzc2FnZTogJ1Nob3cgbW9yZSBmb3IgYWxsJyB9LFxuICBoaWRlQWxsOiB7IGlkOiAnc3RhdHVzLnNob3dfbGVzc19hbGwnLCBkZWZhdWx0TWVzc2FnZTogJ1Nob3cgbGVzcyBmb3IgYWxsJyB9LFxuICBzdGF0dXNUaXRsZVdpdGhBdHRhY2htZW50czogeyBpZDogJ3N0YXR1cy50aXRsZS53aXRoX2F0dGFjaG1lbnRzJywgZGVmYXVsdE1lc3NhZ2U6ICd7dXNlcn0gcG9zdGVkIHthdHRhY2htZW50Q291bnQsIHBsdXJhbCwgb25lIHthbiBhdHRhY2htZW50fSBvdGhlciB7IyBhdHRhY2htZW50c319JyB9LFxuICBkZXRhaWxlZFN0YXR1czogeyBpZDogJ3N0YXR1cy5kZXRhaWxlZF9zdGF0dXMnLCBkZWZhdWx0TWVzc2FnZTogJ0RldGFpbGVkIGNvbnZlcnNhdGlvbiB2aWV3JyB9LFxuICByZXBseUNvbmZpcm06IHsgaWQ6ICdjb25maXJtYXRpb25zLnJlcGx5LmNvbmZpcm0nLCBkZWZhdWx0TWVzc2FnZTogJ1JlcGx5JyB9LFxuICByZXBseU1lc3NhZ2U6IHsgaWQ6ICdjb25maXJtYXRpb25zLnJlcGx5Lm1lc3NhZ2UnLCBkZWZhdWx0TWVzc2FnZTogJ1JlcGx5aW5nIG5vdyB3aWxsIG92ZXJ3cml0ZSB0aGUgbWVzc2FnZSB5b3UgYXJlIGN1cnJlbnRseSBjb21wb3NpbmcuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBwcm9jZWVkPycgfSxcbiAgYmxvY2tEb21haW5Db25maXJtOiB7IGlkOiAnY29uZmlybWF0aW9ucy5kb21haW5fYmxvY2suY29uZmlybScsIGRlZmF1bHRNZXNzYWdlOiAnQmxvY2sgZW50aXJlIGRvbWFpbicgfSxcbn0pO1xuXG5jb25zdCBtYWtlTWFwU3RhdGVUb1Byb3BzID0gKCkgPT4ge1xuICBjb25zdCBnZXRTdGF0dXMgPSBtYWtlR2V0U3RhdHVzKCk7XG4gIGNvbnN0IGdldFBpY3R1cmVJblBpY3R1cmUgPSBtYWtlR2V0UGljdHVyZUluUGljdHVyZSgpO1xuXG4gIGNvbnN0IGdldEFuY2VzdG9yc0lkcyA9IGNyZWF0ZVNlbGVjdG9yKFtcbiAgICAoXywgeyBpZCB9KSA9PiBpZCxcbiAgICBzdGF0ZSA9PiBzdGF0ZS5nZXRJbihbJ2NvbnRleHRzJywgJ2luUmVwbHlUb3MnXSksXG4gIF0sIChzdGF0dXNJZCwgaW5SZXBseVRvcykgPT4ge1xuICAgIGxldCBhbmNlc3RvcnNJZHMgPSBJbW11dGFibGUuTGlzdCgpO1xuICAgIGFuY2VzdG9yc0lkcyA9IGFuY2VzdG9yc0lkcy53aXRoTXV0YXRpb25zKG11dGFibGUgPT4ge1xuICAgICAgbGV0IGlkID0gc3RhdHVzSWQ7XG5cbiAgICAgIHdoaWxlIChpZCAmJiAhbXV0YWJsZS5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgbXV0YWJsZS51bnNoaWZ0KGlkKTtcbiAgICAgICAgaWQgPSBpblJlcGx5VG9zLmdldChpZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYW5jZXN0b3JzSWRzO1xuICB9KTtcblxuICBjb25zdCBnZXREZXNjZW5kYW50c0lkcyA9IGNyZWF0ZVNlbGVjdG9yKFtcbiAgICAoXywgeyBpZCB9KSA9PiBpZCxcbiAgICBzdGF0ZSA9PiBzdGF0ZS5nZXRJbihbJ2NvbnRleHRzJywgJ3JlcGxpZXMnXSksXG4gICAgc3RhdGUgPT4gc3RhdGUuZ2V0KCdzdGF0dXNlcycpLFxuICBdLCAoc3RhdHVzSWQsIGNvbnRleHRSZXBsaWVzLCBzdGF0dXNlcykgPT4ge1xuICAgIGxldCBkZXNjZW5kYW50c0lkcyA9IFtdO1xuICAgIGNvbnN0IGlkcyA9IFtzdGF0dXNJZF07XG5cbiAgICB3aGlsZSAoaWRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBpZCAgICAgICAgPSBpZHMucG9wKCk7XG4gICAgICBjb25zdCByZXBsaWVzID0gY29udGV4dFJlcGxpZXMuZ2V0KGlkKTtcblxuICAgICAgaWYgKHN0YXR1c0lkICE9PSBpZCkge1xuICAgICAgICBkZXNjZW5kYW50c0lkcy5wdXNoKGlkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlcGxpZXMpIHtcbiAgICAgICAgcmVwbGllcy5yZXZlcnNlKCkuZm9yRWFjaChyZXBseSA9PiB7XG4gICAgICAgICAgaWYgKCFpZHMuaW5jbHVkZXMocmVwbHkpICYmICFkZXNjZW5kYW50c0lkcy5pbmNsdWRlcyhyZXBseSkgJiYgc3RhdHVzSWQgIT09IHJlcGx5KSBpZHMucHVzaChyZXBseSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBpbnNlcnRBdCA9IGRlc2NlbmRhbnRzSWRzLmZpbmRJbmRleCgoaWQpID0+IHN0YXR1c2VzLmdldChpZCkuZ2V0KCdpbl9yZXBseV90b19hY2NvdW50X2lkJykgIT09IHN0YXR1c2VzLmdldChpZCkuZ2V0KCdhY2NvdW50JykpO1xuICAgIGlmIChpbnNlcnRBdCAhPT0gLTEpIHtcbiAgICAgIGRlc2NlbmRhbnRzSWRzLmZvckVhY2goKGlkLCBpZHgpID0+IHtcbiAgICAgICAgaWYgKGlkeCA+IGluc2VydEF0ICYmIHN0YXR1c2VzLmdldChpZCkuZ2V0KCdpbl9yZXBseV90b19hY2NvdW50X2lkJykgPT09IHN0YXR1c2VzLmdldChpZCkuZ2V0KCdhY2NvdW50JykpIHtcbiAgICAgICAgICBkZXNjZW5kYW50c0lkcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICBkZXNjZW5kYW50c0lkcy5zcGxpY2UoaW5zZXJ0QXQsIDAsIGlkKTtcbiAgICAgICAgICBpbnNlcnRBdCArPSAxO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gSW1tdXRhYmxlLkxpc3QoZGVzY2VuZGFudHNJZHMpO1xuICB9KTtcblxuICBjb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUsIHByb3BzKSA9PiB7XG4gICAgY29uc3Qgc3RhdHVzID0gZ2V0U3RhdHVzKHN0YXRlLCB7IGlkOiBwcm9wcy5wYXJhbXMuc3RhdHVzSWQgfSk7XG5cbiAgICBsZXQgYW5jZXN0b3JzSWRzICAgPSBJbW11dGFibGUuTGlzdCgpO1xuICAgIGxldCBkZXNjZW5kYW50c0lkcyA9IEltbXV0YWJsZS5MaXN0KCk7XG5cbiAgICBpZiAoc3RhdHVzKSB7XG4gICAgICBhbmNlc3RvcnNJZHMgICA9IGdldEFuY2VzdG9yc0lkcyhzdGF0ZSwgeyBpZDogc3RhdHVzLmdldCgnaW5fcmVwbHlfdG9faWQnKSB9KTtcbiAgICAgIGRlc2NlbmRhbnRzSWRzID0gZ2V0RGVzY2VuZGFudHNJZHMoc3RhdGUsIHsgaWQ6IHN0YXR1cy5nZXQoJ2lkJykgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzTG9hZGluZzogc3RhdGUuZ2V0SW4oWydzdGF0dXNlcycsIHByb3BzLnBhcmFtcy5zdGF0dXNJZCwgJ2lzTG9hZGluZyddKSxcbiAgICAgIHN0YXR1cyxcbiAgICAgIGFuY2VzdG9yc0lkcyxcbiAgICAgIGRlc2NlbmRhbnRzSWRzLFxuICAgICAgYXNrUmVwbHlDb25maXJtYXRpb246IHN0YXRlLmdldEluKFsnY29tcG9zZScsICd0ZXh0J10pLnRyaW0oKS5sZW5ndGggIT09IDAsXG4gICAgICBkb21haW46IHN0YXRlLmdldEluKFsnbWV0YScsICdkb21haW4nXSksXG4gICAgICBwaWN0dXJlSW5QaWN0dXJlOiBnZXRQaWN0dXJlSW5QaWN0dXJlKHN0YXRlLCB7IGlkOiBwcm9wcy5wYXJhbXMuc3RhdHVzSWQgfSksXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gbWFwU3RhdGVUb1Byb3BzO1xufTtcblxuY29uc3QgdHJ1bmNhdGUgPSAoc3RyLCBudW0pID0+IHtcbiAgY29uc3QgYXJyID0gQXJyYXkuZnJvbShzdHIpO1xuICBpZiAoYXJyLmxlbmd0aCA+IG51bSkge1xuICAgIHJldHVybiBhcnIuc2xpY2UoMCwgbnVtKS5qb2luKCcnKSArICfigKYnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn07XG5cbmNvbnN0IHRpdGxlRnJvbVN0YXR1cyA9IChpbnRsLCBzdGF0dXMpID0+IHtcbiAgY29uc3QgZGlzcGxheU5hbWUgPSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2Rpc3BsYXlfbmFtZSddKTtcbiAgY29uc3QgdXNlcm5hbWUgPSBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ3VzZXJuYW1lJ10pO1xuICBjb25zdCB1c2VyID0gZGlzcGxheU5hbWUudHJpbSgpLmxlbmd0aCA9PT0gMCA/IHVzZXJuYW1lIDogZGlzcGxheU5hbWU7XG4gIGNvbnN0IHRleHQgPSBzdGF0dXMuZ2V0KCdzZWFyY2hfaW5kZXgnKTtcbiAgY29uc3QgYXR0YWNobWVudENvdW50ID0gc3RhdHVzLmdldCgnbWVkaWFfYXR0YWNobWVudHMnKS5zaXplO1xuXG4gIHJldHVybiB0ZXh0ID8gYCR7dXNlcn06IFwiJHt0cnVuY2F0ZSh0ZXh0LCAzMCl9XCJgIDogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnN0YXR1c1RpdGxlV2l0aEF0dGFjaG1lbnRzLCB7IHVzZXIsIGF0dGFjaG1lbnRDb3VudCB9KTtcbn07XG5cbmNsYXNzIFN0YXR1cyBleHRlbmRzIEltbXV0YWJsZVB1cmVDb21wb25lbnQge1xuXG4gIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgcm91dGVyOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGlkZW50aXR5OiBQcm9wVHlwZXMub2JqZWN0LFxuICB9O1xuXG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgcGFyYW1zOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgZGlzcGF0Y2g6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgc3RhdHVzOiBJbW11dGFibGVQcm9wVHlwZXMubWFwLFxuICAgIGlzTG9hZGluZzogUHJvcFR5cGVzLmJvb2wsXG4gICAgYW5jZXN0b3JzSWRzOiBJbW11dGFibGVQcm9wVHlwZXMubGlzdC5pc1JlcXVpcmVkLFxuICAgIGRlc2NlbmRhbnRzSWRzOiBJbW11dGFibGVQcm9wVHlwZXMubGlzdC5pc1JlcXVpcmVkLFxuICAgIGludGw6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhc2tSZXBseUNvbmZpcm1hdGlvbjogUHJvcFR5cGVzLmJvb2wsXG4gICAgbXVsdGlDb2x1bW46IFByb3BUeXBlcy5ib29sLFxuICAgIGRvbWFpbjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHBpY3R1cmVJblBpY3R1cmU6IEltbXV0YWJsZVByb3BUeXBlcy5jb250YWlucyh7XG4gICAgICBpblVzZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgICBhdmFpbGFibGU6IFByb3BUeXBlcy5ib29sLFxuICAgIH0pLFxuICB9O1xuXG4gIHN0YXRlID0ge1xuICAgIGZ1bGxzY3JlZW46IGZhbHNlLFxuICAgIHNob3dNZWRpYTogZGVmYXVsdE1lZGlhVmlzaWJpbGl0eSh0aGlzLnByb3BzLnN0YXR1cyksXG4gICAgbG9hZGVkU3RhdHVzSWQ6IHVuZGVmaW5lZCxcbiAgfTtcblxuICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICgpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGZldGNoU3RhdHVzKHRoaXMucHJvcHMucGFyYW1zLnN0YXR1c0lkKSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgYXR0YWNoRnVsbHNjcmVlbkxpc3RlbmVyKHRoaXMub25GdWxsU2NyZWVuQ2hhbmdlKTtcblxuICAgIHRoaXMuX3Njcm9sbFN0YXR1c0ludG9WaWV3KCk7XG4gIH1cblxuICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAobmV4dFByb3BzKSB7XG4gICAgaWYgKG5leHRQcm9wcy5wYXJhbXMuc3RhdHVzSWQgIT09IHRoaXMucHJvcHMucGFyYW1zLnN0YXR1c0lkICYmIG5leHRQcm9wcy5wYXJhbXMuc3RhdHVzSWQpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goZmV0Y2hTdGF0dXMobmV4dFByb3BzLnBhcmFtcy5zdGF0dXNJZCkpO1xuICAgIH1cblxuICAgIGlmIChuZXh0UHJvcHMuc3RhdHVzICYmIG5leHRQcm9wcy5zdGF0dXMuZ2V0KCdpZCcpICE9PSB0aGlzLnN0YXRlLmxvYWRlZFN0YXR1c0lkKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd01lZGlhOiBkZWZhdWx0TWVkaWFWaXNpYmlsaXR5KG5leHRQcm9wcy5zdGF0dXMpLCBsb2FkZWRTdGF0dXNJZDogbmV4dFByb3BzLnN0YXR1cy5nZXQoJ2lkJykgfSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlVG9nZ2xlTWVkaWFWaXNpYmlsaXR5ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93TWVkaWE6ICF0aGlzLnN0YXRlLnNob3dNZWRpYSB9KTtcbiAgfTtcblxuICBoYW5kbGVGYXZvdXJpdGVDbGljayA9IChzdGF0dXMpID0+IHtcbiAgICBjb25zdCB7IGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgc2lnbmVkSW4gfSA9IHRoaXMuY29udGV4dC5pZGVudGl0eTtcblxuICAgIGlmIChzaWduZWRJbikge1xuICAgICAgaWYgKHN0YXR1cy5nZXQoJ2Zhdm91cml0ZWQnKSkge1xuICAgICAgICBkaXNwYXRjaCh1bmZhdm91cml0ZShzdGF0dXMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc3BhdGNoKGZhdm91cml0ZShzdGF0dXMpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGF0Y2gob3Blbk1vZGFsKHtcbiAgICAgICAgbW9kYWxUeXBlOiAnSU5URVJBQ1RJT04nLFxuICAgICAgICBtb2RhbFByb3BzOiB7XG4gICAgICAgICAgdHlwZTogJ2Zhdm91cml0ZScsXG4gICAgICAgICAgYWNjb3VudElkOiBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pLFxuICAgICAgICAgIHVybDogc3RhdHVzLmdldCgndXJpJyksXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZVBpbiA9IChzdGF0dXMpID0+IHtcbiAgICBpZiAoc3RhdHVzLmdldCgncGlubmVkJykpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2godW5waW4oc3RhdHVzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2gocGluKHN0YXR1cykpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVSZXBseUNsaWNrID0gKHN0YXR1cykgPT4ge1xuICAgIGNvbnN0IHsgYXNrUmVwbHlDb25maXJtYXRpb24sIGRpc3BhdGNoLCBpbnRsIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgc2lnbmVkSW4gfSA9IHRoaXMuY29udGV4dC5pZGVudGl0eTtcblxuICAgIGlmIChzaWduZWRJbikge1xuICAgICAgaWYgKGFza1JlcGx5Q29uZmlybWF0aW9uKSB7XG4gICAgICAgIGRpc3BhdGNoKG9wZW5Nb2RhbCh7XG4gICAgICAgICAgbW9kYWxUeXBlOiAnQ09ORklSTScsXG4gICAgICAgICAgbW9kYWxQcm9wczoge1xuICAgICAgICAgICAgbWVzc2FnZTogaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnJlcGx5TWVzc2FnZSksXG4gICAgICAgICAgICBjb25maXJtOiBpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMucmVwbHlDb25maXJtKSxcbiAgICAgICAgICAgIG9uQ29uZmlybTogKCkgPT4gZGlzcGF0Y2gocmVwbHlDb21wb3NlKHN0YXR1cywgdGhpcy5jb250ZXh0LnJvdXRlci5oaXN0b3J5KSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlzcGF0Y2gocmVwbHlDb21wb3NlKHN0YXR1cywgdGhpcy5jb250ZXh0LnJvdXRlci5oaXN0b3J5KSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoKG9wZW5Nb2RhbCh7XG4gICAgICAgIG1vZGFsVHlwZTogJ0lOVEVSQUNUSU9OJyxcbiAgICAgICAgbW9kYWxQcm9wczoge1xuICAgICAgICAgIHR5cGU6ICdyZXBseScsXG4gICAgICAgICAgYWNjb3VudElkOiBzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2lkJ10pLFxuICAgICAgICAgIHVybDogc3RhdHVzLmdldCgndXJpJyksXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZU1vZGFsUmVibG9nID0gKHN0YXR1cywgcHJpdmFjeSkgPT4ge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2gocmVibG9nKHN0YXR1cywgcHJpdmFjeSkpO1xuICB9O1xuXG4gIGhhbmRsZVJlYmxvZ0NsaWNrID0gKHN0YXR1cywgZSkgPT4ge1xuICAgIGNvbnN0IHsgZGlzcGF0Y2ggfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBzaWduZWRJbiB9ID0gdGhpcy5jb250ZXh0LmlkZW50aXR5O1xuXG4gICAgaWYgKHNpZ25lZEluKSB7XG4gICAgICBpZiAoc3RhdHVzLmdldCgncmVibG9nZ2VkJykpIHtcbiAgICAgICAgZGlzcGF0Y2godW5yZWJsb2coc3RhdHVzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoKGUgJiYgZS5zaGlmdEtleSkgfHwgIWJvb3N0TW9kYWwpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZU1vZGFsUmVibG9nKHN0YXR1cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlzcGF0Y2goaW5pdEJvb3N0TW9kYWwoeyBzdGF0dXMsIG9uUmVibG9nOiB0aGlzLmhhbmRsZU1vZGFsUmVibG9nIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwYXRjaChvcGVuTW9kYWwoe1xuICAgICAgICBtb2RhbFR5cGU6ICdJTlRFUkFDVElPTicsXG4gICAgICAgIG1vZGFsUHJvcHM6IHtcbiAgICAgICAgICB0eXBlOiAncmVibG9nJyxcbiAgICAgICAgICBhY2NvdW50SWQ6IHN0YXR1cy5nZXRJbihbJ2FjY291bnQnLCAnaWQnXSksXG4gICAgICAgICAgdXJsOiBzdGF0dXMuZ2V0KCd1cmknKSxcbiAgICAgICAgfSxcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlQm9va21hcmtDbGljayA9IChzdGF0dXMpID0+IHtcbiAgICBpZiAoc3RhdHVzLmdldCgnYm9va21hcmtlZCcpKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHVuYm9va21hcmsoc3RhdHVzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYm9va21hcmsoc3RhdHVzKSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZURlbGV0ZUNsaWNrID0gKHN0YXR1cywgaGlzdG9yeSwgd2l0aFJlZHJhZnQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IHsgZGlzcGF0Y2gsIGludGwgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoIWRlbGV0ZU1vZGFsKSB7XG4gICAgICBkaXNwYXRjaChkZWxldGVTdGF0dXMoc3RhdHVzLmdldCgnaWQnKSwgaGlzdG9yeSwgd2l0aFJlZHJhZnQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGF0Y2gob3Blbk1vZGFsKHtcbiAgICAgICAgbW9kYWxUeXBlOiAnQ09ORklSTScsXG4gICAgICAgIG1vZGFsUHJvcHM6IHtcbiAgICAgICAgICBtZXNzYWdlOiBpbnRsLmZvcm1hdE1lc3NhZ2Uod2l0aFJlZHJhZnQgPyBtZXNzYWdlcy5yZWRyYWZ0TWVzc2FnZSA6IG1lc3NhZ2VzLmRlbGV0ZU1lc3NhZ2UpLFxuICAgICAgICAgIGNvbmZpcm06IGludGwuZm9ybWF0TWVzc2FnZSh3aXRoUmVkcmFmdCA/IG1lc3NhZ2VzLnJlZHJhZnRDb25maXJtIDogbWVzc2FnZXMuZGVsZXRlQ29uZmlybSksXG4gICAgICAgICAgb25Db25maXJtOiAoKSA9PiBkaXNwYXRjaChkZWxldGVTdGF0dXMoc3RhdHVzLmdldCgnaWQnKSwgaGlzdG9yeSwgd2l0aFJlZHJhZnQpKSxcbiAgICAgICAgfSxcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlRWRpdENsaWNrID0gKHN0YXR1cywgaGlzdG9yeSkgPT4ge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goZWRpdFN0YXR1cyhzdGF0dXMuZ2V0KCdpZCcpLCBoaXN0b3J5KSk7XG4gIH07XG5cbiAgaGFuZGxlRGlyZWN0Q2xpY2sgPSAoYWNjb3VudCwgcm91dGVyKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChkaXJlY3RDb21wb3NlKGFjY291bnQsIHJvdXRlcikpO1xuICB9O1xuXG4gIGhhbmRsZU1lbnRpb25DbGljayA9IChhY2NvdW50LCByb3V0ZXIpID0+IHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKG1lbnRpb25Db21wb3NlKGFjY291bnQsIHJvdXRlcikpO1xuICB9O1xuXG4gIGhhbmRsZU9wZW5NZWRpYSA9IChtZWRpYSwgaW5kZXgsIGxhbmcpID0+IHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKG9wZW5Nb2RhbCh7XG4gICAgICBtb2RhbFR5cGU6ICdNRURJQScsXG4gICAgICBtb2RhbFByb3BzOiB7IHN0YXR1c0lkOiB0aGlzLnByb3BzLnN0YXR1cy5nZXQoJ2lkJyksIG1lZGlhLCBpbmRleCwgbGFuZyB9LFxuICAgIH0pKTtcbiAgfTtcblxuICBoYW5kbGVPcGVuVmlkZW8gPSAobWVkaWEsIGxhbmcsIG9wdGlvbnMpID0+IHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKG9wZW5Nb2RhbCh7XG4gICAgICBtb2RhbFR5cGU6ICdWSURFTycsXG4gICAgICBtb2RhbFByb3BzOiB7IHN0YXR1c0lkOiB0aGlzLnByb3BzLnN0YXR1cy5nZXQoJ2lkJyksIG1lZGlhLCBsYW5nLCBvcHRpb25zIH0sXG4gICAgfSkpO1xuICB9O1xuXG4gIGhhbmRsZUhvdGtleU9wZW5NZWRpYSA9IGUgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKHN0YXR1cy5nZXQoJ21lZGlhX2F0dGFjaG1lbnRzJykuc2l6ZSA+IDApIHtcbiAgICAgIGlmIChzdGF0dXMuZ2V0SW4oWydtZWRpYV9hdHRhY2htZW50cycsIDAsICd0eXBlJ10pID09PSAndmlkZW8nKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlT3BlblZpZGVvKHN0YXR1cy5nZXRJbihbJ21lZGlhX2F0dGFjaG1lbnRzJywgMF0pLCB7IHN0YXJ0VGltZTogMCB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFuZGxlT3Blbk1lZGlhKHN0YXR1cy5nZXQoJ21lZGlhX2F0dGFjaG1lbnRzJyksIDApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBoYW5kbGVNdXRlQ2xpY2sgPSAoYWNjb3VudCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goaW5pdE11dGVNb2RhbChhY2NvdW50KSk7XG4gIH07XG5cbiAgaGFuZGxlQ29udmVyc2F0aW9uTXV0ZUNsaWNrID0gKHN0YXR1cykgPT4ge1xuICAgIGlmIChzdGF0dXMuZ2V0KCdtdXRlZCcpKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHVubXV0ZVN0YXR1cyhzdGF0dXMuZ2V0KCdpZCcpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2gobXV0ZVN0YXR1cyhzdGF0dXMuZ2V0KCdpZCcpKSk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZVRvZ2dsZUhpZGRlbiA9IChzdGF0dXMpID0+IHtcbiAgICBpZiAoc3RhdHVzLmdldCgnaGlkZGVuJykpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2gocmV2ZWFsU3RhdHVzKHN0YXR1cy5nZXQoJ2lkJykpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChoaWRlU3RhdHVzKHN0YXR1cy5nZXQoJ2lkJykpKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlVG9nZ2xlQWxsID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBhbmNlc3RvcnNJZHMsIGRlc2NlbmRhbnRzSWRzIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHN0YXR1c0lkcyA9IFtzdGF0dXMuZ2V0KCdpZCcpXS5jb25jYXQoYW5jZXN0b3JzSWRzLnRvSlMoKSwgZGVzY2VuZGFudHNJZHMudG9KUygpKTtcblxuICAgIGlmIChzdGF0dXMuZ2V0KCdoaWRkZW4nKSkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChyZXZlYWxTdGF0dXMoc3RhdHVzSWRzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goaGlkZVN0YXR1cyhzdGF0dXNJZHMpKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlVHJhbnNsYXRlID0gc3RhdHVzID0+IHtcbiAgICBjb25zdCB7IGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKHN0YXR1cy5nZXQoJ3RyYW5zbGF0aW9uJykpIHtcbiAgICAgIGRpc3BhdGNoKHVuZG9TdGF0dXNUcmFuc2xhdGlvbihzdGF0dXMuZ2V0KCdpZCcpLCBzdGF0dXMuZ2V0KCdwb2xsJykpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGF0Y2godHJhbnNsYXRlU3RhdHVzKHN0YXR1cy5nZXQoJ2lkJykpKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlQmxvY2tDbGljayA9IChzdGF0dXMpID0+IHtcbiAgICBjb25zdCB7IGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGFjY291bnQgPSBzdGF0dXMuZ2V0KCdhY2NvdW50Jyk7XG4gICAgZGlzcGF0Y2goaW5pdEJsb2NrTW9kYWwoYWNjb3VudCkpO1xuICB9O1xuXG4gIGhhbmRsZVJlcG9ydCA9IChzdGF0dXMpID0+IHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGluaXRSZXBvcnQoc3RhdHVzLmdldCgnYWNjb3VudCcpLCBzdGF0dXMpKTtcbiAgfTtcblxuICBoYW5kbGVFbWJlZCA9IChzdGF0dXMpID0+IHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKG9wZW5Nb2RhbCh7XG4gICAgICBtb2RhbFR5cGU6ICdFTUJFRCcsXG4gICAgICBtb2RhbFByb3BzOiB7IGlkOiBzdGF0dXMuZ2V0KCdpZCcpIH0sXG4gICAgfSkpO1xuICB9O1xuXG4gIGhhbmRsZVVubXV0ZUNsaWNrID0gYWNjb3VudCA9PiB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh1bm11dGVBY2NvdW50KGFjY291bnQuZ2V0KCdpZCcpKSk7XG4gIH07XG5cbiAgaGFuZGxlVW5ibG9ja0NsaWNrID0gYWNjb3VudCA9PiB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh1bmJsb2NrQWNjb3VudChhY2NvdW50LmdldCgnaWQnKSkpO1xuICB9O1xuXG4gIGhhbmRsZUJsb2NrRG9tYWluQ2xpY2sgPSBkb21haW4gPT4ge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2gob3Blbk1vZGFsKHtcbiAgICAgIG1vZGFsVHlwZTogJ0NPTkZJUk0nLFxuICAgICAgbW9kYWxQcm9wczoge1xuICAgICAgICBtZXNzYWdlOiA8Rm9ybWF0dGVkTWVzc2FnZSBpZD0nY29uZmlybWF0aW9ucy5kb21haW5fYmxvY2subWVzc2FnZScgZGVmYXVsdE1lc3NhZ2U9J0FyZSB5b3UgcmVhbGx5LCByZWFsbHkgc3VyZSB5b3Ugd2FudCB0byBibG9jayB0aGUgZW50aXJlIHtkb21haW59PyBJbiBtb3N0IGNhc2VzIGEgZmV3IHRhcmdldGVkIGJsb2NrcyBvciBtdXRlcyBhcmUgc3VmZmljaWVudCBhbmQgcHJlZmVyYWJsZS4gWW91IHdpbGwgbm90IHNlZSBjb250ZW50IGZyb20gdGhhdCBkb21haW4gaW4gYW55IHB1YmxpYyB0aW1lbGluZXMgb3IgeW91ciBub3RpZmljYXRpb25zLiBZb3VyIGZvbGxvd2VycyBmcm9tIHRoYXQgZG9tYWluIHdpbGwgYmUgcmVtb3ZlZC4nIHZhbHVlcz17eyBkb21haW46IDxzdHJvbmc+e2RvbWFpbn08L3N0cm9uZz4gfX0gLz4sXG4gICAgICAgIGNvbmZpcm06IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmJsb2NrRG9tYWluQ29uZmlybSksXG4gICAgICAgIG9uQ29uZmlybTogKCkgPT4gdGhpcy5wcm9wcy5kaXNwYXRjaChibG9ja0RvbWFpbihkb21haW4pKSxcbiAgICAgIH0sXG4gICAgfSkpO1xuICB9O1xuXG4gIGhhbmRsZVVuYmxvY2tEb21haW5DbGljayA9IGRvbWFpbiA9PiB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh1bmJsb2NrRG9tYWluKGRvbWFpbikpO1xuICB9O1xuXG5cbiAgaGFuZGxlSG90a2V5TW92ZVVwID0gKCkgPT4ge1xuICAgIHRoaXMuaGFuZGxlTW92ZVVwKHRoaXMucHJvcHMuc3RhdHVzLmdldCgnaWQnKSk7XG4gIH07XG5cbiAgaGFuZGxlSG90a2V5TW92ZURvd24gPSAoKSA9PiB7XG4gICAgdGhpcy5oYW5kbGVNb3ZlRG93bih0aGlzLnByb3BzLnN0YXR1cy5nZXQoJ2lkJykpO1xuICB9O1xuXG4gIGhhbmRsZUhvdGtleVJlcGx5ID0gZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuaGFuZGxlUmVwbHlDbGljayh0aGlzLnByb3BzLnN0YXR1cyk7XG4gIH07XG5cbiAgaGFuZGxlSG90a2V5RmF2b3VyaXRlID0gKCkgPT4ge1xuICAgIHRoaXMuaGFuZGxlRmF2b3VyaXRlQ2xpY2sodGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9O1xuXG4gIGhhbmRsZUhvdGtleUJvb3N0ID0gKCkgPT4ge1xuICAgIHRoaXMuaGFuZGxlUmVibG9nQ2xpY2sodGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9O1xuXG4gIGhhbmRsZUhvdGtleU1lbnRpb24gPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5oYW5kbGVNZW50aW9uQ2xpY2sodGhpcy5wcm9wcy5zdGF0dXMuZ2V0KCdhY2NvdW50JykpO1xuICB9O1xuXG4gIGhhbmRsZUhvdGtleU9wZW5Qcm9maWxlID0gKCkgPT4ge1xuICAgIHRoaXMuY29udGV4dC5yb3V0ZXIuaGlzdG9yeS5wdXNoKGAvQCR7dGhpcy5wcm9wcy5zdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ2FjY3QnXSl9YCk7XG4gIH07XG5cbiAgaGFuZGxlSG90a2V5VG9nZ2xlSGlkZGVuID0gKCkgPT4ge1xuICAgIHRoaXMuaGFuZGxlVG9nZ2xlSGlkZGVuKHRoaXMucHJvcHMuc3RhdHVzKTtcbiAgfTtcblxuICBoYW5kbGVIb3RrZXlUb2dnbGVTZW5zaXRpdmUgPSAoKSA9PiB7XG4gICAgdGhpcy5oYW5kbGVUb2dnbGVNZWRpYVZpc2liaWxpdHkoKTtcbiAgfTtcblxuICBoYW5kbGVNb3ZlVXAgPSBpZCA9PiB7XG4gICAgY29uc3QgeyBzdGF0dXMsIGFuY2VzdG9yc0lkcywgZGVzY2VuZGFudHNJZHMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoaWQgPT09IHN0YXR1cy5nZXQoJ2lkJykpIHtcbiAgICAgIHRoaXMuX3NlbGVjdENoaWxkKGFuY2VzdG9yc0lkcy5zaXplIC0gMSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpbmRleCA9IGFuY2VzdG9yc0lkcy5pbmRleE9mKGlkKTtcblxuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBpbmRleCA9IGRlc2NlbmRhbnRzSWRzLmluZGV4T2YoaWQpO1xuICAgICAgICB0aGlzLl9zZWxlY3RDaGlsZChhbmNlc3RvcnNJZHMuc2l6ZSArIGluZGV4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdENoaWxkKGluZGV4IC0gMSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZU1vdmVEb3duID0gaWQgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBhbmNlc3RvcnNJZHMsIGRlc2NlbmRhbnRzSWRzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKGlkID09PSBzdGF0dXMuZ2V0KCdpZCcpKSB7XG4gICAgICB0aGlzLl9zZWxlY3RDaGlsZChhbmNlc3RvcnNJZHMuc2l6ZSArIDEsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGluZGV4ID0gYW5jZXN0b3JzSWRzLmluZGV4T2YoaWQpO1xuXG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIGluZGV4ID0gZGVzY2VuZGFudHNJZHMuaW5kZXhPZihpZCk7XG4gICAgICAgIHRoaXMuX3NlbGVjdENoaWxkKGFuY2VzdG9yc0lkcy5zaXplICsgaW5kZXggKyAyLCBmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zZWxlY3RDaGlsZChpbmRleCArIDEsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgX3NlbGVjdENoaWxkIChpbmRleCwgYWxpZ25fdG9wKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5ub2RlO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmZvY3VzYWJsZScpW2luZGV4XTtcblxuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBpZiAoYWxpZ25fdG9wICYmIGNvbnRhaW5lci5zY3JvbGxUb3AgPiBlbGVtZW50Lm9mZnNldFRvcCkge1xuICAgICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KHRydWUpO1xuICAgICAgfSBlbHNlIGlmICghYWxpZ25fdG9wICYmIGNvbnRhaW5lci5zY3JvbGxUb3AgKyBjb250YWluZXIuY2xpZW50SGVpZ2h0IDwgZWxlbWVudC5vZmZzZXRUb3AgKyBlbGVtZW50Lm9mZnNldEhlaWdodCkge1xuICAgICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJDaGlsZHJlbiAobGlzdCwgYW5jZXN0b3JzKSB7XG4gICAgY29uc3QgeyBwYXJhbXM6IHsgc3RhdHVzSWQgfSB9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiBsaXN0Lm1hcCgoaWQsIGkpID0+IChcbiAgICAgIDxTdGF0dXNDb250YWluZXJcbiAgICAgICAga2V5PXtpZH1cbiAgICAgICAgaWQ9e2lkfVxuICAgICAgICBvbk1vdmVVcD17dGhpcy5oYW5kbGVNb3ZlVXB9XG4gICAgICAgIG9uTW92ZURvd249e3RoaXMuaGFuZGxlTW92ZURvd259XG4gICAgICAgIGNvbnRleHRUeXBlPSd0aHJlYWQnXG4gICAgICAgIHByZXZpb3VzSWQ9e2kgPiAwID8gbGlzdC5nZXQoaSAtIDEpIDogdW5kZWZpbmVkfVxuICAgICAgICBuZXh0SWQ9e2xpc3QuZ2V0KGkgKyAxKSB8fCAoYW5jZXN0b3JzICYmIHN0YXR1c0lkKX1cbiAgICAgICAgcm9vdElkPXtzdGF0dXNJZH1cbiAgICAgIC8+XG4gICAgKSk7XG4gIH1cblxuICBzZXRSZWYgPSBjID0+IHtcbiAgICB0aGlzLm5vZGUgPSBjO1xuICB9O1xuXG4gIF9zY3JvbGxTdGF0dXNJbnRvVmlldyAoKSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIG11bHRpQ29sdW1uIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKHN0YXR1cykge1xuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHRoaXMubm9kZT8ucXVlcnlTZWxlY3RvcignLmRldGFpbGVkLXN0YXR1c19fd3JhcHBlcicpPy5zY3JvbGxJbnRvVmlldyh0cnVlKTtcblxuICAgICAgICAvLyBJbiB0aGUgc2luZ2xlLWNvbHVtbiBpbnRlcmZhY2UsIGBzY3JvbGxJbnRvVmlld2Agd2lsbCBwdXQgdGhlIHBvc3QgYmVoaW5kIHRoZSBoZWFkZXIsXG4gICAgICAgIC8vIHNvIGNvbXBlbnNhdGUgZm9yIHRoYXQuXG4gICAgICAgIGlmICghbXVsdGlDb2x1bW4pIHtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29sdW1uLWhlYWRlcl9fd3JhcHBlcicpPy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKT8uYm90dG9tO1xuICAgICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbGluZ0VsZW1lbnQgPSBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICBzY3JvbGxpbmdFbGVtZW50LnNjcm9sbEJ5KDAsIC1vZmZzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHMpIHtcbiAgICBjb25zdCB7IHN0YXR1cywgYW5jZXN0b3JzSWRzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKHN0YXR1cyAmJiAoYW5jZXN0b3JzSWRzLnNpemUgPiBwcmV2UHJvcHMuYW5jZXN0b3JzSWRzLnNpemUgfHwgcHJldlByb3BzLnN0YXR1cz8uZ2V0KCdpZCcpICE9PSBzdGF0dXMuZ2V0KCdpZCcpKSkge1xuICAgICAgdGhpcy5fc2Nyb2xsU3RhdHVzSW50b1ZpZXcoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG4gICAgZGV0YWNoRnVsbHNjcmVlbkxpc3RlbmVyKHRoaXMub25GdWxsU2NyZWVuQ2hhbmdlKTtcbiAgfVxuXG4gIG9uRnVsbFNjcmVlbkNoYW5nZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgZnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuKCkgfSk7XG4gIH07XG5cbiAgc2hvdWxkVXBkYXRlU2Nyb2xsID0gKHByZXZSb3V0ZXJQcm9wcywgeyBsb2NhdGlvbiB9KSA9PiB7XG4gICAgLy8gRG8gbm90IGNoYW5nZSBzY3JvbGwgd2hlbiBvcGVuaW5nIGEgbW9kYWxcbiAgICBpZiAobG9jYXRpb24uc3RhdGU/Lm1hc3RvZG9uTW9kYWxLZXkgIT09IHByZXZSb3V0ZXJQcm9wcz8ubG9jYXRpb24/LnN0YXRlPy5tYXN0b2Rvbk1vZGFsS2V5KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gU2Nyb2xsIHRvIGZvY3VzZWQgcG9zdCBpZiBpdCBpcyBsb2FkZWRcbiAgICBjb25zdCBjaGlsZCA9IHRoaXMubm9kZT8ucXVlcnlTZWxlY3RvcignLmRldGFpbGVkLXN0YXR1c19fd3JhcHBlcicpO1xuICAgIGlmIChjaGlsZCkge1xuICAgICAgcmV0dXJuIFswLCBjaGlsZC5vZmZzZXRUb3BdO1xuICAgIH1cblxuICAgIC8vIERvIG5vdCBzY3JvbGwgb3RoZXJ3aXNlLCBgY29tcG9uZW50RGlkVXBkYXRlYCB3aWxsIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHJlbmRlciAoKSB7XG4gICAgbGV0IGFuY2VzdG9ycywgZGVzY2VuZGFudHM7XG4gICAgY29uc3QgeyBpc0xvYWRpbmcsIHN0YXR1cywgYW5jZXN0b3JzSWRzLCBkZXNjZW5kYW50c0lkcywgaW50bCwgZG9tYWluLCBtdWx0aUNvbHVtbiwgcGljdHVyZUluUGljdHVyZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGZ1bGxzY3JlZW4gfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29sdW1uPlxuICAgICAgICAgIDxMb2FkaW5nSW5kaWNhdG9yIC8+XG4gICAgICAgIDwvQ29sdW1uPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QnVuZGxlQ29sdW1uRXJyb3IgbXVsdGlDb2x1bW49e211bHRpQ29sdW1ufSBlcnJvclR5cGU9J3JvdXRpbmcnIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChhbmNlc3RvcnNJZHMgJiYgYW5jZXN0b3JzSWRzLnNpemUgPiAwKSB7XG4gICAgICBhbmNlc3RvcnMgPSA8Pnt0aGlzLnJlbmRlckNoaWxkcmVuKGFuY2VzdG9yc0lkcywgdHJ1ZSl9PC8+O1xuICAgIH1cblxuICAgIGlmIChkZXNjZW5kYW50c0lkcyAmJiBkZXNjZW5kYW50c0lkcy5zaXplID4gMCkge1xuICAgICAgZGVzY2VuZGFudHMgPSA8Pnt0aGlzLnJlbmRlckNoaWxkcmVuKGRlc2NlbmRhbnRzSWRzKX08Lz47XG4gICAgfVxuXG4gICAgY29uc3QgaXNMb2NhbCA9IHN0YXR1cy5nZXRJbihbJ2FjY291bnQnLCAnYWNjdCddLCAnJykuaW5kZXhPZignQCcpID09PSAtMTtcbiAgICBjb25zdCBpc0luZGV4YWJsZSA9ICFzdGF0dXMuZ2V0SW4oWydhY2NvdW50JywgJ25vaW5kZXgnXSk7XG5cbiAgICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICAgIG1vdmVVcDogdGhpcy5oYW5kbGVIb3RrZXlNb3ZlVXAsXG4gICAgICBtb3ZlRG93bjogdGhpcy5oYW5kbGVIb3RrZXlNb3ZlRG93bixcbiAgICAgIHJlcGx5OiB0aGlzLmhhbmRsZUhvdGtleVJlcGx5LFxuICAgICAgZmF2b3VyaXRlOiB0aGlzLmhhbmRsZUhvdGtleUZhdm91cml0ZSxcbiAgICAgIGJvb3N0OiB0aGlzLmhhbmRsZUhvdGtleUJvb3N0LFxuICAgICAgbWVudGlvbjogdGhpcy5oYW5kbGVIb3RrZXlNZW50aW9uLFxuICAgICAgb3BlblByb2ZpbGU6IHRoaXMuaGFuZGxlSG90a2V5T3BlblByb2ZpbGUsXG4gICAgICB0b2dnbGVIaWRkZW46IHRoaXMuaGFuZGxlSG90a2V5VG9nZ2xlSGlkZGVuLFxuICAgICAgdG9nZ2xlU2Vuc2l0aXZlOiB0aGlzLmhhbmRsZUhvdGtleVRvZ2dsZVNlbnNpdGl2ZSxcbiAgICAgIG9wZW5NZWRpYTogdGhpcy5oYW5kbGVIb3RrZXlPcGVuTWVkaWEsXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Q29sdW1uIGJpbmRUb0RvY3VtZW50PXshbXVsdGlDb2x1bW59IGxhYmVsPXtpbnRsLmZvcm1hdE1lc3NhZ2UobWVzc2FnZXMuZGV0YWlsZWRTdGF0dXMpfT5cbiAgICAgICAgPENvbHVtbkhlYWRlclxuICAgICAgICAgIHNob3dCYWNrQnV0dG9uXG4gICAgICAgICAgbXVsdGlDb2x1bW49e211bHRpQ29sdW1ufVxuICAgICAgICAgIGV4dHJhQnV0dG9uPXsoXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3NOYW1lPSdjb2x1bW4taGVhZGVyX19idXR0b24nIHRpdGxlPXtpbnRsLmZvcm1hdE1lc3NhZ2Uoc3RhdHVzLmdldCgnaGlkZGVuJykgPyBtZXNzYWdlcy5yZXZlYWxBbGwgOiBtZXNzYWdlcy5oaWRlQWxsKX0gYXJpYS1sYWJlbD17aW50bC5mb3JtYXRNZXNzYWdlKHN0YXR1cy5nZXQoJ2hpZGRlbicpID8gbWVzc2FnZXMucmV2ZWFsQWxsIDogbWVzc2FnZXMuaGlkZUFsbCl9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlVG9nZ2xlQWxsfT48SWNvbiBpZD17c3RhdHVzLmdldCgnaGlkZGVuJykgPyAnZXllLXNsYXNoJyA6ICdleWUnfSAvPjwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPFNjcm9sbENvbnRhaW5lciBzY3JvbGxLZXk9J3RocmVhZCcgc2hvdWxkVXBkYXRlU2Nyb2xsPXt0aGlzLnNob3VsZFVwZGF0ZVNjcm9sbH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3Njcm9sbGFibGUnLCB7IGZ1bGxzY3JlZW4gfSl9IHJlZj17dGhpcy5zZXRSZWZ9PlxuICAgICAgICAgICAge2FuY2VzdG9yc31cblxuICAgICAgICAgICAgPEhvdEtleXMgaGFuZGxlcnM9e2hhbmRsZXJzfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2ZvY3VzYWJsZScsICdkZXRhaWxlZC1zdGF0dXNfX3dyYXBwZXInLCBgZGV0YWlsZWQtc3RhdHVzX193cmFwcGVyLSR7c3RhdHVzLmdldCgndmlzaWJpbGl0eScpfWApfSB0YWJJbmRleD17MH0gYXJpYS1sYWJlbD17dGV4dEZvclNjcmVlblJlYWRlcihpbnRsLCBzdGF0dXMsIGZhbHNlKX0+XG4gICAgICAgICAgICAgICAgPERldGFpbGVkU3RhdHVzXG4gICAgICAgICAgICAgICAgICBrZXk9e2BkZXRhaWxzLSR7c3RhdHVzLmdldCgnaWQnKX1gfVxuICAgICAgICAgICAgICAgICAgc3RhdHVzPXtzdGF0dXN9XG4gICAgICAgICAgICAgICAgICBvbk9wZW5WaWRlbz17dGhpcy5oYW5kbGVPcGVuVmlkZW99XG4gICAgICAgICAgICAgICAgICBvbk9wZW5NZWRpYT17dGhpcy5oYW5kbGVPcGVuTWVkaWF9XG4gICAgICAgICAgICAgICAgICBvblRvZ2dsZUhpZGRlbj17dGhpcy5oYW5kbGVUb2dnbGVIaWRkZW59XG4gICAgICAgICAgICAgICAgICBvblRyYW5zbGF0ZT17dGhpcy5oYW5kbGVUcmFuc2xhdGV9XG4gICAgICAgICAgICAgICAgICBkb21haW49e2RvbWFpbn1cbiAgICAgICAgICAgICAgICAgIHNob3dNZWRpYT17dGhpcy5zdGF0ZS5zaG93TWVkaWF9XG4gICAgICAgICAgICAgICAgICBvblRvZ2dsZU1lZGlhVmlzaWJpbGl0eT17dGhpcy5oYW5kbGVUb2dnbGVNZWRpYVZpc2liaWxpdHl9XG4gICAgICAgICAgICAgICAgICBwaWN0dXJlSW5QaWN0dXJlPXtwaWN0dXJlSW5QaWN0dXJlfVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICA8QWN0aW9uQmFyXG4gICAgICAgICAgICAgICAgICBrZXk9e2BhY3Rpb24tYmFyLSR7c3RhdHVzLmdldCgnaWQnKX1gfVxuICAgICAgICAgICAgICAgICAgc3RhdHVzPXtzdGF0dXN9XG4gICAgICAgICAgICAgICAgICBvblJlcGx5PXt0aGlzLmhhbmRsZVJlcGx5Q2xpY2t9XG4gICAgICAgICAgICAgICAgICBvbkZhdm91cml0ZT17dGhpcy5oYW5kbGVGYXZvdXJpdGVDbGlja31cbiAgICAgICAgICAgICAgICAgIG9uUmVibG9nPXt0aGlzLmhhbmRsZVJlYmxvZ0NsaWNrfVxuICAgICAgICAgICAgICAgICAgb25Cb29rbWFyaz17dGhpcy5oYW5kbGVCb29rbWFya0NsaWNrfVxuICAgICAgICAgICAgICAgICAgb25EZWxldGU9e3RoaXMuaGFuZGxlRGVsZXRlQ2xpY2t9XG4gICAgICAgICAgICAgICAgICBvbkVkaXQ9e3RoaXMuaGFuZGxlRWRpdENsaWNrfVxuICAgICAgICAgICAgICAgICAgb25EaXJlY3Q9e3RoaXMuaGFuZGxlRGlyZWN0Q2xpY2t9XG4gICAgICAgICAgICAgICAgICBvbk1lbnRpb249e3RoaXMuaGFuZGxlTWVudGlvbkNsaWNrfVxuICAgICAgICAgICAgICAgICAgb25NdXRlPXt0aGlzLmhhbmRsZU11dGVDbGlja31cbiAgICAgICAgICAgICAgICAgIG9uVW5tdXRlPXt0aGlzLmhhbmRsZVVubXV0ZUNsaWNrfVxuICAgICAgICAgICAgICAgICAgb25NdXRlQ29udmVyc2F0aW9uPXt0aGlzLmhhbmRsZUNvbnZlcnNhdGlvbk11dGVDbGlja31cbiAgICAgICAgICAgICAgICAgIG9uQmxvY2s9e3RoaXMuaGFuZGxlQmxvY2tDbGlja31cbiAgICAgICAgICAgICAgICAgIG9uVW5ibG9jaz17dGhpcy5oYW5kbGVVbmJsb2NrQ2xpY2t9XG4gICAgICAgICAgICAgICAgICBvbkJsb2NrRG9tYWluPXt0aGlzLmhhbmRsZUJsb2NrRG9tYWluQ2xpY2t9XG4gICAgICAgICAgICAgICAgICBvblVuYmxvY2tEb21haW49e3RoaXMuaGFuZGxlVW5ibG9ja0RvbWFpbkNsaWNrfVxuICAgICAgICAgICAgICAgICAgb25SZXBvcnQ9e3RoaXMuaGFuZGxlUmVwb3J0fVxuICAgICAgICAgICAgICAgICAgb25QaW49e3RoaXMuaGFuZGxlUGlufVxuICAgICAgICAgICAgICAgICAgb25FbWJlZD17dGhpcy5oYW5kbGVFbWJlZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvSG90S2V5cz5cblxuICAgICAgICAgICAge2Rlc2NlbmRhbnRzfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1Njcm9sbENvbnRhaW5lcj5cblxuICAgICAgICA8SGVsbWV0PlxuICAgICAgICAgIDx0aXRsZT57dGl0bGVGcm9tU3RhdHVzKGludGwsIHN0YXR1cyl9PC90aXRsZT5cbiAgICAgICAgICA8bWV0YSBuYW1lPSdyb2JvdHMnIGNvbnRlbnQ9eyhpc0xvY2FsICYmIGlzSW5kZXhhYmxlKSA/ICdhbGwnIDogJ25vaW5kZXgnfSAvPlxuICAgICAgICAgIDxsaW5rIHJlbD0nY2Fub25pY2FsJyBocmVmPXtzdGF0dXMuZ2V0KCd1cmwnKX0gLz5cbiAgICAgICAgPC9IZWxtZXQ+XG4gICAgICA8L0NvbHVtbj5cbiAgICApO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5qZWN0SW50bChjb25uZWN0KG1ha2VNYXBTdGF0ZVRvUHJvcHMpKFN0YXR1cykpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUtBO0FBSUE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQXVCQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBa0NBO0FBQ0E7QUFBQTtBQW1DQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFqYUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBMFRBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVBBO0FBQUE7QUFBQTtBQUFBO0FBVUE7QUFNQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFzQkE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFUQTtBQUFBO0FBQUE7QUFBQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFuQkE7QUFBQTtBQUFBO0FBQUE7QUFvQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQS9pQkE7QUFHQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTJoQkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/features/status/index.jsx\n");

/***/ })

}]);