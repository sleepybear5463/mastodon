(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ "./app/javascript/mastodon/components/admin/Dimension.jsx":
/*!****************************************************************!*\
  !*** ./app/javascript/mastodon/components/admin/Dimension.jsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Dimension; });\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.js\");\n/* harmony import */ var mastodon_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mastodon/api */ \"./app/javascript/mastodon/api.ts\");\n/* harmony import */ var mastodon_components_skeleton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mastodon/components/skeleton */ \"./app/javascript/mastodon/components/skeleton.tsx\");\n/* harmony import */ var mastodon_utils_numbers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mastodon/utils/numbers */ \"./app/javascript/mastodon/utils/numbers.ts\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__);\nvar _jsxFileName = \"/home/sleepybear/workspace/mastodon-sleepybear/app/javascript/mastodon/components/admin/Dimension.jsx\";\n\n\n\n\n\n\n\nclass Dimension extends react__WEBPACK_IMPORTED_MODULE_1__[\"PureComponent\"] {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loading: true,\n      data: null\n    };\n  }\n  componentDidMount() {\n    var {\n      start_at,\n      end_at,\n      dimension,\n      limit,\n      params\n    } = this.props;\n    Object(mastodon_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"])().post('/api/v1/admin/dimensions', {\n      keys: [dimension],\n      start_at,\n      end_at,\n      limit,\n      [dimension]: params\n    }).then(res => {\n      this.setState({\n        loading: false,\n        data: res.data\n      });\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n  render() {\n    var {\n      label,\n      limit\n    } = this.props;\n    var {\n      loading,\n      data\n    } = this.state;\n    var content;\n    if (loading) {\n      content = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"table\", {\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"tbody\", {\n          children: Array.from(Array(limit)).map((_, i) => /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"tr\", {\n            className: \"dimension__item\",\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"td\", {\n              className: \"dimension__item__key\",\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(mastodon_components_skeleton__WEBPACK_IMPORTED_MODULE_4__[\"Skeleton\"], {\n                width: 100\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"td\", {\n              className: \"dimension__item__value\",\n              children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(mastodon_components_skeleton__WEBPACK_IMPORTED_MODULE_4__[\"Skeleton\"], {\n                width: 60\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this);\n    } else {\n      var sum = data[0].data.reduce((sum, cur) => sum + cur.value * 1, 0);\n      content = /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"table\", {\n        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"tbody\", {\n          children: data[0].data.map(item => /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"tr\", {\n            className: \"dimension__item\",\n            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"td\", {\n              className: \"dimension__item__key\",\n              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"span\", {\n                className: \"dimension__item__indicator dimension__item__indicator--\" + Object(mastodon_utils_numbers__WEBPACK_IMPORTED_MODULE_5__[\"roundTo10\"])(item.value * 1 / sum * 100)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"span\", {\n                title: item.key,\n                children: item.human_key\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"td\", {\n              className: \"dimension__item__value\",\n              children: typeof item.human_value !== 'undefined' ? item.human_value : /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(react_intl__WEBPACK_IMPORTED_MODULE_2__[\"FormattedNumber\"], {\n                value: item.value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 81\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)]\n          }, item.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"div\", {\n      className: \"dimension\",\n      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxDEV\"])(\"h4\", {\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), content]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n}\nDimension.propTypes = {\n  dimension: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  start_at: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  end_at: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  limit: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.number.isRequired,\n  label: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.string.isRequired,\n  params: prop_types__WEBPACK_IMPORTED_MODULE_0___default.a.object\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9jb21wb25lbnRzL2FkbWluL0RpbWVuc2lvbi5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC9tYXN0b2Rvbi9jb21wb25lbnRzL2FkbWluL0RpbWVuc2lvbi5qc3g/NTI4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRm9ybWF0dGVkTnVtYmVyIH0gZnJvbSAncmVhY3QtaW50bCc7XG5cbmltcG9ydCBhcGkgZnJvbSAnbWFzdG9kb24vYXBpJztcbmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSAnbWFzdG9kb24vY29tcG9uZW50cy9za2VsZXRvbic7XG5pbXBvcnQgeyByb3VuZFRvMTAgfSBmcm9tICdtYXN0b2Rvbi91dGlscy9udW1iZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGltZW5zaW9uIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBkaW1lbnNpb246IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBzdGFydF9hdDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGVuZF9hdDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGxpbWl0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBwYXJhbXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIH07XG5cbiAgc3RhdGUgPSB7XG4gICAgbG9hZGluZzogdHJ1ZSxcbiAgICBkYXRhOiBudWxsLFxuICB9O1xuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBjb25zdCB7IHN0YXJ0X2F0LCBlbmRfYXQsIGRpbWVuc2lvbiwgbGltaXQsIHBhcmFtcyB9ID0gdGhpcy5wcm9wcztcblxuICAgIGFwaSgpLnBvc3QoJy9hcGkvdjEvYWRtaW4vZGltZW5zaW9ucycsIHsga2V5czogW2RpbWVuc2lvbl0sIHN0YXJ0X2F0LCBlbmRfYXQsIGxpbWl0LCBbZGltZW5zaW9uXTogcGFyYW1zIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZGF0YTogcmVzLmRhdGEsXG4gICAgICB9KTtcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7IGxhYmVsLCBsaW1pdCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGxvYWRpbmcsIGRhdGEgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBsZXQgY29udGVudDtcblxuICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICBjb250ZW50ID0gKFxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAge0FycmF5LmZyb20oQXJyYXkobGltaXQpKS5tYXAoKF8sIGkpID0+IChcbiAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT0nZGltZW5zaW9uX19pdGVtJyBrZXk9e2l9PlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9J2RpbWVuc2lvbl9faXRlbV9fa2V5Jz5cbiAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB3aWR0aD17MTAwfSAvPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPSdkaW1lbnNpb25fX2l0ZW1fX3ZhbHVlJz5cbiAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB3aWR0aD17NjB9IC8+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdW0gPSBkYXRhWzBdLmRhdGEucmVkdWNlKChzdW0sIGN1cikgPT4gc3VtICsgKGN1ci52YWx1ZSAqIDEpLCAwKTtcblxuICAgICAgY29udGVudCA9IChcbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIHtkYXRhWzBdLmRhdGEubWFwKGl0ZW0gPT4gKFxuICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPSdkaW1lbnNpb25fX2l0ZW0nIGtleT17aXRlbS5rZXl9PlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9J2RpbWVuc2lvbl9faXRlbV9fa2V5Jz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YGRpbWVuc2lvbl9faXRlbV9faW5kaWNhdG9yIGRpbWVuc2lvbl9faXRlbV9faW5kaWNhdG9yLS0ke3JvdW5kVG8xMCgoKGl0ZW0udmFsdWUgKiAxKSAvIHN1bSkgKiAxMDApfWB9IC8+XG4gICAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT17aXRlbS5rZXl9PntpdGVtLmh1bWFuX2tleX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC90ZD5cblxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9J2RpbWVuc2lvbl9faXRlbV9fdmFsdWUnPlxuICAgICAgICAgICAgICAgICAge3R5cGVvZiBpdGVtLmh1bWFuX3ZhbHVlICE9PSAndW5kZWZpbmVkJyA/IGl0ZW0uaHVtYW5fdmFsdWUgOiA8Rm9ybWF0dGVkTnVtYmVyIHZhbHVlPXtpdGVtLnZhbHVlfSAvPn1cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdkaW1lbnNpb24nPlxuICAgICAgICA8aDQ+e2xhYmVsfTwvaDQ+XG5cbiAgICAgICAge2NvbnRlbnR9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVBBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBUkE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFyRkE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/javascript/mastodon/components/admin/Dimension.jsx\n");

/***/ })

}]);